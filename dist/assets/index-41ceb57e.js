var mw=Object.defineProperty;var gw=(e,t,n)=>t in e?mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>(gw(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fi={},yw={get exports(){return fi},set exports(e){fi=e}},Ul={},P={},vw={get exports(){return P},set exports(e){P=e}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=Symbol.for("react.element"),ww=Symbol.for("react.portal"),xw=Symbol.for("react.fragment"),Sw=Symbol.for("react.strict_mode"),Ew=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Cw=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),Nw=Symbol.for("react.memo"),Pw=Symbol.for("react.lazy"),Sf=Symbol.iterator;function Mw(e){return e===null||typeof e!="object"?null:(e=Sf&&e[Sf]||e["@@iterator"],typeof e=="function"?e:null)}var cm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,fm={};function Io(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||cm}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hm(){}hm.prototype=Io.prototype;function Jc(e,t,n){this.props=e,this.context=t,this.refs=fm,this.updater=n||cm}var ed=Jc.prototype=new hm;ed.constructor=Jc;dm(ed,Io.prototype);ed.isPureReactComponent=!0;var Ef=Array.isArray,pm=Object.prototype.hasOwnProperty,td={current:null},mm={key:!0,ref:!0,__self:!0,__source:!0};function gm(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)pm.call(t,r)&&!mm.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ji,type:e,key:i,ref:s,props:o,_owner:td.current}}function Iw(e,t){return{$$typeof:ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ji}function Tw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bf=/\/+/g;function Ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tw(""+e.key):t.toString(36)}function Hs(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ji:case ww:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ya(s,0):r,Ef(o)?(n="",e!=null&&(n=e.replace(bf,"$&/")+"/"),Hs(o,t,n,"",function(u){return u})):o!=null&&(nd(o)&&(o=Iw(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(bf,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ef(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ya(i,l);s+=Hs(i,t,n,a,o)}else if(a=Mw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ya(i,l++),s+=Hs(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function hs(e,t,n){if(e==null)return e;var r=[],o=0;return Hs(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Dw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},js={transition:null},$w={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:js,ReactCurrentOwner:td};function ym(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:hs,forEach:function(e,t,n){hs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hs(e,function(){t++}),t},toArray:function(e){return hs(e,function(t){return t})||[]},only:function(e){if(!nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Io;de.Fragment=xw;de.Profiler=Ew;de.PureComponent=Jc;de.StrictMode=Sw;de.Suspense=_w;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;de.act=ym;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dm({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=td.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)pm.call(t,a)&&!mm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ji,type:e.type,key:o,ref:i,props:r,_owner:s}};de.createContext=function(e){return e={$$typeof:kw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bw,_context:e},e.Consumer=e};de.createElement=gm;de.createFactory=function(e){var t=gm.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Cw,render:e}};de.isValidElement=nd;de.lazy=function(e){return{$$typeof:Pw,_payload:{_status:-1,_result:e},_init:Dw}};de.memo=function(e,t){return{$$typeof:Nw,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=js.transition;js.transition={};try{e()}finally{js.transition=t}};de.unstable_act=ym;de.useCallback=function(e,t){return ut.current.useCallback(e,t)};de.useContext=function(e){return ut.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};de.useEffect=function(e,t){return ut.current.useEffect(e,t)};de.useId=function(){return ut.current.useId()};de.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return ut.current.useMemo(e,t)};de.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};de.useRef=function(e){return ut.current.useRef(e)};de.useState=function(e){return ut.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return ut.current.useTransition()};de.version="18.3.1";(function(e){e.exports=de})(vw);const an=um(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=P,Rw=Symbol.for("react.element"),zw=Symbol.for("react.fragment"),Ow=Object.prototype.hasOwnProperty,Aw=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fw={key:!0,ref:!0,__self:!0,__source:!0};function vm(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Ow.call(t,r)&&!Fw.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Rw,type:e,key:i,ref:s,props:o,_owner:Aw.current}}Ul.Fragment=zw;Ul.jsx=vm;Ul.jsxs=vm;(function(e){e.exports=Ul})(yw);const ft=fi.Fragment,x=fi.jsx,H=fi.jsxs;function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Bw={value:()=>{}};function Yl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vs(n)}function Vs(e){this._=e}function Hw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vs.prototype=Yl.prototype={constructor:Vs,on:function(e,t){var n=this._,r=Hw(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=jw(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=kf(n[o],e.name,t);else if(t==null)for(o in n)n[o]=kf(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function jw(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function kf(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Bw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Bu="http://www.w3.org/1999/xhtml";const Cf={svg:"http://www.w3.org/2000/svg",xhtml:Bu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cf.hasOwnProperty(t)?{space:Cf[t],local:e}:e}function Vw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bu&&t.documentElement.namespaceURI===Bu?t.createElement(e):t.createElementNS(n,e)}}function Ww(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wm(e){var t=Xl(e);return(t.local?Ww:Vw)(t)}function Uw(){}function rd(e){return e==null?Uw:function(){return this.querySelector(e)}}function Yw(e){typeof e!="function"&&(e=rd(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,c=0;c<s;++c)(a=i[c])&&(u=e.call(a,a.__data__,c,i))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new _t(r,this._parents)}function Xw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gw(){return[]}function xm(e){return e==null?Gw:function(){return this.querySelectorAll(e)}}function Kw(e){return function(){return Xw(e.apply(this,arguments))}}function Qw(e){typeof e=="function"?e=Kw(e):e=xm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new _t(r,o)}function Sm(e){return function(){return this.matches(e)}}function Em(e){return function(t){return t.matches(e)}}var qw=Array.prototype.find;function Zw(e){return function(){return qw.call(this.children,e)}}function Jw(){return this.firstElementChild}function e1(e){return this.select(e==null?Jw:Zw(typeof e=="function"?e:Em(e)))}var t1=Array.prototype.filter;function n1(){return Array.from(this.children)}function r1(e){return function(){return t1.call(this.children,e)}}function o1(e){return this.selectAll(e==null?n1:r1(typeof e=="function"?e:Em(e)))}function i1(e){typeof e!="function"&&(e=Sm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new _t(r,this._parents)}function bm(e){return new Array(e.length)}function s1(){return new _t(this._enter||this._groups.map(bm),this._parents)}function ol(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ol.prototype={constructor:ol,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l1(e){return function(){return e}}function a1(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new ol(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function u1(e,t,n,r,o,i,s){var l,a,u=new Map,c=t.length,f=i.length,d=new Array(c),h;for(l=0;l<c;++l)(a=t[l])&&(d[l]=h=s.call(a,a.__data__,l,t)+"",u.has(h)?o[l]=a:u.set(h,a));for(l=0;l<f;++l)h=s.call(e,i[l],l,i)+"",(a=u.get(h))?(r[l]=a,a.__data__=i[l],u.delete(h)):n[l]=new ol(e,i[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function c1(e){return e.__data__}function d1(e,t){if(!arguments.length)return Array.from(this,c1);var n=t?u1:a1,r=this._parents,o=this._groups;typeof e!="function"&&(e=l1(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],d=f.length,h=f1(e.call(c,c&&c.__data__,u,r)),g=h.length,w=l[u]=new Array(g),S=s[u]=new Array(g),p=a[u]=new Array(d);n(c,f,w,S,p,h,t);for(var y=0,m=0,v,E;y<g;++y)if(v=w[y]){for(y>=m&&(m=y+1);!(E=S[m])&&++m<g;);v._next=E||null}}return s=new _t(s,r),s._enter=l,s._exit=a,s}function f1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h1(){return new _t(this._exit||this._groups.map(bm),this._parents)}function p1(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function m1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],c=r[a],f=u.length,d=l[a]=new Array(f),h,g=0;g<f;++g)(h=u[g]||c[g])&&(d[g]=h);for(;a<o;++a)l[a]=n[a];return new _t(l,this._parents)}function g1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function y1(e){e||(e=v1);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new _t(o,this._parents).order()}function v1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function w1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function x1(){return Array.from(this)}function S1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function E1(){let e=0;for(const t of this)++e;return e}function b1(){return!this.node()}function k1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function C1(e){return function(){this.removeAttribute(e)}}function _1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N1(e,t){return function(){this.setAttribute(e,t)}}function P1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function I1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function T1(e,t){var n=Xl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_1:C1:typeof t=="function"?n.local?I1:M1:n.local?P1:N1)(n,t))}function km(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function D1(e){return function(){this.style.removeProperty(e)}}function $1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function L1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function R1(e,t,n){return arguments.length>1?this.each((t==null?D1:typeof t=="function"?L1:$1)(e,t,n??"")):po(this.node(),e)}function po(e,t){return e.style.getPropertyValue(t)||km(e).getComputedStyle(e,null).getPropertyValue(t)}function z1(e){return function(){delete this[e]}}function O1(e,t){return function(){this[e]=t}}function A1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F1(e,t){return arguments.length>1?this.each((t==null?z1:typeof t=="function"?A1:O1)(e,t)):this.node()[e]}function Cm(e){return e.trim().split(/^|\s+/)}function od(e){return e.classList||new _m(e)}function _m(e){this._node=e,this._names=Cm(e.getAttribute("class")||"")}_m.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nm(e,t){for(var n=od(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Pm(e,t){for(var n=od(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function B1(e){return function(){Nm(this,e)}}function H1(e){return function(){Pm(this,e)}}function j1(e,t){return function(){(t.apply(this,arguments)?Nm:Pm)(this,e)}}function V1(e,t){var n=Cm(e+"");if(arguments.length<2){for(var r=od(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?j1:t?B1:H1)(n,t))}function W1(){this.textContent=""}function U1(e){return function(){this.textContent=e}}function Y1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function X1(e){return arguments.length?this.each(e==null?W1:(typeof e=="function"?Y1:U1)(e)):this.node().textContent}function G1(){this.innerHTML=""}function K1(e){return function(){this.innerHTML=e}}function Q1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function q1(e){return arguments.length?this.each(e==null?G1:(typeof e=="function"?Q1:K1)(e)):this.node().innerHTML}function Z1(){this.nextSibling&&this.parentNode.appendChild(this)}function J1(){return this.each(Z1)}function ex(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tx(){return this.each(ex)}function nx(e){var t=typeof e=="function"?e:wm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rx(){return null}function ox(e,t){var n=typeof e=="function"?e:wm(e),r=t==null?rx:typeof t=="function"?t:rd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ix(){var e=this.parentNode;e&&e.removeChild(this)}function sx(){return this.each(ix)}function lx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ax(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ux(e){return this.select(e?ax:lx)}function cx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dx(e){return function(t){e.call(this,t,this.__data__)}}function fx(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hx(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function px(e,t,n){return function(){var r=this.__on,o,i=dx(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function mx(e,t,n){var r=fx(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(o=0,c=l[a];o<i;++o)if((s=r[o]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?px:hx,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Mm(e,t,n){var r=km(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function gx(e,t){return function(){return Mm(this,e,t)}}function yx(e,t){return function(){return Mm(this,e,t.apply(this,arguments))}}function vx(e,t){return this.each((typeof t=="function"?yx:gx)(e,t))}function*wx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Im=[null];function _t(e,t){this._groups=e,this._parents=t}function Vi(){return new _t([[document.documentElement]],Im)}function xx(){return this}_t.prototype=Vi.prototype={constructor:_t,select:Yw,selectAll:Qw,selectChild:e1,selectChildren:o1,filter:i1,data:d1,enter:s1,exit:h1,join:p1,merge:m1,selection:xx,order:g1,sort:y1,call:w1,nodes:x1,node:S1,size:E1,empty:b1,each:k1,attr:T1,style:R1,property:F1,classed:V1,text:X1,html:q1,raise:J1,lower:tx,append:nx,insert:ox,remove:sx,clone:ux,datum:cx,on:mx,dispatch:vx,[Symbol.iterator]:wx};function Et(e){return typeof e=="string"?new _t([[document.querySelector(e)]],[document.documentElement]):new _t([[e]],Im)}function Sx(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yt(e,t){if(e=Sx(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ex={passive:!1},hi={capture:!0,passive:!1};function Xa(e){e.stopImmediatePropagation()}function io(e){e.preventDefault(),e.stopImmediatePropagation()}function Tm(e){var t=e.document.documentElement,n=Et(e).on("dragstart.drag",io,hi);"onselectstart"in t?n.on("selectstart.drag",io,hi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Dm(e,t){var n=e.document.documentElement,r=Et(e).on("dragstart.drag",null);t&&(r.on("click.drag",io,hi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ps=e=>()=>e;function Hu(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Hu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bx(e){return!e.ctrlKey&&!e.button}function kx(){return this.parentNode}function Cx(e,t){return t??{x:e.x,y:e.y}}function _x(){return navigator.maxTouchPoints||"ontouchstart"in this}function $m(){var e=bx,t=kx,n=Cx,r=_x,o={},i=Yl("start","drag","end"),s=0,l,a,u,c,f=0;function d(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",S).on("touchmove.drag",p,Ex).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,E){if(!(c||!e.call(this,v,E))){var k=m(this,t.call(this,v,E),v,E,"mouse");k&&(Et(v.view).on("mousemove.drag",g,hi).on("mouseup.drag",w,hi),Tm(v.view),Xa(v),u=!1,l=v.clientX,a=v.clientY,k("start",v))}}function g(v){if(io(v),!u){var E=v.clientX-l,k=v.clientY-a;u=E*E+k*k>f}o.mouse("drag",v)}function w(v){Et(v.view).on("mousemove.drag mouseup.drag",null),Dm(v.view,u),io(v),o.mouse("end",v)}function S(v,E){if(e.call(this,v,E)){var k=v.changedTouches,b=t.call(this,v,E),M=k.length,_,R;for(_=0;_<M;++_)(R=m(this,b,v,E,k[_].identifier,k[_]))&&(Xa(v),R("start",v,k[_]))}}function p(v){var E=v.changedTouches,k=E.length,b,M;for(b=0;b<k;++b)(M=o[E[b].identifier])&&(io(v),M("drag",v,E[b]))}function y(v){var E=v.changedTouches,k=E.length,b,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),b=0;b<k;++b)(M=o[E[b].identifier])&&(Xa(v),M("end",v,E[b]))}function m(v,E,k,b,M,_){var R=i.copy(),B=Yt(_||k,E),z,A,C;if((C=n.call(v,new Hu("beforestart",{sourceEvent:k,target:d,identifier:M,active:s,x:B[0],y:B[1],dx:0,dy:0,dispatch:R}),b))!=null)return z=C.x-B[0]||0,A=C.y-B[1]||0,function $(I,D,T){var N=B,L;switch(I){case"start":o[M]=$,L=s++;break;case"end":delete o[M],--s;case"drag":B=Yt(T||D,E),L=s;break}R.call(I,v,new Hu(I,{sourceEvent:D,subject:C,target:d,identifier:M,active:L,x:B[0]+z,y:B[1]+A,dx:B[0]-N[0],dy:B[1]-N[1],dispatch:R}),b)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:ps(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:ps(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:ps(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:ps(!!v),d):r},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,d):Math.sqrt(f)},d}function id(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wi(){}var pi=.7,il=1/pi,so="\\s*([+-]?\\d+)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nx=/^#([0-9a-f]{3,8})$/,Px=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),Mx=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),Ix=new RegExp(`^rgba\\(${so},${so},${so},${mi}\\)$`),Tx=new RegExp(`^rgba\\(${fn},${fn},${fn},${mi}\\)$`),Dx=new RegExp(`^hsl\\(${mi},${fn},${fn}\\)$`),$x=new RegExp(`^hsla\\(${mi},${fn},${fn},${mi}\\)$`),_f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};id(Wi,kr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nf,formatHex:Nf,formatHex8:Lx,formatHsl:Rx,formatRgb:Pf,toString:Pf});function Nf(){return this.rgb().formatHex()}function Lx(){return this.rgb().formatHex8()}function Rx(){return Rm(this).formatHsl()}function Pf(){return this.rgb().formatRgb()}function kr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Nx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mf(t):n===3?new ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ms(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ms(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Px.exec(e))?new ht(t[1],t[2],t[3],1):(t=Mx.exec(e))?new ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ix.exec(e))?ms(t[1],t[2],t[3],t[4]):(t=Tx.exec(e))?ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dx.exec(e))?Df(t[1],t[2]/100,t[3]/100,1):(t=$x.exec(e))?Df(t[1],t[2]/100,t[3]/100,t[4]):_f.hasOwnProperty(e)?Mf(_f[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function Mf(e){return new ht(e>>16&255,e>>8&255,e&255,1)}function ms(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function zx(e){return e instanceof Wi||(e=kr(e)),e?(e=e.rgb(),new ht(e.r,e.g,e.b,e.opacity)):new ht}function ju(e,t,n,r){return arguments.length===1?zx(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}id(ht,ju,Lm(Wi,{brighter(e){return e=e==null?il:Math.pow(il,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pi:Math.pow(pi,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ht(xr(this.r),xr(this.g),xr(this.b),sl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:If,formatHex:If,formatHex8:Ox,formatRgb:Tf,toString:Tf}));function If(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}`}function Ox(){return`#${gr(this.r)}${gr(this.g)}${gr(this.b)}${gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tf(){const e=sl(this.opacity);return`${e===1?"rgb(":"rgba("}${xr(this.r)}, ${xr(this.g)}, ${xr(this.b)}${e===1?")":`, ${e})`}`}function sl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gr(e){return e=xr(e),(e<16?"0":"")+e.toString(16)}function Df(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kt(e,t,n,r)}function Rm(e){if(e instanceof Kt)return new Kt(e.h,e.s,e.l,e.opacity);if(e instanceof Wi||(e=kr(e)),!e)return new Kt;if(e instanceof Kt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new Kt(s,l,a,e.opacity)}function Ax(e,t,n,r){return arguments.length===1?Rm(e):new Kt(e,t,n,r??1)}function Kt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}id(Kt,Ax,Lm(Wi,{brighter(e){return e=e==null?il:Math.pow(il,e),new Kt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pi:Math.pow(pi,e),new Kt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ht(Ga(e>=240?e-240:e+120,o,r),Ga(e,o,r),Ga(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Kt($f(this.h),gs(this.s),gs(this.l),sl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sl(this.opacity);return`${e===1?"hsl(":"hsla("}${$f(this.h)}, ${gs(this.s)*100}%, ${gs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $f(e){return e=(e||0)%360,e<0?e+360:e}function gs(e){return Math.max(0,Math.min(1,e||0))}function Ga(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sd=e=>()=>e;function Fx(e,t){return function(n){return e+n*t}}function Bx(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hx(e){return(e=+e)==1?zm:function(t,n){return n-t?Bx(t,n,e):sd(isNaN(t)?n:t)}}function zm(e,t){var n=t-e;return n?Fx(e,n):sd(isNaN(e)?t:e)}const ll=function e(t){var n=Hx(t);function r(o,i){var s=n((o=ju(o)).r,(i=ju(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=zm(o.opacity,i.opacity);return function(c){return o.r=s(c),o.g=l(c),o.b=a(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function jx(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Vx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wx(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=ti(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function Ux(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function un(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yx(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=ti(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ka=new RegExp(Vu.source,"g");function Xx(e){return function(){return e}}function Gx(e){return function(t){return e(t)+""}}function Om(e,t){var n=Vu.lastIndex=Ka.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Vu.exec(e))&&(o=Ka.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:un(r,o)})),n=Ka.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?Gx(a[0].x):Xx(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}function ti(e,t){var n=typeof t,r;return t==null||n==="boolean"?sd(t):(n==="number"?un:n==="string"?(r=kr(t))?(t=r,ll):Om:t instanceof kr?ll:t instanceof Date?Ux:Vx(t)?jx:Array.isArray(t)?Wx:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yx:un)(e,t)}var Lf=180/Math.PI,Wu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Am(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Lf,skewX:Math.atan(a)*Lf,scaleX:s,scaleY:l}}var ys;function Kx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wu:Am(t.a,t.b,t.c,t.d,t.e,t.f)}function Qx(e){return e==null||(ys||(ys=document.createElementNS("http://www.w3.org/2000/svg","g")),ys.setAttribute("transform",e),!(e=ys.transform.baseVal.consolidate()))?Wu:(e=e.matrix,Am(e.a,e.b,e.c,e.d,e.e,e.f))}function Fm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,h,g){if(u!==f||c!==d){var w=h.push("translate(",null,t,null,n);g.push({i:w-4,x:un(u,f)},{i:w-2,x:un(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:un(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function l(u,c,f,d){u!==c?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:un(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function a(u,c,f,d,h,g){if(u!==f||c!==d){var w=h.push(o(h)+"scale(",null,",",null,")");g.push({i:w-4,x:un(u,f)},{i:w-2,x:un(c,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),l(u.skewX,c.skewX,f,d),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var g=-1,w=d.length,S;++g<w;)f[(S=d[g]).i]=S.x(h);return f.join("")}}}var qx=Fm(Kx,"px, ","px)","deg)"),Zx=Fm(Qx,", ",")",")"),Jx=1e-12;function Rf(e){return((e=Math.exp(e))+1/e)/2}function eS(e){return((e=Math.exp(e))-1/e)/2}function tS(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ws=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],c=s[0],f=s[1],d=s[2],h=c-l,g=f-a,w=h*h+g*g,S,p;if(w<Jx)p=Math.log(d/u)/t,S=function(b){return[l+b*h,a+b*g,u*Math.exp(t*b*p)]};else{var y=Math.sqrt(w),m=(d*d-u*u+r*w)/(2*u*n*y),v=(d*d-u*u-r*w)/(2*d*n*y),E=Math.log(Math.sqrt(m*m+1)-m),k=Math.log(Math.sqrt(v*v+1)-v);p=(k-E)/t,S=function(b){var M=b*p,_=Rf(E),R=u/(n*y)*(_*tS(t*M+E)-eS(E));return[l+R*h,a+R*g,u*_/Rf(t*M+E)]}}return S.duration=p*1e3*t/Math.SQRT2,S}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var mo=0,Go=0,zo=0,Bm=1e3,al,Ko,ul=0,Cr=0,Gl=0,gi=typeof performance=="object"&&performance.now?performance:Date,Hm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ld(){return Cr||(Hm(nS),Cr=gi.now()+Gl)}function nS(){Cr=0}function cl(){this._call=this._time=this._next=null}cl.prototype=jm.prototype={constructor:cl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ld():+n)+(t==null?0:+t),!this._next&&Ko!==this&&(Ko?Ko._next=this:al=this,Ko=this),this._call=e,this._time=n,Uu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Uu())}};function jm(e,t,n){var r=new cl;return r.restart(e,t,n),r}function rS(){ld(),++mo;for(var e=al,t;e;)(t=Cr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mo}function zf(){Cr=(ul=gi.now())+Gl,mo=Go=0;try{rS()}finally{mo=0,iS(),Cr=0}}function oS(){var e=gi.now(),t=e-ul;t>Bm&&(Gl-=t,ul=e)}function iS(){for(var e,t=al,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:al=n);Ko=e,Uu(r)}function Uu(e){if(!mo){Go&&(Go=clearTimeout(Go));var t=e-Cr;t>24?(e<1/0&&(Go=setTimeout(zf,e-gi.now()-Gl)),zo&&(zo=clearInterval(zo))):(zo||(ul=gi.now(),zo=setInterval(oS,Bm)),mo=1,Hm(zf))}}function Of(e,t,n){var r=new cl;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var sS=Yl("start","end","cancel","interrupt"),lS=[],Vm=0,Af=1,Yu=2,Us=3,Ff=4,Xu=5,Ys=6;function Kl(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;aS(e,n,{name:t,index:r,group:o,on:sS,tween:lS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vm})}function ad(e,t){var n=en(e,t);if(n.state>Vm)throw new Error("too late; already scheduled");return n}function gn(e,t){var n=en(e,t);if(n.state>Us)throw new Error("too late; already running");return n}function en(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function aS(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=jm(i,0,n.time);function i(u){n.state=Af,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,h;if(n.state!==Af)return a();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Us)return Of(s);h.state===Ff?(h.state=Ys,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ys,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Of(function(){n.state===Us&&(n.state=Ff,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Yu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yu){for(n.state=Us,o=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Xu,1),f=-1,d=o.length;++f<d;)o[f].call(e,c);n.state===Xu&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ys,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Xs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Yu&&r.state<Xu,r.state=Ys,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function uS(e){return this.each(function(){Xs(this,e)})}function cS(e,t){var n,r;return function(){var o=gn(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function dS(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=gn(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function fS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=en(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?cS:dS)(n,e,t))}function ud(e,t,n){var r=e._id;return e.each(function(){var o=gn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return en(o,r).value[t]}}function Wm(e,t){var n;return(typeof t=="number"?un:t instanceof kr?ll:(n=kr(t))?(t=n,ll):Om)(e,t)}function hS(e){return function(){this.removeAttribute(e)}}function pS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function gS(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function yS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function vS(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function wS(e,t){var n=Xl(e),r=n==="transform"?Zx:Wm;return this.attrTween(e,typeof t=="function"?(n.local?vS:yS)(n,r,ud(this,"attr."+e,t)):t==null?(n.local?pS:hS)(n):(n.local?gS:mS)(n,r,t))}function xS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function SS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ES(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&SS(e,i)),n}return o._value=t,o}function bS(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&xS(e,i)),n}return o._value=t,o}function kS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Xl(e);return this.tween(n,(r.local?ES:bS)(r,t))}function CS(e,t){return function(){ad(this,e).delay=+t.apply(this,arguments)}}function _S(e,t){return t=+t,function(){ad(this,e).delay=t}}function NS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CS:_S)(t,e)):en(this.node(),t).delay}function PS(e,t){return function(){gn(this,e).duration=+t.apply(this,arguments)}}function MS(e,t){return t=+t,function(){gn(this,e).duration=t}}function IS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PS:MS)(t,e)):en(this.node(),t).duration}function TS(e,t){if(typeof t!="function")throw new Error;return function(){gn(this,e).ease=t}}function DS(e){var t=this._id;return arguments.length?this.each(TS(t,e)):en(this.node(),t).ease}function $S(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;gn(this,e).ease=n}}function LS(e){if(typeof e!="function")throw new Error;return this.each($S(this._id,e))}function RS(e){typeof e!="function"&&(e=Sm(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Pn(r,this._parents,this._name,this._id)}function zS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],c=a.length,f=s[l]=new Array(c),d,h=0;h<c;++h)(d=a[h]||u[h])&&(f[h]=d);for(;l<r;++l)s[l]=t[l];return new Pn(s,this._parents,this._name,this._id)}function OS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function AS(e,t,n){var r,o,i=OS(t)?ad:gn;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function FS(e,t){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(e):this.each(AS(n,e,t))}function BS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function HS(){return this.on("end.remove",BS(this._id))}function jS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rd(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),c,f,d=0;d<a;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Kl(u[d],t,n,d,u,en(c,n)));return new Pn(i,this._parents,t,n)}function VS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xm(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var d=e.call(c,c.__data__,f,a),h,g=en(c,n),w=0,S=d.length;w<S;++w)(h=d[w])&&Kl(h,t,n,w,d,g);i.push(d),s.push(c)}return new Pn(i,s,t,n)}var WS=Vi.prototype.constructor;function US(){return new WS(this._groups,this._parents)}function YS(e,t){var n,r,o;return function(){var i=po(this,e),s=(this.style.removeProperty(e),po(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Um(e){return function(){this.style.removeProperty(e)}}function XS(e,t,n){var r,o=n+"",i;return function(){var s=po(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function GS(e,t,n){var r,o,i;return function(){var s=po(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),po(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function KS(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=gn(this,e),u=a.on,c=a.value[i]==null?l||(l=Um(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(s,o=c),a.on=r}}function QS(e,t,n){var r=(e+="")=="transform"?qx:Wm;return t==null?this.styleTween(e,YS(e,r)).on("end.style."+e,Um(e)):typeof t=="function"?this.styleTween(e,GS(e,r,ud(this,"style."+e,t))).each(KS(this._id,e)):this.styleTween(e,XS(e,r,t),n).on("end.style."+e,null)}function qS(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ZS(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&qS(e,s,n)),r}return i._value=t,i}function JS(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ZS(e,t,n??""))}function eE(e){return function(){this.textContent=e}}function tE(e){return function(){var t=e(this);this.textContent=t??""}}function nE(e){return this.tween("text",typeof e=="function"?tE(ud(this,"text",e)):eE(e==null?"":e+""))}function rE(e){return function(t){this.textContent=e.call(this,t)}}function oE(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&rE(o)),t}return r._value=e,r}function iE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,oE(e))}function sE(){for(var e=this._name,t=this._id,n=Ym(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=en(a,t);Kl(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Pn(r,this._parents,e,n)}function lE(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=gn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var aE=0;function Pn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ym(){return++aE}var wn=Vi.prototype;Pn.prototype={constructor:Pn,select:jS,selectAll:VS,selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:RS,merge:zS,selection:US,transition:sE,call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:FS,attr:wS,attrTween:kS,style:QS,styleTween:JS,text:nE,textTween:iE,remove:HS,tween:fS,delay:NS,duration:IS,ease:DS,easeVarying:LS,end:lE,[Symbol.iterator]:wn[Symbol.iterator]};function uE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cE={time:null,delay:0,duration:250,ease:uE};function dE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fE(e){var t,n;e instanceof Pn?(t=e._id,e=e._name):(t=Ym(),(n=cE).time=ld(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Kl(a,e,t,u,s,n||dE(a,t));return new Pn(r,this._parents,e,t)}Vi.prototype.interrupt=uS;Vi.prototype.transition=fE;const vs=e=>()=>e;function hE(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ql=new kn(1,0,0);Xm.prototype=kn.prototype;function Xm(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ql;return e.__zoom}function Qa(e){e.stopImmediatePropagation()}function Oo(e){e.preventDefault(),e.stopImmediatePropagation()}function pE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function mE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bf(){return this.__zoom||Ql}function gE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yE(){return navigator.maxTouchPoints||"ontouchstart"in this}function vE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Gm(){var e=pE,t=mE,n=vE,r=gE,o=yE,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ws,u=Yl("start","zoom","end"),c,f,d,h=500,g=150,w=0,S=10;function p(C){C.property("__zoom",Bf).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",B).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(C,$,I,D){var T=C.selection?C.selection():C;T.property("__zoom",Bf),C!==T?E(C,$,I,D):T.interrupt().each(function(){k(this,arguments).event(D).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(C,$,I,D){p.scaleTo(C,function(){var T=this.__zoom.k,N=typeof $=="function"?$.apply(this,arguments):$;return T*N},I,D)},p.scaleTo=function(C,$,I,D){p.transform(C,function(){var T=t.apply(this,arguments),N=this.__zoom,L=I==null?v(T):typeof I=="function"?I.apply(this,arguments):I,F=N.invert(L),j=typeof $=="function"?$.apply(this,arguments):$;return n(m(y(N,j),L,F),T,s)},I,D)},p.translateBy=function(C,$,I,D){p.transform(C,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,D)},p.translateTo=function(C,$,I,D,T){p.transform(C,function(){var N=t.apply(this,arguments),L=this.__zoom,F=D==null?v(N):typeof D=="function"?D.apply(this,arguments):D;return n(Ql.translate(F[0],F[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof I=="function"?-I.apply(this,arguments):-I),N,s)},D,T)};function y(C,$){return $=Math.max(i[0],Math.min(i[1],$)),$===C.k?C:new kn($,C.x,C.y)}function m(C,$,I){var D=$[0]-I[0]*C.k,T=$[1]-I[1]*C.k;return D===C.x&&T===C.y?C:new kn(C.k,D,T)}function v(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function E(C,$,I,D){C.on("start.zoom",function(){k(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(D).end()}).tween("zoom",function(){var T=this,N=arguments,L=k(T,N).event(D),F=t.apply(T,N),j=I==null?v(F):typeof I=="function"?I.apply(T,N):I,G=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),X=T.__zoom,te=typeof $=="function"?$.apply(T,N):$,J=a(X.invert(j).concat(G/X.k),te.invert(j).concat(G/te.k));return function(K){if(K===1)K=te;else{var Y=J(K),ne=G/Y[2];K=new kn(ne,j[0]-Y[0]*ne,j[1]-Y[1]*ne)}L.zoom(null,K)}})}function k(C,$,I){return!I&&C.__zooming||new b(C,$)}function b(C,$){this.that=C,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,$),this.taps=0}b.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,$){return this.mouse&&C!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var $=Et(this.that).datum();u.call(C,this.that,new hE(C,{sourceEvent:this.sourceEvent,target:p,type:C,transform:this.that.__zoom,dispatch:u}),$)}};function M(C,...$){if(!e.apply(this,arguments))return;var I=k(this,$).event(C),D=this.__zoom,T=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),N=Yt(C);if(I.wheel)(I.mouse[0][0]!==N[0]||I.mouse[0][1]!==N[1])&&(I.mouse[1]=D.invert(I.mouse[0]=N)),clearTimeout(I.wheel);else{if(D.k===T)return;I.mouse=[N,D.invert(N)],Xs(this),I.start()}Oo(C),I.wheel=setTimeout(L,g),I.zoom("mouse",n(m(y(D,T),I.mouse[0],I.mouse[1]),I.extent,s));function L(){I.wheel=null,I.end()}}function _(C,...$){if(d||!e.apply(this,arguments))return;var I=C.currentTarget,D=k(this,$,!0).event(C),T=Et(C.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",G,!0),N=Yt(C,I),L=C.clientX,F=C.clientY;Tm(C.view),Qa(C),D.mouse=[N,this.__zoom.invert(N)],Xs(this),D.start();function j(X){if(Oo(X),!D.moved){var te=X.clientX-L,J=X.clientY-F;D.moved=te*te+J*J>w}D.event(X).zoom("mouse",n(m(D.that.__zoom,D.mouse[0]=Yt(X,I),D.mouse[1]),D.extent,s))}function G(X){T.on("mousemove.zoom mouseup.zoom",null),Dm(X.view,D.moved),Oo(X),D.event(X).end()}}function R(C,...$){if(e.apply(this,arguments)){var I=this.__zoom,D=Yt(C.changedTouches?C.changedTouches[0]:C,this),T=I.invert(D),N=I.k*(C.shiftKey?.5:2),L=n(m(y(I,N),D,T),t.apply(this,$),s);Oo(C),l>0?Et(this).transition().duration(l).call(E,L,D,C):Et(this).call(p.transform,L,D,C)}}function B(C,...$){if(e.apply(this,arguments)){var I=C.touches,D=I.length,T=k(this,$,C.changedTouches.length===D).event(C),N,L,F,j;for(Qa(C),L=0;L<D;++L)F=I[L],j=Yt(F,this),j=[j,this.__zoom.invert(j),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==j[2]&&(T.touch1=j,T.taps=0):(T.touch0=j,N=!0,T.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(T.taps<2&&(f=j[0],c=setTimeout(function(){c=null},h)),Xs(this),T.start())}}function z(C,...$){if(this.__zooming){var I=k(this,$).event(C),D=C.changedTouches,T=D.length,N,L,F,j;for(Oo(C),N=0;N<T;++N)L=D[N],F=Yt(L,this),I.touch0&&I.touch0[2]===L.identifier?I.touch0[0]=F:I.touch1&&I.touch1[2]===L.identifier&&(I.touch1[0]=F);if(L=I.that.__zoom,I.touch1){var G=I.touch0[0],X=I.touch0[1],te=I.touch1[0],J=I.touch1[1],K=(K=te[0]-G[0])*K+(K=te[1]-G[1])*K,Y=(Y=J[0]-X[0])*Y+(Y=J[1]-X[1])*Y;L=y(L,Math.sqrt(K/Y)),F=[(G[0]+te[0])/2,(G[1]+te[1])/2],j=[(X[0]+J[0])/2,(X[1]+J[1])/2]}else if(I.touch0)F=I.touch0[0],j=I.touch0[1];else return;I.zoom("touch",n(m(L,F,j),I.extent,s))}}function A(C,...$){if(this.__zooming){var I=k(this,$).event(C),D=C.changedTouches,T=D.length,N,L;for(Qa(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),N=0;N<T;++N)L=D[N],I.touch0&&I.touch0[2]===L.identifier?delete I.touch0:I.touch1&&I.touch1[2]===L.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(L=Yt(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<S)){var F=Et(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return p.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:vs(+C),p):r},p.filter=function(C){return arguments.length?(e=typeof C=="function"?C:vs(!!C),p):e},p.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:vs(!!C),p):o},p.extent=function(C){return arguments.length?(t=typeof C=="function"?C:vs([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),p):t},p.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],p):[i[0],i[1]]},p.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(C){return arguments.length?(n=C,p):n},p.duration=function(C){return arguments.length?(l=+C,p):l},p.interpolate=function(C){return arguments.length?(a=C,p):a},p.on=function(){var C=u.on.apply(u,arguments);return C===u?p:C},p.clickDistance=function(C){return arguments.length?(w=(C=+C)*C,p):Math.sqrt(w)},p.tapDistance=function(C){return arguments.length?(S=+C,p):S},p}const mn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},yi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Km=["Enter"," ","Escape"],Qm={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var go;(function(e){e.Strict="strict",e.Loose="loose"})(go||(go={}));var Sr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Sr||(Sr={}));var vi;(function(e){e.Partial="partial",e.Full="full"})(vi||(vi={}));const qm={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var En;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(En||(En={}));var dl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(dl||(dl={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));const Hf={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top};function Zm(e){return e===null?null:e?"valid":"invalid"}const Jm=e=>"id"in e&&"source"in e&&"target"in e,wE=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),cd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ui=(e,t=[0,0])=>{const{width:n,height:r}=$n(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},xE=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):cd(o)?o:t.nodeLookup.get(o.id));const l=s?fl(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ql(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zl(n)},Yi=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=fl(r);n=ql(n,o)}}),Zl(n)},dd=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...Gi(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(s&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,g=c.height??u.height??u.initialHeight??null,w=wi(l,vo(u)),S=(h??0)*(g??0),p=i&&w>0;(!u.internals.handleBounds||p||w>=S||u.dragging)&&a.push(u)}return a},SE=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function EE(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function bE({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=EE(e,s),a=Yi(l),u=fd(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function eg({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let f=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",mn.error005());else{const h=l.measured.width,g=l.measured.height;h&&g&&(f=[[a,u],[a+h,u+g]])}else l&&wo(s.extent)&&(f=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=wo(f)?_r(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",mn.error015())),{position:{x:d.x-a+(s.measured.width??0)*c[0],y:d.y-u+(s.measured.height??0)*c[1]},positionAbsolute:d}}async function kE({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),g=!h&&d.parentId&&s.find(w=>w.id===d.parentId);(h||g)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),c=SE(s,a);for(const d of a)l.has(d.id)&&!c.find(g=>g.id===d.id)&&c.push(d);if(!o)return{edges:c,nodes:s};const f=await o({nodes:s,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:s}:{edges:[],nodes:[]}:f}const yo=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),_r=(e={x:0,y:0},t,n)=>({x:yo(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:yo(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function tg(e,t,n){const{width:r,height:o}=$n(n),{x:i,y:s}=n.internals.positionAbsolute;return _r(e,[[i,s],[i+r,s+o]],t)}const jf=(e,t,n)=>e<t?yo(Math.abs(e-t),1,t)/t:e>n?-yo(Math.abs(e-n),1,t)/t:0,ng=(e,t,n=15,r=40)=>{const o=jf(e.x,r,t.width-r)*n,i=jf(e.y,r,t.height-r)*n;return[o,i]},ql=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Gu=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Zl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),vo=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=cd(e)?e.internals.positionAbsolute:Ui(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},fl=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=cd(e)?e.internals.positionAbsolute:Ui(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},rg=(e,t)=>Zl(ql(Gu(e),Gu(t))),wi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Vf=e=>Qt(e.width)&&Qt(e.height)&&Qt(e.x)&&Qt(e.y),Qt=e=>!isNaN(e)&&isFinite(e),CE=(e,t)=>{},Xi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Gi=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?Xi(l,s):l},hl=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Fr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function _E(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Fr(e,n),o=Fr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Fr(e.top??e.y??0,n),o=Fr(e.bottom??e.y??0,n),i=Fr(e.left??e.x??0,t),s=Fr(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function NE(e,t,n,r,o,i){const{x:s,y:l}=hl(e,[t,n,r]),{x:a,y:u}=hl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=o-a,f=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(c),bottom:Math.floor(f)}}const fd=(e,t,n,r,o,i)=>{const s=_E(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),c=yo(u,r,o),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,g=n/2-d*c,w=NE(e,h,g,c,t,n),S={left:Math.min(w.left-s.left,0),top:Math.min(w.top-s.top,0),right:Math.min(w.right-s.right,0),bottom:Math.min(w.bottom-s.bottom,0)};return{x:h-S.left+S.right,y:g-S.top+S.bottom,zoom:c}},xi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function wo(e){return e!==void 0&&e!=="parent"}function $n(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function og(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function ig(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Wf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function PE(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function ME(e){return{...Qm,...e||{}}}function ni(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=dn(e),l=Gi({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?Xi(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const hd=e=>({width:e.offsetWidth,height:e.offsetHeight}),sg=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},IE=["INPUT","SELECT","TEXTAREA"];function lg(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:IE.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ag=e=>"clientX"in e,dn=(e,t)=>{var i,s;const n=ag(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Uf=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...hd(s)}})};function ug({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}function ws(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yf({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case oe.Left:return[t-ws(t-r,i),n];case oe.Right:return[t+ws(r-t,i),n];case oe.Top:return[t,n-ws(n-o,i)];case oe.Bottom:return[t,n+ws(o-n,i)]}}function cg({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:o,targetPosition:i=oe.Top,curvature:s=.25}){const[l,a]=Yf({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,c]=Yf({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[f,d,h,g]=ug({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${o}`,f,d,h,g]}function dg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function TE({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const i=o&&n?1e3:0,s=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return i+s}function DE({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=ql(fl(e),fl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return wi(s,Zl(i))>0}const $E=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,LE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),fg=(e,t)=>{if(!e.source||!e.target)return t;let n;return Jm(e)?n={...e}:n={...e,id:$E(e)},LE(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function hg({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=dg({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Xf={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},RE=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Gf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function zE({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:r=oe.Top,center:o,offset:i,stepPosition:s}){const l=Xf[t],a=Xf[r],u={x:e.x+l.x*i,y:e.y+l.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},f=RE({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let g=[],w,S;const p={x:0,y:0},y={x:0,y:0},[,,m,v]=dg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(w=o.x??u.x+(c.x-u.x)*s,S=o.y??(u.y+c.y)/2):(w=o.x??(u.x+c.x)/2,S=o.y??u.y+(c.y-u.y)*s);const k=[{x:w,y:u.y},{x:w,y:c.y}],b=[{x:u.x,y:S},{x:c.x,y:S}];l[d]===h?g=d==="x"?k:b:g=d==="x"?b:k}else{const k=[{x:u.x,y:c.y}],b=[{x:c.x,y:u.y}];if(d==="x"?g=l.x===h?b:k:g=l.y===h?k:b,t===r){const z=Math.abs(e[d]-n[d]);if(z<=i){const A=Math.min(i-1,i-z);l[d]===h?p[d]=(u[d]>e[d]?-1:1)*A:y[d]=(c[d]>n[d]?-1:1)*A}}if(t!==r){const z=d==="x"?"y":"x",A=l[d]===a[z],C=u[z]>c[z],$=u[z]<c[z];(l[d]===1&&(!A&&C||A&&$)||l[d]!==1&&(!A&&$||A&&C))&&(g=d==="x"?k:b)}const M={x:u.x+p.x,y:u.y+p.y},_={x:c.x+y.x,y:c.y+y.y},R=Math.max(Math.abs(M.x-g[0].x),Math.abs(_.x-g[0].x)),B=Math.max(Math.abs(M.y-g[0].y),Math.abs(_.y-g[0].y));R>=B?(w=(M.x+_.x)/2,S=g[0].y):(w=g[0].x,S=(M.y+_.y)/2)}return[[e,{x:u.x+p.x,y:u.y+p.y},...g,{x:c.x+y.x,y:c.y+y.y},n],w,S,m,v]}function OE(e,t,n,r){const o=Math.min(Gf(e,t)/2,Gf(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Ku({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:o,targetPosition:i=oe.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:c=.5}){const[f,d,h,g,w]=zE({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:c});return[f.reduce((p,y,m)=>{let v="";return m>0&&m<f.length-1?v=OE(f[m-1],y,f[m+1],s):v=`${m===0?"M":"L"}${y.x} ${y.y}`,p+=v,p},""),d,h,g,w]}function Kf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function AE(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Kf(t)||!Kf(n))return null;const r=t.internals.handleBounds||Qf(t.handles),o=n.internals.handleBounds||Qf(n.handles),i=qf((r==null?void 0:r.source)??[],e.sourceHandle),s=qf(e.connectionMode===go.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(f=e.onError)==null||f.call(e,"008",mn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||oe.Bottom,a=(s==null?void 0:s.position)||oe.Top,u=Si(t,i,l),c=Si(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:l,targetPosition:a}}function Qf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Si(e,t,n=oe.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??$n(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case oe.Top:return{x:o+s/2,y:i};case oe.Right:return{x:o+s,y:i+l/2};case oe.Bottom:return{x:o+s/2,y:i+l};case oe.Left:return{x:o,y:i+l/2}}}function qf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Qu(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function FE(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Qu(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const pd={nodeOrigin:[0,0],nodeExtent:yi,elevateNodesOnSelect:!0,defaults:{}},BE={...pd,checkEquality:!0};function md(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function HE(e,t,n){const r=md(pd,n);for(const o of e.values())if(o.parentId)gd(o,e,t,r);else{const i=Ui(o,r.nodeOrigin),s=wo(o.extent)?o.extent:r.nodeExtent,l=_r(i,s,$n(o));o.internals.positionAbsolute=l}}function qu(e,t,n,r){var a,u;const o=md(BE,r);let i=e.length>0;const s=new Map(t),l=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let f=s.get(c.id);if(o.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const d=Ui(c,o.nodeOrigin),h=wo(c.extent)?c.extent:o.nodeExtent,g=_r(d,h,$n(c));f={...o.defaults,...c,measured:{width:(a=c.measured)==null?void 0:a.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:g,handleBounds:c.measured?f==null?void 0:f.internals.handleBounds:void 0,z:pg(c,l),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),c.parentId&&gd(f,t,n,r)}return i}function jE(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function gd(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:s}=md(pd,r),l=e.parentId,a=t.get(l);if(!a){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}jE(e,n);const u=o?1e3:0,{x:c,y:f,z:d}=VE(e,a,i,s,u),{positionAbsolute:h}=e.internals,g=c!==h.x||f!==h.y;(g||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:c,y:f}:h,z:d}})}function pg(e,t){return(Qt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function VE(e,t,n,r,o){const{x:i,y:s}=t.internals.positionAbsolute,l=$n(e),a=Ui(e,n),u=wo(e.extent)?_r(a,e.extent,l):a;let c=_r({x:i+u.x,y:s+u.y},r,l);e.extent==="parent"&&(c=tg(c,l,t));const f=pg(e,o),d=t.internals.z??0;return{x:c.x,y:c.y,z:d>=f?d+1:f}}function yd(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??vo(a),c=rg(u,l.rect);i.set(l.parentId,{expandedRect:c,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var m;const c=a.internals.positionAbsolute,f=$n(a),d=a.origin??r,h=l.x<c.x?Math.round(Math.abs(c.x-l.x)):0,g=l.y<c.y?Math.round(Math.abs(c.y-l.y)):0,w=Math.max(f.width,Math.round(l.width)),S=Math.max(f.height,Math.round(l.height)),p=(w-f.width)*d[0],y=(S-f.height)*d[1];(h>0||g>0||p||y)&&(o.push({id:u,type:"position",position:{x:a.position.x-h+p,y:a.position.y-g+y}}),(m=n.get(u))==null||m.forEach(v=>{e.some(E=>E.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+h,y:v.position.y+g}})})),(f.width<l.width||f.height<l.height||h||g)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(h?d[0]*h-p:0),height:S+(g?d[1]*g-y:0)}})}),o}function WE(e,t,n,r,o,i){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const a=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),l=!0;continue}const g=hd(d.nodeElement),w=h.measured.width!==g.width||h.measured.height!==g.height;if(!!(g.width&&g.height&&(w||!h.internals.handleBounds||d.force))){const p=d.nodeElement.getBoundingClientRect(),y=wo(h.extent)?h.extent:i;let{positionAbsolute:m}=h.internals;h.parentId&&h.extent==="parent"?m=tg(m,g,t.get(h.parentId)):y&&(m=_r(m,y,g));const v={...h,measured:g,internals:{...h.internals,positionAbsolute:m,handleBounds:{source:Uf("source",d.nodeElement,p,c,h.id),target:Uf("target",d.nodeElement,p,c,h.id)}}};t.set(h.id,v),h.parentId&&gd(v,t,n,{nodeOrigin:o}),l=!0,w&&(a.push({id:h.id,type:"dimensions",dimensions:g}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:vo(v,o)}))}}if(f.length>0){const d=yd(f,t,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function UE({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Zf(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function mg(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,c=`${i}-${l}--${o}-${s}`;Zf("source",a,c,e,o,s),Zf("target",a,u,e,i,l),t.set(r.id,r)}}function gg(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:gg(n,t):!1}function Jf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function YE(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!gg(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function qa({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,c]of t){const f=(s=n.get(u))==null?void 0:s.internals.userNode;f&&o.push({...f,position:c.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function XE({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=Xi(i,t);return{x:s.x-i.x,y:s.y-i.y}}function GE({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,g=!1,w=null;function S({noDragClassName:y,handleSelector:m,domNode:v,isSelectable:E,nodeId:k,nodeClickDistance:b=0}){d=Et(v);function M({x:z,y:A}){const{nodeLookup:C,nodeExtent:$,snapGrid:I,snapToGrid:D,nodeOrigin:T,onNodeDrag:N,onSelectionDrag:L,onError:F,updateNodePositions:j}=t();i={x:z,y:A};let G=!1;const X=l.size>1,te=X&&$?Gu(Yi(l)):null,J=X&&D?XE({dragItems:l,snapGrid:I,x:z,y:A}):null;for(const[K,Y]of l){if(!C.has(K))continue;let ne={x:z-Y.distance.x,y:A-Y.distance.y};D&&(ne=J?{x:ne.x+J.x,y:ne.y+J.y}:Xi(ne,I));let le=null;if(X&&$&&!Y.extent&&te){const{positionAbsolute:se}=Y.internals,re=se.x-te.x+$[0][0],ce=se.x+Y.measured.width-te.x2+$[1][0],pe=se.y-te.y+$[0][1],ee=se.y+Y.measured.height-te.y2+$[1][1];le=[[re,pe],[ce,ee]]}const{position:ae,positionAbsolute:ie}=eg({nodeId:K,nextPosition:ne,nodeLookup:C,nodeExtent:le||$,nodeOrigin:T,onError:F});G=G||Y.position.x!==ae.x||Y.position.y!==ae.y,Y.position=ae,Y.internals.positionAbsolute=ie}if(g=g||G,!!G&&(j(l,!0),w&&(r||N||!k&&L))){const[K,Y]=qa({nodeId:k,dragItems:l,nodeLookup:C});r==null||r(w,l,K,Y),N==null||N(w,K,Y),k||L==null||L(w,Y)}}async function _(){if(!c)return;const{transform:z,panBy:A,autoPanSpeed:C,autoPanOnNodeDrag:$}=t();if(!$){a=!1,cancelAnimationFrame(s);return}const[I,D]=ng(u,c,C);(I!==0||D!==0)&&(i.x=(i.x??0)-I/z[2],i.y=(i.y??0)-D/z[2],await A({x:I,y:D})&&M(i)),s=requestAnimationFrame(_)}function R(z){var X;const{nodeLookup:A,multiSelectionActive:C,nodesDraggable:$,transform:I,snapGrid:D,snapToGrid:T,selectNodesOnDrag:N,onNodeDragStart:L,onSelectionDragStart:F,unselectNodesAndEdges:j}=t();f=!0,(!N||!E)&&!C&&k&&((X=A.get(k))!=null&&X.selected||j()),E&&N&&k&&(e==null||e(k));const G=ni(z.sourceEvent,{transform:I,snapGrid:D,snapToGrid:T,containerBounds:c});if(i=G,l=YE(A,$,G,k),l.size>0&&(n||L||!k&&F)){const[te,J]=qa({nodeId:k,dragItems:l,nodeLookup:A});n==null||n(z.sourceEvent,l,te,J),L==null||L(z.sourceEvent,te,J),k||F==null||F(z.sourceEvent,J)}}const B=$m().clickDistance(b).on("start",z=>{const{domNode:A,nodeDragThreshold:C,transform:$,snapGrid:I,snapToGrid:D}=t();c=(A==null?void 0:A.getBoundingClientRect())||null,h=!1,g=!1,w=z.sourceEvent,C===0&&R(z),i=ni(z.sourceEvent,{transform:$,snapGrid:I,snapToGrid:D,containerBounds:c}),u=dn(z.sourceEvent,c)}).on("drag",z=>{const{autoPanOnNodeDrag:A,transform:C,snapGrid:$,snapToGrid:I,nodeDragThreshold:D,nodeLookup:T}=t(),N=ni(z.sourceEvent,{transform:C,snapGrid:$,snapToGrid:I,containerBounds:c});if(w=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||k&&!T.has(k))&&(h=!0),!h){if(!a&&A&&f&&(a=!0,_()),!f){const L=N.xSnapped-(i.x??0),F=N.ySnapped-(i.y??0);Math.sqrt(L*L+F*F)>D&&R(z)}(i.x!==N.xSnapped||i.y!==N.ySnapped)&&l&&f&&(u=dn(z.sourceEvent,c),M(N))}}).on("end",z=>{if(!(!f||h)&&(a=!1,f=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:A,updateNodePositions:C,onNodeDragStop:$,onSelectionDragStop:I}=t();if(g&&(C(l,!1),g=!1),o||$||!k&&I){const[D,T]=qa({nodeId:k,dragItems:l,nodeLookup:A,dragging:!1});o==null||o(z.sourceEvent,l,D,T),$==null||$(z.sourceEvent,D,T),k||I==null||I(z.sourceEvent,T)}}}).filter(z=>{const A=z.target;return!z.button&&(!y||!Jf(A,`.${y}`,v))&&(!m||Jf(A,m,v))});d.call(B)}function p(){d==null||d.on(".drag",null)}return{update:S,destroy:p}}function KE(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())wi(o,vo(i))>0&&r.push(i);return r}const QE=250;function qE(e,t,n,r){var l,a;let o=[],i=1/0;const s=KE(e,n,t+QE);for(const u of s){const c=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Si(u,f,f.position,!0),g=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));g>t||(g<i?(o=[{...f,x:d,y:h}],i=g):g===i&&o.push({...f,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(c=>c.type===u)??o[0]}return o[0]}function yg(e,t,n,r,o,i=!1){var u,c,f;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Si(s,a,a.position,!0)}:a}function vg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ZE(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const wg=()=>!0;function JE(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:g,onConnect:w,onConnectEnd:S,isValidConnection:p=wg,onReconnectEnd:y,updateConnection:m,getTransform:v,getFromHandle:E,autoPanSpeed:k,dragThreshold:b=1,handleDomNode:M}){const _=sg(e.target);let R=0,B;const{x:z,y:A}=dn(e),C=vg(i,M),$=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!$||!C)return;const D=yg(o,C,r,a,t);if(!D)return;let T=dn(e,$),N=!1,L=null,F=!1,j=null;function G(){if(!c||!$)return;const[ae,ie]=ng(T,$,k);d({x:ae,y:ie}),R=requestAnimationFrame(G)}const X={...D,nodeId:o,type:C,position:D.position},te=a.get(o);let K={inProgress:!0,isValid:null,from:Si(te,X,oe.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:te,to:T,toHandle:null,toPosition:Hf[X.position],toNode:null};function Y(){I=!0,m(K),g==null||g(e,{nodeId:o,handleId:r,handleType:C})}b===0&&Y();function ne(ae){if(!I){const{x:ce,y:pe}=dn(ae),ee=ce-z,ue=pe-A;if(!(ee*ee+ue*ue>b*b))return;Y()}if(!E()||!X){le(ae);return}const ie=v();T=dn(ae,$),B=qE(Gi(T,ie,!1,[1,1]),n,a,X),N||(G(),N=!0);const se=xg(ae,{handle:B,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:p,doc:_,lib:u,flowId:f,nodeLookup:a});j=se.handleDomNode,L=se.connection,F=ZE(!!B,se.isValid);const re={...K,isValid:F,to:se.toHandle&&F?hl({x:se.toHandle.x,y:se.toHandle.y},ie):T,toHandle:se.toHandle,toPosition:F&&se.toHandle?se.toHandle.position:Hf[X.position],toNode:se.toHandle?a.get(se.toHandle.nodeId):null};F&&B&&K.toHandle&&re.toHandle&&K.toHandle.type===re.toHandle.type&&K.toHandle.nodeId===re.toHandle.nodeId&&K.toHandle.id===re.toHandle.id&&K.to.x===re.to.x&&K.to.y===re.to.y||(m(re),K=re)}function le(ae){if(I){(B||j)&&L&&F&&(w==null||w(L));const{inProgress:ie,...se}=K,re={...se,toPosition:K.toHandle?K.toPosition:null};S==null||S(ae,re),i&&(y==null||y(ae,re))}h(),cancelAnimationFrame(R),N=!1,F=!1,L=null,j=null,_.removeEventListener("mousemove",ne),_.removeEventListener("mouseup",le),_.removeEventListener("touchmove",ne),_.removeEventListener("touchend",le)}_.addEventListener("mousemove",ne),_.addEventListener("mouseup",le),_.addEventListener("touchmove",ne),_.addEventListener("touchend",le)}function xg(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=wg,nodeLookup:c}){const f=i==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:g}=dn(e),w=s.elementFromPoint(h,g),S=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:d,p={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const y=vg(void 0,S),m=S.getAttribute("data-nodeid"),v=S.getAttribute("data-handleid"),E=S.classList.contains("connectable"),k=S.classList.contains("connectableend");if(!m||!y)return p;const b={source:f?m:r,sourceHandle:f?v:o,target:f?r:m,targetHandle:f?o:v};p.connection=b;const _=E&&k&&(n===go.Strict?f&&y==="source"||!f&&y==="target":m!==r||v!==o);p.isValid=_&&u(b),p.toHandle=yg(m,y,v,c,n,!0)}return p}const Zu={onPointerDown:JE,isValid:xg};function eb({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Et(e);function i({translateExtent:l,width:a,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const g=m=>{if(m.sourceEvent.type!=="wheel"||!t)return;const v=n(),E=m.sourceEvent.ctrlKey&&xi()?10:1,k=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*c,b=v[2]*Math.pow(2,k*E);t.scaleTo(b)};let w=[0,0];const S=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(w=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},p=m=>{const v=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const E=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],k=[E[0]-w[0],E[1]-w[1]];w=E;const b=r()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),M={x:v[0]-k[0]*b,y:v[1]-k[1]*b},_=[[0,0],[a,u]];t.setViewportConstrained({x:M.x,y:M.y,zoom:v[2]},_,l)},y=Gm().on("start",S).on("zoom",f?p:null).on("zoom.wheel",d?g:null);o.call(y,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:Yt}}const tb=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Jl=e=>({x:e.x,y:e.y,zoom:e.k}),Za=({x:e,y:t,zoom:n})=>Ql.translate(e,t).scale(n),Wr=(e,t)=>e.target.closest(`.${t}`),Sg=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),nb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Ja=(e,t=0,n=nb,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},Eg=e=>{const t=e.ctrlKey&&xi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function rb({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return c=>{if(Wr(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&s){const S=Yt(c),p=Eg(c),y=f*Math.pow(2,p);r.scaleTo(n,y,S,c);return}const d=c.deltaMode===1?20:1;let h=o===Sr.Vertical?0:c.deltaX*d,g=o===Sr.Horizontal?0:c.deltaY*d;!xi()&&c.shiftKey&&o!==Sr.Vertical&&(h=c.deltaY*d,g=0),r.translateBy(n,-(h/f)*i,-(g/f)*i,{internal:!0});const w=Jl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,l==null||l(c,w)),e.isPanScrolling&&(a==null||a(c,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,w),e.isPanScrolling=!1},150))}}function ob({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=Wr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function ib({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Jl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function sb({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&Sg(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Jl(i.transform)))}}function lb({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&Sg(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&tb(e.prevViewport,s.transform))){const a=Jl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function ab({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u}){return c=>{var g;const f=e||t,d=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(Wr(c,`${u}-flow__node`)||Wr(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||s||Wr(c,l)&&c.type==="wheel"||Wr(c,a)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((g=c.touches)==null?void 0:g.length)>1)return c.preventDefault(),!1;if(!f&&!o&&!d&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function ub({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=Gm().clickDistance(!Qt(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=Et(e).call(d);m({x:i.x,y:i.y,zoom:yo(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const g=h.on("wheel.zoom"),w=h.on("dblclick.zoom");d.wheelDelta(Eg);function S(z,A){return h?new Promise(C=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?ti:Ws).transform(Ja(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function p({noWheelClassName:z,noPanClassName:A,onPaneContextMenu:C,userSelectionActive:$,panOnScroll:I,panOnDrag:D,panOnScrollMode:T,panOnScrollSpeed:N,preventScrolling:L,zoomOnPinch:F,zoomOnScroll:j,zoomOnDoubleClick:G,zoomActivationKeyPressed:X,lib:te,onTransformChange:J}){$&&!c.isZoomingOrPanning&&y();const Y=I&&!X&&!$?rb({zoomPanValues:c,noWheelClassName:z,d3Selection:h,d3Zoom:d,panOnScrollMode:T,panOnScrollSpeed:N,zoomOnPinch:F,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:a}):ob({noWheelClassName:z,preventScrolling:L,d3ZoomHandler:g});if(h.on("wheel.zoom",Y,{passive:!1}),!$){const le=ib({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:l});d.on("start",le);const ae=sb({zoomPanValues:c,panOnDrag:D,onPaneContextMenu:!!C,onPanZoom:s,onTransformChange:J});d.on("zoom",ae);const ie=lb({zoomPanValues:c,panOnDrag:D,panOnScroll:I,onPaneContextMenu:C,onPanZoomEnd:a,onDraggingChange:u});d.on("end",ie)}const ne=ab({zoomActivationKeyPressed:X,panOnDrag:D,zoomOnScroll:j,panOnScroll:I,zoomOnDoubleClick:G,zoomOnPinch:F,userSelectionActive:$,noPanClassName:A,noWheelClassName:z,lib:te});d.filter(ne),G?h.on("dblclick.zoom",w):h.on("dblclick.zoom",null)}function y(){d.on("zoom",null)}async function m(z,A,C){const $=Za(z),I=d==null?void 0:d.constrain()($,A,C);return I&&await S(I),new Promise(D=>D(I))}async function v(z,A){const C=Za(z);return await S(C,A),new Promise($=>$(C))}function E(z){if(h){const A=Za(z),C=h.property("__zoom");(C.k!==z.zoom||C.x!==z.x||C.y!==z.y)&&(d==null||d.transform(h,A,null,{sync:!0}))}}function k(){const z=h?Xm(h.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function b(z,A){return h?new Promise(C=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?ti:Ws).scaleTo(Ja(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function M(z,A){return h?new Promise(C=>{d==null||d.interpolate((A==null?void 0:A.interpolate)==="linear"?ti:Ws).scaleBy(Ja(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function _(z){d==null||d.scaleExtent(z)}function R(z){d==null||d.translateExtent(z)}function B(z){const A=!Qt(z)||z<0?0:z;d==null||d.clickDistance(A)}return{update:p,destroy:y,setViewport:v,setViewportConstrained:m,getViewport:k,scaleTo:b,scaleBy:M,setScaleExtent:_,setTranslateExtent:R,syncViewport:E,setClickDistance:B}}var xo;(function(e){e.Line="line",e.Handle="handle"})(xo||(xo={}));function cb({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function db(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function On(e,t){return Math.max(0,t-e)}function An(e,t){return Math.max(0,e-t)}function xs(e,t,n){return Math.max(0,t-e,e-n)}function eh(e,t){return e?!t:t}function fb(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:g}=n,{minWidth:w,maxWidth:S,minHeight:p,maxHeight:y}=r,{x:m,y:v,width:E,height:k,aspectRatio:b}=e;let M=Math.floor(c?h-e.pointerX:0),_=Math.floor(f?g-e.pointerY:0);const R=E+(a?-M:M),B=k+(u?-_:_),z=-i[0]*E,A=-i[1]*k;let C=xs(R,w,S),$=xs(B,p,y);if(s){let T=0,N=0;a&&M<0?T=On(m+M+z,s[0][0]):!a&&M>0&&(T=An(m+R+z,s[1][0])),u&&_<0?N=On(v+_+A,s[0][1]):!u&&_>0&&(N=An(v+B+A,s[1][1])),C=Math.max(C,T),$=Math.max($,N)}if(l){let T=0,N=0;a&&M>0?T=An(m+M,l[0][0]):!a&&M<0&&(T=On(m+R,l[1][0])),u&&_>0?N=An(v+_,l[0][1]):!u&&_<0&&(N=On(v+B,l[1][1])),C=Math.max(C,T),$=Math.max($,N)}if(o){if(c){const T=xs(R/b,p,y)*b;if(C=Math.max(C,T),s){let N=0;!a&&!u||a&&!u&&d?N=An(v+A+R/b,s[1][1])*b:N=On(v+A+(a?M:-M)/b,s[0][1])*b,C=Math.max(C,N)}if(l){let N=0;!a&&!u||a&&!u&&d?N=On(v+R/b,l[1][1])*b:N=An(v+(a?M:-M)/b,l[0][1])*b,C=Math.max(C,N)}}if(f){const T=xs(B*b,w,S)/b;if($=Math.max($,T),s){let N=0;!a&&!u||u&&!a&&d?N=An(m+B*b+z,s[1][0])/b:N=On(m+(u?_:-_)*b+z,s[0][0])/b,$=Math.max($,N)}if(l){let N=0;!a&&!u||u&&!a&&d?N=On(m+B*b,l[1][0])/b:N=An(m+(u?_:-_)*b,l[0][0])/b,$=Math.max($,N)}}}_=_+(_<0?$:-$),M=M+(M<0?C:-C),o&&(d?R>B*b?_=(eh(a,u)?-M:M)/b:M=(eh(a,u)?-_:_)*b:c?(_=M/b,u=a):(M=_*b,a=u));const I=a?m+M:m,D=u?v+_:v;return{width:E+(a?-M:M),height:k+(u?-_:_),x:i[0]*M*(a?-1:1)+I,y:i[1]*_*(u?-1:1)+D}}const bg={width:0,height:0,x:0,y:0},hb={...bg,pointerX:0,pointerY:0,aspectRatio:1};function pb(e){return[[0,0],[e.measured.width,e.measured.height]]}function mb(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function gb({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Et(e);function s({controlPosition:a,boundaries:u,keepAspectRatio:c,resizeDirection:f,onResizeStart:d,onResize:h,onResizeEnd:g,shouldResize:w}){let S={...bg},p={...hb};const y=db(a);let m,v=null,E=[],k,b,M;const _=$m().on("start",R=>{const{nodeLookup:B,transform:z,snapGrid:A,snapToGrid:C,nodeOrigin:$,paneDomNode:I}=n();if(m=B.get(t),!m)return;v=(I==null?void 0:I.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:T}=ni(R.sourceEvent,{transform:z,snapGrid:A,snapToGrid:C,containerBounds:v});S={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},p={...S,pointerX:D,pointerY:T,aspectRatio:S.width/S.height},k=void 0,m.parentId&&(m.extent==="parent"||m.expandParent)&&(k=B.get(m.parentId),b=k&&m.extent==="parent"?pb(k):void 0),E=[],M=void 0;for(const[N,L]of B)if(L.parentId===t&&(E.push({id:N,position:{...L.position},extent:L.extent}),L.extent==="parent"||L.expandParent)){const F=mb(L,m,L.origin??$);M?M=[[Math.min(F[0][0],M[0][0]),Math.min(F[0][1],M[0][1])],[Math.max(F[1][0],M[1][0]),Math.max(F[1][1],M[1][1])]]:M=F}d==null||d(R,{...S})}).on("drag",R=>{const{transform:B,snapGrid:z,snapToGrid:A,nodeOrigin:C}=n(),$=ni(R.sourceEvent,{transform:B,snapGrid:z,snapToGrid:A,containerBounds:v}),I=[];if(!m)return;const{x:D,y:T,width:N,height:L}=S,F={},j=m.origin??C,{width:G,height:X,x:te,y:J}=fb(p,y,$,u,c,j,b,M),K=G!==N,Y=X!==L,ne=te!==D&&K,le=J!==T&&Y;if(!ne&&!le&&!K&&!Y)return;if((ne||le||j[0]===1||j[1]===1)&&(F.x=ne?te:S.x,F.y=le?J:S.y,S.x=F.x,S.y=F.y,E.length>0)){const re=te-D,ce=J-T;for(const pe of E)pe.position={x:pe.position.x-re+j[0]*(G-N),y:pe.position.y-ce+j[1]*(X-L)},I.push(pe)}if((K||Y)&&(F.width=K&&(!f||f==="horizontal")?G:S.width,F.height=Y&&(!f||f==="vertical")?X:S.height,S.width=F.width,S.height=F.height),k&&m.expandParent){const re=j[0]*(F.width??0);F.x&&F.x<re&&(S.x=re,p.x=p.x-(F.x-re));const ce=j[1]*(F.height??0);F.y&&F.y<ce&&(S.y=ce,p.y=p.y-(F.y-ce))}const ae=cb({width:S.width,prevWidth:N,height:S.height,prevHeight:L,affectsX:y.affectsX,affectsY:y.affectsY}),ie={...S,direction:ae};(w==null?void 0:w(R,ie))!==!1&&(h==null||h(R,ie),r(F,I))}).on("end",R=>{g==null||g(R,{...S}),o==null||o({...S})});i.call(_)}function l(){i.on(".drag",null)}return{update:s,destroy:l}}var Ju={},yb={get exports(){return Ju},set exports(e){Ju=e}},kg={},ec={},vb={get exports(){return ec},set exports(e){ec=e}},Cg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=P;function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xb=typeof Object.is=="function"?Object.is:wb,Sb=So.useState,Eb=So.useEffect,bb=So.useLayoutEffect,kb=So.useDebugValue;function Cb(e,t){var n=t(),r=Sb({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return bb(function(){o.value=n,o.getSnapshot=t,eu(o)&&i({inst:o})},[e,n,t]),Eb(function(){return eu(o)&&i({inst:o}),e(function(){eu(o)&&i({inst:o})})},[e]),kb(n),n}function eu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xb(e,n)}catch{return!0}}function _b(e,t){return t()}var Nb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_b:Cb;Cg.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:Nb;(function(e){e.exports=Cg})(vb);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=P,Pb=ec;function Mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ib=typeof Object.is=="function"?Object.is:Mb,Tb=Pb.useSyncExternalStore,Db=ea.useRef,$b=ea.useEffect,Lb=ea.useMemo,Rb=ea.useDebugValue;kg.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Db(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Lb(function(){function a(h){if(!u){if(u=!0,c=h,h=r(h),o!==void 0&&s.hasValue){var g=s.value;if(o(g,h))return f=g}return f=h}if(g=f,Ib(c,h))return g;var w=r(h);return o!==void 0&&o(g,w)?(c=h,g):(c=h,f=w)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=Tb(e,i[0],i[1]);return $b(function(){s.hasValue=!0,s.value=l},[l]),Rb(l),l};(function(e){e.exports=kg})(yb);const zb=um(Ju),th=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(g=>g(t,h))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{n.clear()}},u=t=e(r,o,a);return a},Ob=e=>e?th(e):th,{useDebugValue:Ab}=an,{useSyncExternalStoreWithSelector:Fb}=zb,Bb=e=>e;function _g(e,t=Bb,n){const r=Fb(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ab(r),r}const nh=(e,t)=>{const n=Ob(e),r=(o,i=t)=>_g(n,o,i);return Object.assign(r,n),r},Hb=(e,t)=>e?nh(e,t):nh;function Me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ei={},jb={get exports(){return Ei},set exports(e){Ei=e}},Pt={},tc={},Vb={get exports(){return tc},set exports(e){tc=e}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,N){var L=T.length;T.push(N);e:for(;0<L;){var F=L-1>>>1,j=T[F];if(0<o(j,N))T[F]=N,T[L]=j,L=F;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var N=T[0],L=T.pop();if(L!==N){T[0]=L;e:for(var F=0,j=T.length,G=j>>>1;F<G;){var X=2*(F+1)-1,te=T[X],J=X+1,K=T[J];if(0>o(te,L))J<j&&0>o(K,te)?(T[F]=K,T[J]=L,F=J):(T[F]=te,T[X]=L,F=X);else if(J<j&&0>o(K,L))T[F]=K,T[J]=L,F=J;else break e}}return N}function o(T,N){var L=T.sortIndex-N.sortIndex;return L!==0?L:T.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,g=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=T)r(u),N.sortIndex=N.expirationTime,t(a,N);else break;N=n(u)}}function v(T){if(w=!1,m(T),!g)if(n(a)!==null)g=!0,I(E);else{var N=n(u);N!==null&&D(v,N.startTime-T)}}function E(T,N){g=!1,w&&(w=!1,p(M),M=-1),h=!0;var L=d;try{for(m(N),f=n(a);f!==null&&(!(f.expirationTime>N)||T&&!B());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var j=F(f.expirationTime<=N);N=e.unstable_now(),typeof j=="function"?f.callback=j:f===n(a)&&r(a),m(N)}else r(a);f=n(a)}if(f!==null)var G=!0;else{var X=n(u);X!==null&&D(v,X.startTime-N),G=!1}return G}finally{f=null,d=L,h=!1}}var k=!1,b=null,M=-1,_=5,R=-1;function B(){return!(e.unstable_now()-R<_)}function z(){if(b!==null){var T=e.unstable_now();R=T;var N=!0;try{N=b(!0,T)}finally{N?A():(k=!1,b=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(z)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,$=C.port2;C.port1.onmessage=z,A=function(){$.postMessage(null)}}else A=function(){S(z,0)};function I(T){b=T,k||(k=!0,A())}function D(T,N){M=S(function(){T(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,I(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var L=d;d=N;try{return T()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,N){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=d;d=T;try{return N()}finally{d=L}},e.unstable_scheduleCallback=function(T,N,L){var F=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,T){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=L+j,T={id:c++,callback:N,priorityLevel:T,startTime:L,expirationTime:j,sortIndex:-1},L>F?(T.sortIndex=L,t(u,T),n(a)===null&&T===n(u)&&(w?(p(M),M=-1):w=!0,D(v,L-F))):(T.sortIndex=j,t(a,T),g||h||(g=!0,I(E))),T},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(T){var N=d;return function(){var L=d;d=N;try{return T.apply(this,arguments)}finally{d=L}}}})(Ng);(function(e){e.exports=Ng})(Vb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=P,Nt=tc;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pg=new Set,bi={};function Dr(e,t){Eo(e,t),Eo(e+"Capture",t)}function Eo(e,t){for(bi[e]=t,e=0;e<t.length;e++)Pg.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=Object.prototype.hasOwnProperty,Ub=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rh={},oh={};function Yb(e){return nc.call(oh,e)?!0:nc.call(rh,e)?!1:Ub.test(e)?oh[e]=!0:(rh[e]=!0,!1)}function Xb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gb(e,t,n,r){if(t===null||typeof t>"u"||Xb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var vd=/[\-:]([a-z])/g;function wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vd,wd);qe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vd,wd);qe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vd,wd);qe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function xd(e,t,n,r){var o=qe.hasOwnProperty(t)?qe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gb(t,n,o,r)&&(n=null),r||o===null?Yb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ln=Wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),Ed=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),ic=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Tg=Symbol.for("react.offscreen"),ih=Symbol.iterator;function Ao(e){return e===null||typeof e!="object"?null:(e=ih&&e[ih]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,tu;function Qo(e){if(tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var nu=!1;function ru(e,t){if(!e||nu)return"";nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{nu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qo(e):""}function Kb(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=ru(e.type,!1),e;case 11:return e=ru(e.type.render,!1),e;case 1:return e=ru(e.type,!0),e;default:return""}}function sc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case Ur:return"Portal";case rc:return"Profiler";case Sd:return"StrictMode";case oc:return"Suspense";case ic:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ig:return(e.displayName||"Context")+".Consumer";case Mg:return(e._context.displayName||"Context")+".Provider";case Ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bd:return t=e.displayName||null,t!==null?t:sc(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return sc(e(t))}catch{}}return null}function Qb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(t);case 8:return t===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e){var t=Dg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){e._valueTracker||(e._valueTracker=qb(e))}function $g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lc(e,t){var n=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lg(e,t){t=t.checked,t!=null&&xd(e,"checked",t,!1)}function ac(e,t){Lg(e,t);var n=sr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uc(e,t.type,n):t.hasOwnProperty("defaultValue")&&uc(e,t.type,sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uc(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qo=Array.isArray;function lo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function cc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ah(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(qo(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sr(n)}}function Rg(e,t){var n=sr(t.value),r=sr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bs,Og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ki(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){Zb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function Ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function Fg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ag(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Jb=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(e,t){if(t){if(Jb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mc=null,ao=null,uo=null;function ch(e){if(e=qi(e)){if(typeof mc!="function")throw Error(W(280));var t=e.stateNode;t&&(t=ia(t),mc(e.stateNode,e.type,t))}}function Bg(e){ao?uo?uo.push(e):uo=[e]:ao=e}function Hg(){if(ao){var e=ao,t=uo;if(uo=ao=null,ch(e),t)for(e=0;e<t.length;e++)ch(t[e])}}function jg(e,t){return e(t)}function Vg(){}var ou=!1;function Wg(e,t,n){if(ou)return e(t,n);ou=!0;try{return jg(e,t,n)}finally{ou=!1,(ao!==null||uo!==null)&&(Vg(),Hg())}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var gc=!1;if(Mn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){gc=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{gc=!1}function ek(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var oi=!1,ml=null,gl=!1,yc=null,tk={onError:function(e){oi=!0,ml=e}};function nk(e,t,n,r,o,i,s,l,a){oi=!1,ml=null,ek.apply(tk,arguments)}function rk(e,t,n,r,o,i,s,l,a){if(nk.apply(this,arguments),oi){if(oi){var u=ml;oi=!1,ml=null}else throw Error(W(198));gl||(gl=!0,yc=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ug(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dh(e){if($r(e)!==e)throw Error(W(188))}function ok(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return dh(o),e;if(i===r)return dh(o),t;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Yg(e){return e=ok(e),e!==null?Xg(e):null}function Xg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xg(e);if(t!==null)return t;e=e.sibling}return null}var Gg=Nt.unstable_scheduleCallback,fh=Nt.unstable_cancelCallback,ik=Nt.unstable_shouldYield,sk=Nt.unstable_requestPaint,Oe=Nt.unstable_now,lk=Nt.unstable_getCurrentPriorityLevel,Cd=Nt.unstable_ImmediatePriority,Kg=Nt.unstable_UserBlockingPriority,yl=Nt.unstable_NormalPriority,ak=Nt.unstable_LowPriority,Qg=Nt.unstable_IdlePriority,ta=null,hn=null;function uk(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:fk,ck=Math.log,dk=Math.LN2;function fk(e){return e>>>=0,e===0?32:31-(ck(e)/dk|0)|0}var ks=64,Cs=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Zo(l):(i&=s,i!==0&&(r=Zo(i)))}else s=n&~o,s!==0?r=Zo(s):i!==0&&(r=Zo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),o=1<<n,r|=e[n],t&=~o;return r}function hk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-qt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=hk(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function vc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qg(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function iu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function mk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-qt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function _d(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ve=0;function Zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jg,Nd,e0,t0,n0,wc=!1,_s=[],Qn=null,qn=null,Zn=null,_i=new Map,Ni=new Map,Un=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hh(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Bo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=qi(t),t!==null&&Nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function yk(e,t,n,r,o){switch(t){case"focusin":return Qn=Bo(Qn,e,t,n,r,o),!0;case"dragenter":return qn=Bo(qn,e,t,n,r,o),!0;case"mouseover":return Zn=Bo(Zn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return _i.set(i,Bo(_i.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ni.set(i,Bo(Ni.get(i)||null,e,t,n,r,o)),!0}return!1}function r0(e){var t=yr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=Ug(n),t!==null){e.blockedOn=t,n0(e.priority,function(){e0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pc=r,n.target.dispatchEvent(r),pc=null}else return t=qi(n),t!==null&&Nd(t),e.blockedOn=n,!1;t.shift()}return!0}function ph(e,t,n){Gs(e)&&n.delete(t)}function vk(){wc=!1,Qn!==null&&Gs(Qn)&&(Qn=null),qn!==null&&Gs(qn)&&(qn=null),Zn!==null&&Gs(Zn)&&(Zn=null),_i.forEach(ph),Ni.forEach(ph)}function Ho(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,vk)))}function Pi(e){function t(o){return Ho(o,e)}if(0<_s.length){Ho(_s[0],e);for(var n=1;n<_s.length;n++){var r=_s[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qn!==null&&Ho(Qn,e),qn!==null&&Ho(qn,e),Zn!==null&&Ho(Zn,e),_i.forEach(t),Ni.forEach(t),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)r0(n),n.blockedOn===null&&Un.shift()}var co=Ln.ReactCurrentBatchConfig,wl=!0;function wk(e,t,n,r){var o=ve,i=co.transition;co.transition=null;try{ve=1,Pd(e,t,n,r)}finally{ve=o,co.transition=i}}function xk(e,t,n,r){var o=ve,i=co.transition;co.transition=null;try{ve=4,Pd(e,t,n,r)}finally{ve=o,co.transition=i}}function Pd(e,t,n,r){if(wl){var o=xc(e,t,n,r);if(o===null)mu(e,t,r,xl,n),hh(e,r);else if(yk(o,e,t,n,r))r.stopPropagation();else if(hh(e,r),t&4&&-1<gk.indexOf(e)){for(;o!==null;){var i=qi(o);if(i!==null&&Jg(i),i=xc(e,t,n,r),i===null&&mu(e,t,r,xl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}var xl=null;function xc(e,t,n,r){if(xl=null,e=kd(r),e=yr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ug(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xl=e,null}function o0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case Cd:return 1;case Kg:return 4;case yl:case ak:return 16;case Qg:return 536870912;default:return 16}default:return 16}}var Xn=null,Md=null,Ks=null;function i0(){if(Ks)return Ks;var e,t=Md,n=t.length,r,o="value"in Xn?Xn.value:Xn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Ks=o.slice(e,1<r?1-r:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function mh(){return!1}function Mt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:mh,this.isPropagationStopped=mh,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=Mt(To),Qi=Ie({},To,{view:0,detail:0}),Sk=Mt(Qi),su,lu,jo,na=Ie({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(su=e.screenX-jo.screenX,lu=e.screenY-jo.screenY):lu=su=0,jo=e),su)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),gh=Mt(na),Ek=Ie({},na,{dataTransfer:0}),bk=Mt(Ek),kk=Ie({},Qi,{relatedTarget:0}),au=Mt(kk),Ck=Ie({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),_k=Mt(Ck),Nk=Ie({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pk=Mt(Nk),Mk=Ie({},To,{data:0}),yh=Mt(Mk),Ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dk[e])?!!t[e]:!1}function Td(){return $k}var Lk=Ie({},Qi,{key:function(e){if(e.key){var t=Ik[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rk=Mt(Lk),zk=Ie({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=Mt(zk),Ok=Ie({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),Ak=Mt(Ok),Fk=Ie({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=Mt(Fk),Hk=Ie({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Mt(Hk),Vk=[9,13,27,32],Dd=Mn&&"CompositionEvent"in window,ii=null;Mn&&"documentMode"in document&&(ii=document.documentMode);var Wk=Mn&&"TextEvent"in window&&!ii,s0=Mn&&(!Dd||ii&&8<ii&&11>=ii),wh=String.fromCharCode(32),xh=!1;function l0(e,t){switch(e){case"keyup":return Vk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function Uk(e,t){switch(e){case"compositionend":return a0(t);case"keypress":return t.which!==32?null:(xh=!0,wh);case"textInput":return e=t.data,e===wh&&xh?null:e;default:return null}}function Yk(e,t){if(Xr)return e==="compositionend"||!Dd&&l0(e,t)?(e=i0(),Ks=Md=Xn=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s0&&t.locale!=="ko"?null:t.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xk[e.type]:t==="textarea"}function u0(e,t,n,r){Bg(r),t=Sl(t,"onChange"),0<t.length&&(n=new Id("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var si=null,Mi=null;function Gk(e){x0(e,0)}function ra(e){var t=Qr(e);if($g(t))return e}function Kk(e,t){if(e==="change")return t}var c0=!1;if(Mn){var uu;if(Mn){var cu="oninput"in document;if(!cu){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),cu=typeof Eh.oninput=="function"}uu=cu}else uu=!1;c0=uu&&(!document.documentMode||9<document.documentMode)}function bh(){si&&(si.detachEvent("onpropertychange",d0),Mi=si=null)}function d0(e){if(e.propertyName==="value"&&ra(Mi)){var t=[];u0(t,Mi,e,kd(e)),Wg(Gk,t)}}function Qk(e,t,n){e==="focusin"?(bh(),si=t,Mi=n,si.attachEvent("onpropertychange",d0)):e==="focusout"&&bh()}function qk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ra(Mi)}function Zk(e,t){if(e==="click")return ra(t)}function Jk(e,t){if(e==="input"||e==="change")return ra(t)}function e2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:e2;function Ii(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!nc.call(t,o)||!Jt(e[o],t[o]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ch(e,t){var n=kh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kh(n)}}function f0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h0(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t2(e){var t=h0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&f0(n.ownerDocument.documentElement,n)){if(r!==null&&$d(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Ch(n,i);var s=Ch(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n2=Mn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Sc=null,li=null,Ec=!1;function _h(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ec||Gr==null||Gr!==pl(r)||(r=Gr,"selectionStart"in r&&$d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),li&&Ii(li,r)||(li=r,r=Sl(Sc,"onSelect"),0<r.length&&(t=new Id("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function Ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},du={},p0={};Mn&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function oa(e){if(du[e])return du[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in p0)return du[e]=t[n];return e}var m0=oa("animationend"),g0=oa("animationiteration"),y0=oa("animationstart"),v0=oa("transitionend"),w0=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){w0.set(e,t),Dr(t,[e])}for(var fu=0;fu<Nh.length;fu++){var hu=Nh[fu],r2=hu.toLowerCase(),o2=hu[0].toUpperCase()+hu.slice(1);ar(r2,"on"+o2)}ar(m0,"onAnimationEnd");ar(g0,"onAnimationIteration");ar(y0,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(v0,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Ph(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rk(r,t,void 0,e),e.currentTarget=null}function x0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Ph(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Ph(o,l,u),i=a}}}if(gl)throw e=yc,gl=!1,yc=null,e}function Se(e,t){var n=t[Nc];n===void 0&&(n=t[Nc]=new Set);var r=e+"__bubble";n.has(r)||(S0(t,e,2,!1),n.add(r))}function pu(e,t,n){var r=0;t&&(r|=4),S0(n,e,r,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function Ti(e){if(!e[Ms]){e[Ms]=!0,Pg.forEach(function(n){n!=="selectionchange"&&(i2.has(n)||pu(n,!1,e),pu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,pu("selectionchange",!1,t))}}function S0(e,t,n,r){switch(o0(t)){case 1:var o=wk;break;case 4:o=xk;break;default:o=Pd}n=o.bind(null,t,n,e),o=void 0,!gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=yr(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Wg(function(){var u=i,c=kd(n),f=[];e:{var d=w0.get(e);if(d!==void 0){var h=Id,g=e;switch(e){case"keypress":if(Qs(n)===0)break e;case"keydown":case"keyup":h=Rk;break;case"focusin":g="focus",h=au;break;case"focusout":g="blur",h=au;break;case"beforeblur":case"afterblur":h=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ak;break;case m0:case g0:case y0:h=_k;break;case v0:h=Bk;break;case"scroll":h=Sk;break;case"wheel":h=jk;break;case"copy":case"cut":case"paste":h=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=vh}var w=(t&4)!==0,S=!w&&e==="scroll",p=w?d!==null?d+"Capture":null:d;w=[];for(var y=u,m;y!==null;){m=y;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,p!==null&&(v=Ci(y,p),v!=null&&w.push(Di(y,v,m)))),S)break;y=y.return}0<w.length&&(d=new h(d,g,null,n,c),f.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==pc&&(g=n.relatedTarget||n.fromElement)&&(yr(g)||g[In]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?yr(g):null,g!==null&&(S=$r(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(w=gh,v="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=vh,v="onPointerLeave",p="onPointerEnter",y="pointer"),S=h==null?d:Qr(h),m=g==null?d:Qr(g),d=new w(v,y+"leave",h,n,c),d.target=S,d.relatedTarget=m,v=null,yr(c)===u&&(w=new w(p,y+"enter",g,n,c),w.target=m,w.relatedTarget=S,v=w),S=v,h&&g)t:{for(w=h,p=g,y=0,m=w;m;m=Br(m))y++;for(m=0,v=p;v;v=Br(v))m++;for(;0<y-m;)w=Br(w),y--;for(;0<m-y;)p=Br(p),m--;for(;y--;){if(w===p||p!==null&&w===p.alternate)break t;w=Br(w),p=Br(p)}w=null}else w=null;h!==null&&Mh(f,d,h,w,!1),g!==null&&S!==null&&Mh(f,S,g,w,!0)}}e:{if(d=u?Qr(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=Kk;else if(Sh(d))if(c0)E=Jk;else{E=qk;var k=Qk}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Zk);if(E&&(E=E(e,u))){u0(f,E,n,c);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&uc(d,"number",d.value)}switch(k=u?Qr(u):window,e){case"focusin":(Sh(k)||k.contentEditable==="true")&&(Gr=k,Sc=u,li=null);break;case"focusout":li=Sc=Gr=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,_h(f,n,c);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":_h(f,n,c)}var b;if(Dd)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Xr?l0(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(s0&&n.locale!=="ko"&&(Xr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Xr&&(b=i0()):(Xn=c,Md="value"in Xn?Xn.value:Xn.textContent,Xr=!0)),k=Sl(u,M),0<k.length&&(M=new yh(M,e,null,n,c),f.push({event:M,listeners:k}),b?M.data=b:(b=a0(n),b!==null&&(M.data=b)))),(b=Wk?Uk(e,n):Yk(e,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(c=new yh("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}x0(f,t)})}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ci(e,n),i!=null&&r.unshift(Di(e,i,o)),i=Ci(e,t),i!=null&&r.push(Di(e,i,o))),e=e.return}return r}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mh(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Ci(n,i),a!=null&&s.unshift(Di(n,a,l))):o||(a=Ci(n,i),a!=null&&s.push(Di(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var s2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function Ih(e){return(typeof e=="string"?e:""+e).replace(s2,`
`).replace(l2,"")}function Is(e,t,n){if(t=Ih(t),Ih(e)!==t&&n)throw Error(W(425))}function El(){}var bc=null,kc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,a2=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(c2)}:_c;function c2(e){setTimeout(function(){throw e})}function gu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Pi(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Do=Math.random().toString(36).slice(2),cn="__reactFiber$"+Do,$i="__reactProps$"+Do,In="__reactContainer$"+Do,Nc="__reactEvents$"+Do,d2="__reactListeners$"+Do,f2="__reactHandles$"+Do;function yr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dh(e);e!==null;){if(n=e[cn])return n;e=Dh(e)}return t}e=n,n=e.parentNode}return null}function qi(e){return e=e[cn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function ia(e){return e[$i]||null}var Pc=[],qr=-1;function ur(e){return{current:e}}function Ee(e){0>qr||(e.current=Pc[qr],Pc[qr]=null,qr--)}function xe(e,t){qr++,Pc[qr]=e.current,e.current=t}var lr={},rt=ur(lr),mt=ur(!1),Nr=lr;function bo(e,t){var n=e.type.contextTypes;if(!n)return lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gt(e){return e=e.childContextTypes,e!=null}function bl(){Ee(mt),Ee(rt)}function $h(e,t,n){if(rt.current!==lr)throw Error(W(168));xe(rt,t),xe(mt,n)}function E0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,Qb(e)||"Unknown",o));return Ie({},n,r)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Nr=rt.current,xe(rt,e),xe(mt,mt.current),!0}function Lh(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=E0(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,Ee(mt),Ee(rt),xe(rt,e)):Ee(mt),xe(mt,n)}var Sn=null,sa=!1,yu=!1;function b0(e){Sn===null?Sn=[e]:Sn.push(e)}function h2(e){sa=!0,b0(e)}function cr(){if(!yu&&Sn!==null){yu=!0;var e=0,t=ve;try{var n=Sn;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,sa=!1}catch(o){throw Sn!==null&&(Sn=Sn.slice(e+1)),Gg(Cd,cr),o}finally{ve=t,yu=!1}}return null}var Zr=[],Jr=0,Cl=null,_l=0,$t=[],Lt=0,Pr=null,Cn=1,_n="";function hr(e,t){Zr[Jr++]=_l,Zr[Jr++]=Cl,Cl=e,_l=t}function k0(e,t,n){$t[Lt++]=Cn,$t[Lt++]=_n,$t[Lt++]=Pr,Pr=e;var r=Cn;e=_n;var o=32-qt(r)-1;r&=~(1<<o),n+=1;var i=32-qt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Cn=1<<32-qt(t)+o|n<<o|r,_n=i+e}else Cn=1<<i|n<<o|r,_n=e}function Ld(e){e.return!==null&&(hr(e,1),k0(e,1,0))}function Rd(e){for(;e===Cl;)Cl=Zr[--Jr],Zr[Jr]=null,_l=Zr[--Jr],Zr[Jr]=null;for(;e===Pr;)Pr=$t[--Lt],$t[Lt]=null,_n=$t[--Lt],$t[Lt]=null,Cn=$t[--Lt],$t[Lt]=null}var kt=null,bt=null,ke=!1,Gt=null;function C0(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,bt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pr!==null?{id:Cn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,bt=null,!0):!1;default:return!1}}function Mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ic(e){if(ke){var t=bt;if(t){var n=t;if(!Rh(e,t)){if(Mc(e))throw Error(W(418));t=Jn(n.nextSibling);var r=kt;t&&Rh(e,t)?C0(r,n):(e.flags=e.flags&-4097|2,ke=!1,kt=e)}}else{if(Mc(e))throw Error(W(418));e.flags=e.flags&-4097|2,ke=!1,kt=e}}}function zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Ts(e){if(e!==kt)return!1;if(!ke)return zh(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=bt)){if(Mc(e))throw _0(),Error(W(418));for(;t;)C0(e,t),t=Jn(t.nextSibling)}if(zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bt=Jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=kt?Jn(e.stateNode.nextSibling):null;return!0}function _0(){for(var e=bt;e;)e=Jn(e.nextSibling)}function ko(){bt=kt=null,ke=!1}function zd(e){Gt===null?Gt=[e]:Gt.push(e)}var p2=Ln.ReactCurrentBatchConfig;function Vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oh(e){var t=e._init;return t(e._payload)}function N0(e){function t(p,y){if(e){var m=p.deletions;m===null?(p.deletions=[y],p.flags|=16):m.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function o(p,y){return p=rr(p,y),p.index=0,p.sibling=null,p}function i(p,y,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<y?(p.flags|=2,y):m):(p.flags|=2,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,m,v){return y===null||y.tag!==6?(y=ku(m,p.mode,v),y.return=p,y):(y=o(y,m),y.return=p,y)}function a(p,y,m,v){var E=m.type;return E===Yr?c(p,y,m.props.children,v,m.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vn&&Oh(E)===y.type)?(v=o(y,m.props),v.ref=Vo(p,y,m),v.return=p,v):(v=rl(m.type,m.key,m.props,null,p.mode,v),v.ref=Vo(p,y,m),v.return=p,v)}function u(p,y,m,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Cu(m,p.mode,v),y.return=p,y):(y=o(y,m.children||[]),y.return=p,y)}function c(p,y,m,v,E){return y===null||y.tag!==7?(y=br(m,p.mode,v,E),y.return=p,y):(y=o(y,m),y.return=p,y)}function f(p,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ku(""+y,p.mode,m),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:return m=rl(y.type,y.key,y.props,null,p.mode,m),m.ref=Vo(p,null,y),m.return=p,m;case Ur:return y=Cu(y,p.mode,m),y.return=p,y;case Vn:var v=y._init;return f(p,v(y._payload),m)}if(qo(y)||Ao(y))return y=br(y,p.mode,m,null),y.return=p,y;Ds(p,y)}return null}function d(p,y,m,v){var E=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(p,y,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ss:return m.key===E?a(p,y,m,v):null;case Ur:return m.key===E?u(p,y,m,v):null;case Vn:return E=m._init,d(p,y,E(m._payload),v)}if(qo(m)||Ao(m))return E!==null?null:c(p,y,m,v,null);Ds(p,m)}return null}function h(p,y,m,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(m)||null,l(y,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:return p=p.get(v.key===null?m:v.key)||null,a(y,p,v,E);case Ur:return p=p.get(v.key===null?m:v.key)||null,u(y,p,v,E);case Vn:var k=v._init;return h(p,y,m,k(v._payload),E)}if(qo(v)||Ao(v))return p=p.get(m)||null,c(y,p,v,E,null);Ds(y,v)}return null}function g(p,y,m,v){for(var E=null,k=null,b=y,M=y=0,_=null;b!==null&&M<m.length;M++){b.index>M?(_=b,b=null):_=b.sibling;var R=d(p,b,m[M],v);if(R===null){b===null&&(b=_);break}e&&b&&R.alternate===null&&t(p,b),y=i(R,y,M),k===null?E=R:k.sibling=R,k=R,b=_}if(M===m.length)return n(p,b),ke&&hr(p,M),E;if(b===null){for(;M<m.length;M++)b=f(p,m[M],v),b!==null&&(y=i(b,y,M),k===null?E=b:k.sibling=b,k=b);return ke&&hr(p,M),E}for(b=r(p,b);M<m.length;M++)_=h(b,p,M,m[M],v),_!==null&&(e&&_.alternate!==null&&b.delete(_.key===null?M:_.key),y=i(_,y,M),k===null?E=_:k.sibling=_,k=_);return e&&b.forEach(function(B){return t(p,B)}),ke&&hr(p,M),E}function w(p,y,m,v){var E=Ao(m);if(typeof E!="function")throw Error(W(150));if(m=E.call(m),m==null)throw Error(W(151));for(var k=E=null,b=y,M=y=0,_=null,R=m.next();b!==null&&!R.done;M++,R=m.next()){b.index>M?(_=b,b=null):_=b.sibling;var B=d(p,b,R.value,v);if(B===null){b===null&&(b=_);break}e&&b&&B.alternate===null&&t(p,b),y=i(B,y,M),k===null?E=B:k.sibling=B,k=B,b=_}if(R.done)return n(p,b),ke&&hr(p,M),E;if(b===null){for(;!R.done;M++,R=m.next())R=f(p,R.value,v),R!==null&&(y=i(R,y,M),k===null?E=R:k.sibling=R,k=R);return ke&&hr(p,M),E}for(b=r(p,b);!R.done;M++,R=m.next())R=h(b,p,M,R.value,v),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?M:R.key),y=i(R,y,M),k===null?E=R:k.sibling=R,k=R);return e&&b.forEach(function(z){return t(p,z)}),ke&&hr(p,M),E}function S(p,y,m,v){if(typeof m=="object"&&m!==null&&m.type===Yr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ss:e:{for(var E=m.key,k=y;k!==null;){if(k.key===E){if(E=m.type,E===Yr){if(k.tag===7){n(p,k.sibling),y=o(k,m.props.children),y.return=p,p=y;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vn&&Oh(E)===k.type){n(p,k.sibling),y=o(k,m.props),y.ref=Vo(p,k,m),y.return=p,p=y;break e}n(p,k);break}else t(p,k);k=k.sibling}m.type===Yr?(y=br(m.props.children,p.mode,v,m.key),y.return=p,p=y):(v=rl(m.type,m.key,m.props,null,p.mode,v),v.ref=Vo(p,y,m),v.return=p,p=v)}return s(p);case Ur:e:{for(k=m.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(p,y.sibling),y=o(y,m.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=Cu(m,p.mode,v),y.return=p,p=y}return s(p);case Vn:return k=m._init,S(p,y,k(m._payload),v)}if(qo(m))return g(p,y,m,v);if(Ao(m))return w(p,y,m,v);Ds(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(p,y.sibling),y=o(y,m),y.return=p,p=y):(n(p,y),y=ku(m,p.mode,v),y.return=p,p=y),s(p)):n(p,y)}return S}var Co=N0(!0),P0=N0(!1),Nl=ur(null),Pl=null,eo=null,Od=null;function Ad(){Od=eo=Pl=null}function Fd(e){var t=Nl.current;Ee(Nl),e._currentValue=t}function Tc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fo(e,t){Pl=e,Od=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Od!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(Pl===null)throw Error(W(308));eo=e,Pl.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var vr=null;function Bd(e){vr===null?vr=[e]:vr.push(e)}function M0(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Bd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Tn(e,r)}function Tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Tn(e,n)}return o=r.interleaved,o===null?(t.next=t,Bd(r)):(t.next=o.next,o.next=t),r.interleaved=t,Tn(e,n)}function qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_d(e,n)}}function Ah(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ml(e,t,n,r){var o=e.updateQueue;Wn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var d=l.lane,h=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(d=t,h=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=Ie({},f,d);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(1);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ir|=s,e.lanes=s,e.memoizedState=f}}function Fh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Zi={},pn=ur(Zi),Li=ur(Zi),Ri=ur(Zi);function wr(e){if(e===Zi)throw Error(W(174));return e}function jd(e,t){switch(xe(Ri,t),xe(Li,e),xe(pn,Zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dc(t,e)}Ee(pn),xe(pn,t)}function _o(){Ee(pn),Ee(Li),Ee(Ri)}function T0(e){wr(Ri.current);var t=wr(pn.current),n=dc(t,e.type);t!==n&&(xe(Li,e),xe(pn,n))}function Vd(e){Li.current===e&&(Ee(pn),Ee(Li))}var Ne=ur(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function Wd(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var Zs=Ln.ReactCurrentDispatcher,wu=Ln.ReactCurrentBatchConfig,Mr=0,Pe=null,We=null,Xe=null,Tl=!1,ai=!1,zi=0,m2=0;function Je(){throw Error(W(321))}function Ud(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Yd(e,t,n,r,o,i){if(Mr=i,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?w2:x2,e=n(r,o),ai){i=0;do{if(ai=!1,zi=0,25<=i)throw Error(W(301));i+=1,Xe=We=null,t.updateQueue=null,Zs.current=S2,e=n(r,o)}while(ai)}if(Zs.current=Dl,t=We!==null&&We.next!==null,Mr=0,Xe=We=Pe=null,Tl=!1,t)throw Error(W(300));return e}function Xd(){var e=zi!==0;return zi=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Pe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function At(){if(We===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Xe===null?Pe.memoizedState:Xe.next;if(t!==null)Xe=t,We=e;else{if(e===null)throw Error(W(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?Pe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Oi(e,t){return typeof t=="function"?t(e):t}function xu(e){var t=At(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=We,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Mr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Pe.lanes|=c,Ir|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Jt(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Pe.lanes|=i,Ir|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=At(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Jt(i,t.memoizedState)||(pt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function D0(){}function $0(e,t){var n=Pe,r=At(),o=t(),i=!Jt(r.memoizedState,o);if(i&&(r.memoizedState=o,pt=!0),r=r.queue,Gd(z0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Ai(9,R0.bind(null,n,r,o,t),void 0,null),Ge===null)throw Error(W(349));Mr&30||L0(n,t,o)}return o}function L0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R0(e,t,n,r){t.value=n,t.getSnapshot=r,O0(t)&&A0(e)}function z0(e,t,n){return n(function(){O0(t)&&A0(e)})}function O0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function A0(e){var t=Tn(e,1);t!==null&&Zt(t,e,1,-1)}function Bh(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},t.queue=e,e=e.dispatch=v2.bind(null,Pe,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function F0(){return At().memoizedState}function Js(e,t,n,r){var o=ln();Pe.flags|=e,o.memoizedState=Ai(1|t,n,void 0,r===void 0?null:r)}function la(e,t,n,r){var o=At();r=r===void 0?null:r;var i=void 0;if(We!==null){var s=We.memoizedState;if(i=s.destroy,r!==null&&Ud(r,s.deps)){o.memoizedState=Ai(t,n,i,r);return}}Pe.flags|=e,o.memoizedState=Ai(1|t,n,i,r)}function Hh(e,t){return Js(8390656,8,e,t)}function Gd(e,t){return la(2048,8,e,t)}function B0(e,t){return la(4,2,e,t)}function H0(e,t){return la(4,4,e,t)}function j0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function V0(e,t,n){return n=n!=null?n.concat([e]):null,la(4,4,j0.bind(null,t,e),n)}function Kd(){}function W0(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ud(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function U0(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ud(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Y0(e,t,n){return Mr&21?(Jt(n,t)||(n=qg(),Pe.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function g2(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=wu.transition;wu.transition={};try{e(!1),t()}finally{ve=n,wu.transition=r}}function X0(){return At().memoizedState}function y2(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G0(e))K0(t,n);else if(n=M0(e,t,n,r),n!==null){var o=at();Zt(n,e,r,o),Q0(n,t,r)}}function v2(e,t,n){var r=nr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(e))K0(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Jt(l,s)){var a=t.interleaved;a===null?(o.next=o,Bd(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=M0(e,t,o,r),n!==null&&(o=at(),Zt(n,e,r,o),Q0(n,t,r))}}function G0(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function K0(e,t){ai=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_d(e,n)}}var Dl={readContext:Ot,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},w2={readContext:Ot,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Hh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,j0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=y2.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Bh,useDebugValue:Kd,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Bh(!1),t=e[0];return e=g2.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,o=ln();if(ke){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Ge===null)throw Error(W(349));Mr&30||L0(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Hh(z0.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,R0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ge.identifierPrefix;if(ke){var n=_n,r=Cn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x2={readContext:Ot,useCallback:W0,useContext:Ot,useEffect:Gd,useImperativeHandle:V0,useInsertionEffect:B0,useLayoutEffect:H0,useMemo:U0,useReducer:xu,useRef:F0,useState:function(){return xu(Oi)},useDebugValue:Kd,useDeferredValue:function(e){var t=At();return Y0(t,We.memoizedState,e)},useTransition:function(){var e=xu(Oi)[0],t=At().memoizedState;return[e,t]},useMutableSource:D0,useSyncExternalStore:$0,useId:X0,unstable_isNewReconciler:!1},S2={readContext:Ot,useCallback:W0,useContext:Ot,useEffect:Gd,useImperativeHandle:V0,useInsertionEffect:B0,useLayoutEffect:H0,useMemo:U0,useReducer:Su,useRef:F0,useState:function(){return Su(Oi)},useDebugValue:Kd,useDeferredValue:function(e){var t=At();return We===null?t.memoizedState=e:Y0(t,We.memoizedState,e)},useTransition:function(){var e=Su(Oi)[0],t=At().memoizedState;return[e,t]},useMutableSource:D0,useSyncExternalStore:$0,useId:X0,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),o=nr(e),i=Nn(r,o);i.payload=t,n!=null&&(i.callback=n),t=er(e,i,o),t!==null&&(Zt(t,e,o,r),qs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),o=nr(e),i=Nn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=er(e,i,o),t!==null&&(Zt(t,e,o,r),qs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=nr(e),o=Nn(n,r);o.tag=2,t!=null&&(o.callback=t),t=er(e,o,r),t!==null&&(Zt(t,e,r,n),qs(t,e,r))}};function jh(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(o,i):!0}function q0(e,t,n){var r=!1,o=lr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(o=gt(t)?Nr:rt.current,r=t.contextTypes,i=(r=r!=null)?bo(e,o):lr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function $c(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Hd(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ot(i):(i=gt(t)?Nr:rt.current,o.context=bo(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dc(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&aa.enqueueReplaceState(o,o.state,null),Ml(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function No(e,t){try{var n="",r=t;do n+=Kb(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Eu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var E2=typeof WeakMap=="function"?WeakMap:Map;function Z0(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Wc=r),Lc(e,t)},n}function J0(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Lc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lc(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Wh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new E2;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=z2.bind(null,e,t,n),t.then(e,e))}function Uh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yh(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var b2=Ln.ReactCurrentOwner,pt=!1;function lt(e,t,n,r){t.child=e===null?P0(t,null,n,r):Co(t,e.child,n,r)}function Xh(e,t,n,r,o){n=n.render;var i=t.ref;return fo(t,o),r=Yd(e,t,n,r,i,o),n=Xd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dn(e,t,o)):(ke&&n&&Ld(t),t.flags|=1,lt(e,t,r,o),t.child)}function Gh(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!rf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ey(e,t,i,r,o)):(e=rl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(s,r)&&e.ref===t.ref)return Dn(e,t,o)}return t.flags|=1,e=rr(i,r),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ii(i,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,Dn(e,t,o)}return Rc(e,t,n,r,o)}function ty(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(no,St),St|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(no,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(no,St),St|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xe(no,St),St|=r;return lt(e,t,o,n),t.child}function ny(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rc(e,t,n,r,o){var i=gt(n)?Nr:rt.current;return i=bo(t,i),fo(t,o),n=Yd(e,t,n,r,i,o),r=Xd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dn(e,t,o)):(ke&&r&&Ld(t),t.flags|=1,lt(e,t,n,o),t.child)}function Kh(e,t,n,r,o){if(gt(n)){var i=!0;kl(t)}else i=!1;if(fo(t,o),t.stateNode===null)el(e,t),q0(t,n,r),$c(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=gt(n)?Nr:rt.current,u=bo(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Vh(t,s,r,u),Wn=!1;var d=t.memoizedState;s.state=d,Ml(t,r,s,o),a=t.memoizedState,l!==r||d!==a||mt.current||Wn?(typeof c=="function"&&(Dc(t,n,c,r),a=t.memoizedState),(l=Wn||jh(t,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,I0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ut(t.type,l),s.props=u,f=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ot(a):(a=gt(n)?Nr:rt.current,a=bo(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Vh(t,s,r,a),Wn=!1,d=t.memoizedState,s.state=d,Ml(t,r,s,o);var g=t.memoizedState;l!==f||d!==g||mt.current||Wn?(typeof h=="function"&&(Dc(t,n,h,r),g=t.memoizedState),(u=Wn||jh(t,n,u,r,d,g,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return zc(e,t,n,r,i,o)}function zc(e,t,n,r,o,i){ny(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Lh(t,n,!1),Dn(e,t,i);r=t.stateNode,b2.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Co(t,e.child,null,i),t.child=Co(t,null,l,i)):lt(e,t,l,i),t.memoizedState=r.state,o&&Lh(t,n,!0),t.child}function ry(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),jd(e,t.containerInfo)}function Qh(e,t,n,r,o){return ko(),zd(o),t.flags|=256,lt(e,t,n,r),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function oy(e,t,n){var r=t.pendingProps,o=Ne.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),xe(Ne,o&1),e===null)return Ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=da(s,r,0,null),e=br(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ac(n),t.memoizedState=Oc,e):Qd(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return k2(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=rr(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=rr(l,i):(i=br(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ac(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Oc,r}return i=e.child,e=i.sibling,r=rr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qd(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $s(e,t,n,r){return r!==null&&zd(r),Co(t,e.child,null,n),e=Qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k2(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Eu(Error(W(422))),$s(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=da({mode:"visible",children:r.children},o,0,null),i=br(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Co(t,e.child,null,s),t.child.memoizedState=Ac(s),t.memoizedState=Oc,i);if(!(t.mode&1))return $s(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(W(419)),r=Eu(i,r,void 0),$s(e,t,s,r)}if(l=(s&e.childLanes)!==0,pt||l){if(r=Ge,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Tn(e,o),Zt(r,e,o,-1))}return nf(),r=Eu(Error(W(421))),$s(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=O2.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,bt=Jn(o.nextSibling),kt=t,ke=!0,Gt=null,e!==null&&($t[Lt++]=Cn,$t[Lt++]=_n,$t[Lt++]=Pr,Cn=e.id,_n=e.overflow,Pr=t),t=Qd(t,r.children),t.flags|=4096,t)}function qh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tc(e.return,t,n)}function bu(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function iy(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(lt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,n,t);else if(e.tag===19)qh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Il(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),bu(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Il(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}bu(t,!0,n,null,i);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C2(e,t,n){switch(t.tag){case 3:ry(t),ko();break;case 5:T0(t);break;case 1:gt(t.type)&&kl(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;xe(Nl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?oy(e,t,n):(xe(Ne,Ne.current&1),e=Dn(e,t,n),e!==null?e.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),xe(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,ty(e,t,n)}return Dn(e,t,n)}var sy,Fc,ly,ay;sy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fc=function(){};ly=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,wr(pn.current);var i=null;switch(n){case"input":o=lc(e,o),r=lc(e,r),i=[];break;case"select":o=Ie({},o,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":o=cc(e,o),r=cc(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}fc(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Se("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ay=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wo(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _2(e,t,n){var r=t.pendingProps;switch(Rd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return gt(t.type)&&bl(),et(t),null;case 3:return r=t.stateNode,_o(),Ee(mt),Ee(rt),Wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(Xc(Gt),Gt=null))),Fc(e,t),et(t),null;case 5:Vd(t);var o=wr(Ri.current);if(n=t.type,e!==null&&t.stateNode!=null)ly(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return et(t),null}if(e=wr(pn.current),Ts(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[cn]=t,r[$i]=i,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Se(Jo[o],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":sh(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":ah(r,i),Se("invalid",r)}fc(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Is(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Is(r.textContent,l,e),o=["children",""+l]):bi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Se("scroll",r)}switch(n){case"input":Es(r),lh(r,i,!0);break;case"textarea":Es(r),uh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=El)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[cn]=t,e[$i]=r,sy(e,t,!1,!1),t.stateNode=e;e:{switch(s=hc(n,r),n){case"dialog":Se("cancel",e),Se("close",e),o=r;break;case"iframe":case"object":case"embed":Se("load",e),o=r;break;case"video":case"audio":for(o=0;o<Jo.length;o++)Se(Jo[o],e);o=r;break;case"source":Se("error",e),o=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),o=r;break;case"details":Se("toggle",e),o=r;break;case"input":sh(e,r),o=lc(e,r),Se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ie({},r,{value:void 0}),Se("invalid",e);break;case"textarea":ah(e,r),o=cc(e,r),Se("invalid",e);break;default:o=r}fc(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Fg(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Og(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ki(e,a):typeof a=="number"&&ki(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bi.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Se("scroll",e):a!=null&&xd(e,i,a,s))}switch(n){case"input":Es(e),lh(e,r,!1);break;case"textarea":Es(e),uh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?lo(e,!!r.multiple,i,!1):r.defaultValue!=null&&lo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)ay(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=wr(Ri.current),wr(pn.current),Ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[cn]=t,(i=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:Is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=t,t.stateNode=r}return et(t),null;case 13:if(Ee(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&bt!==null&&t.mode&1&&!(t.flags&128))_0(),ko(),t.flags|=98560,i=!1;else if(i=Ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[cn]=t}else ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else Gt!==null&&(Xc(Gt),Gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ue===0&&(Ue=3):nf())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return _o(),Fc(e,t),e===null&&Ti(t.stateNode.containerInfo),et(t),null;case 10:return Fd(t.type._context),et(t),null;case 17:return gt(t.type)&&bl(),et(t),null;case 19:if(Ee(Ne),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Wo(i,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Il(e),s!==null){for(t.flags|=128,Wo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Oe()>Po&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Il(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ke)return et(t),null}else 2*Oe()-i.renderingStartTime>Po&&n!==1073741824&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Oe(),t.sibling=null,n=Ne.current,xe(Ne,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return tf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function N2(e,t){switch(Rd(t),t.tag){case 1:return gt(t.type)&&bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),Ee(mt),Ee(rt),Wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vd(t),null;case 13:if(Ee(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ne),null;case 4:return _o(),null;case 10:return Fd(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Ls=!1,nt=!1,P2=typeof WeakSet=="function"?WeakSet:Set,q=null;function to(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Bc(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Zh=!1;function M2(e,t){if(bc=wl,e=h0(),$d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++c===r&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},wl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,S=g.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ut(t.type,w),S);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(v){Te(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return g=Zh,Zh=!1,g}function ui(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Bc(t,n,i)}o=o.next}while(o!==r)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uy(e){var t=e.alternate;t!==null&&(e.alternate=null,uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[$i],delete t[Nc],delete t[d2],delete t[f2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cy(e){return e.tag===5||e.tag===3||e.tag===4}function Jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(jc(e,t,n),e=e.sibling;e!==null;)jc(e,t,n),e=e.sibling}function Vc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vc(e,t,n),e=e.sibling;e!==null;)Vc(e,t,n),e=e.sibling}var Ke=null,Xt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)dy(e,t,n),n=n.sibling}function dy(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:nt||to(n,t);case 6:var r=Ke,o=Xt;Ke=null,Fn(e,t,n),Ke=r,Xt=o,Ke!==null&&(Xt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Xt?(e=Ke,n=n.stateNode,e.nodeType===8?gu(e.parentNode,n):e.nodeType===1&&gu(e,n),Pi(e)):gu(Ke,n.stateNode));break;case 4:r=Ke,o=Xt,Ke=n.stateNode.containerInfo,Xt=!0,Fn(e,t,n),Ke=r,Xt=o;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Bc(n,t,s),o=o.next}while(o!==r)}Fn(e,t,n);break;case 1:if(!nt&&(to(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Fn(e,t,n),nt=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function ep(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P2),t.forEach(function(r){var o=A2.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,Xt=!1;break e;case 3:Ke=l.stateNode.containerInfo,Xt=!0;break e;case 4:Ke=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Ke===null)throw Error(W(160));dy(i,s,o),Ke=null,Xt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Te(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fy(t,e),t=t.sibling}function fy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),sn(e),r&4){try{ui(3,e,e.return),ua(3,e)}catch(w){Te(e,e.return,w)}try{ui(5,e,e.return)}catch(w){Te(e,e.return,w)}}break;case 1:jt(t,e),sn(e),r&512&&n!==null&&to(n,n.return);break;case 5:if(jt(t,e),sn(e),r&512&&n!==null&&to(n,n.return),e.flags&32){var o=e.stateNode;try{ki(o,"")}catch(w){Te(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Lg(o,i),hc(l,s);var u=hc(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?Fg(o,f):c==="dangerouslySetInnerHTML"?Og(o,f):c==="children"?ki(o,f):xd(o,c,f,u)}switch(l){case"input":ac(o,i);break;case"textarea":Rg(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?lo(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?lo(o,!!i.multiple,i.defaultValue,!0):lo(o,!!i.multiple,i.multiple?[]:"",!1))}o[$i]=i}catch(w){Te(e,e.return,w)}}break;case 6:if(jt(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){Te(e,e.return,w)}}break;case 3:if(jt(t,e),sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(w){Te(e,e.return,w)}break;case 4:jt(t,e),sn(e);break;case 13:jt(t,e),sn(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Jd=Oe())),r&4&&ep(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(u=nt)||c,jt(t,e),nt=u):jt(t,e),sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(f=q=c;q!==null;){switch(d=q,h=d.child,d.tag){case 0:case 11:case 14:case 15:ui(4,d,d.return);break;case 1:to(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Te(r,n,w)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){np(f);continue}}h!==null?(h.return=d,q=h):np(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ag("display",s))}catch(w){Te(e,e.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Te(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jt(t,e),sn(e),r&4&&ep(e);break;case 21:break;default:jt(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cy(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ki(o,""),r.flags&=-33);var i=Jh(e);Vc(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Jh(e);jc(e,l,s);break;default:throw Error(W(161))}}catch(a){Te(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I2(e,t,n){q=e,hy(e)}function hy(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ls;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||nt;l=Ls;var u=nt;if(Ls=s,(nt=a)&&!u)for(q=o;q!==null;)s=q,a=s.child,s.tag===22&&s.memoizedState!==null?rp(o):a!==null?(a.return=s,q=a):rp(o);for(;i!==null;)q=i,hy(i),i=i.sibling;q=o,Ls=l,nt=u}tp(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,q=i):tp(e)}}function tp(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||ua(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fh(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fh(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Pi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}nt||t.flags&512&&Hc(t)}catch(d){Te(t,t.return,d)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function np(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function rp(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ua(4,t)}catch(a){Te(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Te(t,o,a)}}var i=t.return;try{Hc(t)}catch(a){Te(t,i,a)}break;case 5:var s=t.return;try{Hc(t)}catch(a){Te(t,s,a)}}}catch(a){Te(t,t.return,a)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var T2=Math.ceil,$l=Ln.ReactCurrentDispatcher,qd=Ln.ReactCurrentOwner,zt=Ln.ReactCurrentBatchConfig,me=0,Ge=null,Fe=null,Qe=0,St=0,no=ur(0),Ue=0,Fi=null,Ir=0,ca=0,Zd=0,ci=null,dt=null,Jd=0,Po=1/0,xn=null,Ll=!1,Wc=null,tr=null,Rs=!1,Gn=null,Rl=0,di=0,Uc=null,tl=-1,nl=0;function at(){return me&6?Oe():tl!==-1?tl:tl=Oe()}function nr(e){return e.mode&1?me&2&&Qe!==0?Qe&-Qe:p2.transition!==null?(nl===0&&(nl=qg()),nl):(e=ve,e!==0||(e=window.event,e=e===void 0?16:o0(e.type)),e):1}function Zt(e,t,n,r){if(50<di)throw di=0,Uc=null,Error(W(185));Ki(e,n,r),(!(me&2)||e!==Ge)&&(e===Ge&&(!(me&2)&&(ca|=n),Ue===4&&Yn(e,Qe)),yt(e,r),n===1&&me===0&&!(t.mode&1)&&(Po=Oe()+500,sa&&cr()))}function yt(e,t){var n=e.callbackNode;pk(e,t);var r=vl(e,e===Ge?Qe:0);if(r===0)n!==null&&fh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fh(n),t===1)e.tag===0?h2(op.bind(null,e)):b0(op.bind(null,e)),u2(function(){!(me&6)&&cr()}),n=null;else{switch(Zg(r)){case 1:n=Cd;break;case 4:n=Kg;break;case 16:n=yl;break;case 536870912:n=Qg;break;default:n=yl}n=Sy(n,py.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function py(e,t){if(tl=-1,nl=0,me&6)throw Error(W(327));var n=e.callbackNode;if(ho()&&e.callbackNode!==n)return null;var r=vl(e,e===Ge?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zl(e,r);else{t=r;var o=me;me|=2;var i=gy();(Ge!==e||Qe!==t)&&(xn=null,Po=Oe()+500,Er(e,t));do try{L2();break}catch(l){my(e,l)}while(1);Ad(),$l.current=i,me=o,Fe!==null?t=0:(Ge=null,Qe=0,t=Ue)}if(t!==0){if(t===2&&(o=vc(e),o!==0&&(r=o,t=Yc(e,o))),t===1)throw n=Fi,Er(e,0),Yn(e,r),yt(e,Oe()),n;if(t===6)Yn(e,r);else{if(o=e.current.alternate,!(r&30)&&!D2(o)&&(t=zl(e,r),t===2&&(i=vc(e),i!==0&&(r=i,t=Yc(e,i))),t===1))throw n=Fi,Er(e,0),Yn(e,r),yt(e,Oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:pr(e,dt,xn);break;case 3:if(Yn(e,r),(r&130023424)===r&&(t=Jd+500-Oe(),10<t)){if(vl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=_c(pr.bind(null,e,dt,xn),t);break}pr(e,dt,xn);break;case 4:if(Yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-qt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T2(r/1960))-r,10<r){e.timeoutHandle=_c(pr.bind(null,e,dt,xn),r);break}pr(e,dt,xn);break;case 5:pr(e,dt,xn);break;default:throw Error(W(329))}}}return yt(e,Oe()),e.callbackNode===n?py.bind(null,e):null}function Yc(e,t){var n=ci;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=zl(e,t),e!==2&&(t=dt,dt=n,t!==null&&Xc(t)),e}function Xc(e){dt===null?dt=e:dt.push.apply(dt,e)}function D2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Jt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Zd,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function op(e){if(me&6)throw Error(W(327));ho();var t=vl(e,0);if(!(t&1))return yt(e,Oe()),null;var n=zl(e,t);if(e.tag!==0&&n===2){var r=vc(e);r!==0&&(t=r,n=Yc(e,r))}if(n===1)throw n=Fi,Er(e,0),Yn(e,t),yt(e,Oe()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,dt,xn),yt(e,Oe()),null}function ef(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Po=Oe()+500,sa&&cr())}}function Tr(e){Gn!==null&&Gn.tag===0&&!(me&6)&&ho();var t=me;me|=1;var n=zt.transition,r=ve;try{if(zt.transition=null,ve=1,e)return e()}finally{ve=r,zt.transition=n,me=t,!(me&6)&&cr()}}function tf(){St=no.current,Ee(no)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a2(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:_o(),Ee(mt),Ee(rt),Wd();break;case 5:Vd(r);break;case 4:_o();break;case 13:Ee(Ne);break;case 19:Ee(Ne);break;case 10:Fd(r.type._context);break;case 22:case 23:tf()}n=n.return}if(Ge=e,Fe=e=rr(e.current,null),Qe=St=t,Ue=0,Fi=null,Zd=ca=Ir=0,dt=ci=null,vr!==null){for(t=0;t<vr.length;t++)if(n=vr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}vr=null}return e}function my(e,t){do{var n=Fe;try{if(Ad(),Zs.current=Dl,Tl){for(var r=Pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Tl=!1}if(Mr=0,Xe=We=Pe=null,ai=!1,zi=0,qd.current=null,n===null||n.return===null){Ue=1,Fi=t,Fe=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Uh(s);if(h!==null){h.flags&=-257,Yh(h,s,l,i,t),h.mode&1&&Wh(i,u,t),t=h,a=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(a),t.updateQueue=w}else g.add(a);break e}else{if(!(t&1)){Wh(i,u,t),nf();break e}a=Error(W(426))}}else if(ke&&l.mode&1){var S=Uh(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yh(S,s,l,i,t),zd(No(a,l));break e}}i=a=No(a,l),Ue!==4&&(Ue=2),ci===null?ci=[i]:ci.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Z0(i,a,t);Ah(i,p);break e;case 1:l=a;var y=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=J0(i,l,t);Ah(i,v);break e}}i=i.return}while(i!==null)}vy(n)}catch(E){t=E,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function gy(){var e=$l.current;return $l.current=Dl,e===null?Dl:e}function nf(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(Ir&268435455)&&!(ca&268435455)||Yn(Ge,Qe)}function zl(e,t){var n=me;me|=2;var r=gy();(Ge!==e||Qe!==t)&&(xn=null,Er(e,t));do try{$2();break}catch(o){my(e,o)}while(1);if(Ad(),me=n,$l.current=r,Fe!==null)throw Error(W(261));return Ge=null,Qe=0,Ue}function $2(){for(;Fe!==null;)yy(Fe)}function L2(){for(;Fe!==null&&!ik();)yy(Fe)}function yy(e){var t=xy(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?vy(e):Fe=t,qd.current=null}function vy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N2(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Fe=null;return}}else if(n=_2(n,t,St),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ue===0&&(Ue=5)}function pr(e,t,n){var r=ve,o=zt.transition;try{zt.transition=null,ve=1,R2(e,t,n,r)}finally{zt.transition=o,ve=r}return null}function R2(e,t,n,r){do ho();while(Gn!==null);if(me&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mk(e,i),e===Ge&&(Fe=Ge=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rs||(Rs=!0,Sy(yl,function(){return ho(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var s=ve;ve=1;var l=me;me|=4,qd.current=null,M2(e,n),fy(n,e),t2(kc),wl=!!bc,kc=bc=null,e.current=n,I2(n),sk(),me=l,ve=s,zt.transition=i}else e.current=n;if(Rs&&(Rs=!1,Gn=e,Rl=o),i=e.pendingLanes,i===0&&(tr=null),uk(n.stateNode),yt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ll)throw Ll=!1,e=Wc,Wc=null,e;return Rl&1&&e.tag!==0&&ho(),i=e.pendingLanes,i&1?e===Uc?di++:(di=0,Uc=e):di=0,cr(),null}function ho(){if(Gn!==null){var e=Zg(Rl),t=zt.transition,n=ve;try{if(zt.transition=null,ve=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,Rl=0,me&6)throw Error(W(331));var o=me;for(me|=4,q=e.current;q!==null;){var i=q,s=i.child;if(q.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:ui(8,c,i)}var f=c.child;if(f!==null)f.return=c,q=f;else for(;q!==null;){c=q;var d=c.sibling,h=c.return;if(uy(c),c===u){q=null;break}if(d!==null){d.return=h,q=d;break}q=h}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,q=s;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ui(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,q=p;break e}q=i.return}}var y=e.current;for(q=y;q!==null;){s=q;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,q=m;else e:for(s=y;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ua(9,l)}}catch(E){Te(l,l.return,E)}if(l===s){q=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,q=v;break e}q=l.return}}if(me=o,cr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ta,e)}catch{}r=!0}return r}finally{ve=n,zt.transition=t}}return!1}function ip(e,t,n){t=No(n,t),t=Z0(e,t,1),e=er(e,t,1),t=at(),e!==null&&(Ki(e,1,t),yt(e,t))}function Te(e,t,n){if(e.tag===3)ip(e,e,n);else for(;t!==null;){if(t.tag===3){ip(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=No(n,e),e=J0(t,e,1),t=er(t,e,1),e=at(),t!==null&&(Ki(t,1,e),yt(t,e));break}}t=t.return}}function z2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Qe&n)===n&&(Ue===4||Ue===3&&(Qe&130023424)===Qe&&500>Oe()-Jd?Er(e,0):Zd|=n),yt(e,t)}function wy(e,t){t===0&&(e.mode&1?(t=Cs,Cs<<=1,!(Cs&130023424)&&(Cs=4194304)):t=1);var n=at();e=Tn(e,t),e!==null&&(Ki(e,t,n),yt(e,n))}function O2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wy(e,n)}function A2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),wy(e,n)}var xy;xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,C2(e,t,n);pt=!!(e.flags&131072)}else pt=!1,ke&&t.flags&1048576&&k0(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var o=bo(t,rt.current);fo(t,n),o=Yd(null,t,r,e,o,n);var i=Xd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(i=!0,kl(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Hd(t),o.updater=aa,t.stateNode=o,o._reactInternals=t,$c(t,r,e,n),t=zc(null,t,r,!0,i,n)):(t.tag=0,ke&&i&&Ld(t),lt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=B2(r),e=Ut(r,e),o){case 0:t=Rc(null,t,r,e,n);break e;case 1:t=Kh(null,t,r,e,n);break e;case 11:t=Xh(null,t,r,e,n);break e;case 14:t=Gh(null,t,r,Ut(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),Rc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),Kh(e,t,r,o,n);case 3:e:{if(ry(t),e===null)throw Error(W(387));r=t.pendingProps,i=t.memoizedState,o=i.element,I0(e,t),Ml(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=No(Error(W(423)),t),t=Qh(e,t,r,n,o);break e}else if(r!==o){o=No(Error(W(424)),t),t=Qh(e,t,r,n,o);break e}else for(bt=Jn(t.stateNode.containerInfo.firstChild),kt=t,ke=!0,Gt=null,n=P0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===o){t=Dn(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return T0(t),e===null&&Ic(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Cc(r,o)?s=null:i!==null&&Cc(r,i)&&(t.flags|=32),ny(e,t),lt(e,t,s,n),t.child;case 6:return e===null&&Ic(t),null;case 13:return oy(e,t,n);case 4:return jd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Co(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),Xh(e,t,r,o,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,xe(Nl,r._currentValue),r._currentValue=s,i!==null)if(Jt(i.value,s)){if(i.children===o.children&&!mt.current){t=Dn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Nn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Tc(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(W(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tc(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}lt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,fo(t,n),o=Ot(o),r=r(o),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,o=Ut(r,t.pendingProps),o=Ut(r.type,o),Gh(e,t,r,o,n);case 15:return ey(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),el(e,t),t.tag=1,gt(r)?(e=!0,kl(t)):e=!1,fo(t,n),q0(t,r,o),$c(t,r,o,n),zc(null,t,r,!0,e,n);case 19:return iy(e,t,n);case 22:return ty(e,t,n)}throw Error(W(156,t.tag))};function Sy(e,t){return Gg(e,t)}function F2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,r){return new F2(e,t,n,r)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B2(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ed)return 11;if(e===bd)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")rf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Yr:return br(n.children,o,i,t);case Sd:s=8,o|=8;break;case rc:return e=Rt(12,n,t,o|2),e.elementType=rc,e.lanes=i,e;case oc:return e=Rt(13,n,t,o),e.elementType=oc,e.lanes=i,e;case ic:return e=Rt(19,n,t,o),e.elementType=ic,e.lanes=i,e;case Tg:return da(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mg:s=10;break e;case Ig:s=9;break e;case Ed:s=11;break e;case bd:s=14;break e;case Vn:s=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Rt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function br(e,t,n,r){return e=Rt(7,e,r,t),e.lanes=n,e}function da(e,t,n,r){return e=Rt(22,e,r,t),e.elementType=Tg,e.lanes=n,e.stateNode={isHidden:!1},e}function ku(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function Cu(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H2(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function of(e,t,n,r,o,i,s,l,a){return e=new H2(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(i),e}function j2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ey(e){if(!e)return lr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(gt(n))return E0(e,n,t)}return t}function by(e,t,n,r,o,i,s,l,a){return e=of(n,r,!0,e,o,i,s,l,a),e.context=Ey(null),n=e.current,r=at(),o=nr(n),i=Nn(r,o),i.callback=t??null,er(n,i,o),e.current.lanes=o,Ki(e,o,r),yt(e,r),e}function fa(e,t,n,r){var o=t.current,i=at(),s=nr(o);return n=Ey(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(o,t,s),e!==null&&(Zt(e,o,s,i),qs(e,o,s)),s}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sf(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function V2(){return null}var ky=typeof reportError=="function"?reportError:function(e){console.error(e)};function lf(e){this._internalRoot=e}ha.prototype.render=lf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));fa(e,t,null,null)};ha.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){fa(null,e,null,null)}),t[In]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=t0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&r0(e)}};function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lp(){}function W2(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ol(s);i.call(u)}}var s=by(t,r,e,0,null,!1,!1,"",lp);return e._reactRootContainer=s,e[In]=s.current,Ti(e.nodeType===8?e.parentNode:e),Tr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Ol(a);l.call(u)}}var a=of(e,0,!1,null,null,!1,!1,"",lp);return e._reactRootContainer=a,e[In]=a.current,Ti(e.nodeType===8?e.parentNode:e),Tr(function(){fa(t,a,n,r)}),a}function ma(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Ol(s);l.call(a)}}fa(t,s,e,o)}else s=W2(n,t,e,o,r);return Ol(s)}Jg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zo(t.pendingLanes);n!==0&&(_d(t,n|1),yt(t,Oe()),!(me&6)&&(Po=Oe()+500,cr()))}break;case 13:Tr(function(){var r=Tn(e,1);if(r!==null){var o=at();Zt(r,e,1,o)}}),sf(e,1)}};Nd=function(e){if(e.tag===13){var t=Tn(e,134217728);if(t!==null){var n=at();Zt(t,e,134217728,n)}sf(e,134217728)}};e0=function(e){if(e.tag===13){var t=nr(e),n=Tn(e,t);if(n!==null){var r=at();Zt(n,e,t,r)}sf(e,t)}};t0=function(){return ve};n0=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};mc=function(e,t,n){switch(t){case"input":if(ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ia(r);if(!o)throw Error(W(90));$g(r),ac(r,o)}}}break;case"textarea":Rg(e,n);break;case"select":t=n.value,t!=null&&lo(e,!!n.multiple,t,!1)}};jg=ef;Vg=Tr;var U2={usingClientEntryPoint:!1,Events:[qi,Qr,ia,Bg,Hg,ef]},Uo={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yg(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||V2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zs.isDisabled&&zs.supportsFiber)try{ta=zs.inject(Y2),hn=zs}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U2;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(t))throw Error(W(200));return j2(e,t,null,n)};Pt.createRoot=function(e,t){if(!af(e))throw Error(W(299));var n=!1,r="",o=ky;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=of(e,1,!1,null,null,n,!1,r,o),e[In]=t.current,Ti(e.nodeType===8?e.parentNode:e),new lf(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Yg(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Tr(e)};Pt.hydrate=function(e,t,n){if(!pa(t))throw Error(W(200));return ma(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!af(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=ky;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=by(t,null,e,1,n??null,o,!1,i,s),e[In]=t.current,Ti(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ha(t)};Pt.render=function(e,t,n){if(!pa(t))throw Error(W(200));return ma(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!pa(e))throw Error(W(40));return e._reactRootContainer?(Tr(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};Pt.unstable_batchedUpdates=ef;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pa(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return ma(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Pt})(jb);const ga=P.createContext(null),X2=ga.Provider,Cy=mn.error001();function he(e,t){const n=P.useContext(ga);if(n===null)throw new Error(Cy);return _g(n,e,t)}function Ce(){const e=P.useContext(ga);if(e===null)throw new Error(Cy);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ap={display:"none"},G2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_y="react-flow__node-desc",Ny="react-flow__edge-desc",K2="react-flow__aria-live",Q2=e=>e.ariaLiveMessage,q2=e=>e.ariaLabelConfig;function Z2({rfId:e}){const t=he(Q2);return x("div",{id:`${K2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:G2,children:t})}function J2({rfId:e,disableKeyboardA11y:t}){const n=he(q2);return H(ft,{children:[x("div",{id:`${_y}-${e}`,style:ap,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),x("div",{id:`${Ny}-${e}`,style:ap,children:n["edge.a11yDescription.default"]}),!t&&x(Z2,{rfId:e})]})}const Kn=P.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return x("div",{className:He(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});Kn.displayName="Panel";function eC({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:x(Kn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const tC=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Os=e=>e.id;function nC(e,t){return Me(e.selectedNodes.map(Os),t.selectedNodes.map(Os))&&Me(e.selectedEdges.map(Os),t.selectedEdges.map(Os))}function rC({onSelectionChange:e}){const t=Ce(),{selectedNodes:n,selectedEdges:r}=he(tC,nC);return P.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const oC=e=>!!e.onSelectionChangeHandlers;function iC({onSelectionChange:e}){const t=he(oC);return e||t?x(rC,{onSelectionChange:e}):null}const Py=[0,0],sC={x:0,y:0,zoom:1},lC=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],up=[...lC,"rfId"],aC=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),cp={translateExtent:yi,nodeOrigin:Py,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function uC(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a,setPaneClickDistance:u}=he(aC,Me),c=Ce();P.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=cp,l()}),[]);const f=P.useRef(cp);return P.useEffect(()=>{for(const d of up){const h=e[d],g=f.current[d];h!==g&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?o(h):d==="translateExtent"?i(h):d==="nodeExtent"?s(h):d==="paneClickDistance"?u(h):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:ME(h)}):d==="fitView"?c.setState({fitViewQueued:h}):d==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[d]:h})))}f.current=e},up.map(d=>e[d])),null}function dp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function cC(e){var r;const[t,n]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){n(e);return}const o=dp(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=dp())!=null&&r.matches?"dark":"light"}const fp=typeof document<"u"?document:null;function Bi(e=null,t={target:fp,actInsideInputWithModifier:!0}){const[n,r]=P.useState(!1),o=P.useRef(!1),i=P.useRef(new Set([])),[s,l]=P.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return P.useEffect(()=>{const a=(t==null?void 0:t.target)??fp,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var S,p;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!u)&&lg(h))return!1;const w=pp(h.code,l);if(i.current.add(h[w]),hp(s,i.current,!1)){const y=((p=(S=h.composedPath)==null?void 0:S.call(h))==null?void 0:p[0])||h.target,m=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!m)&&h.preventDefault(),r(!0)}},f=h=>{const g=pp(h.code,l);hp(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[g]),h.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",c),a==null||a.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",c),a==null||a.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function hp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function pp(e,t){return t.includes(e)?"code":"key"}const dC=()=>{const e=Ce();return P.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=fd(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},c=n.snapGrid??o,f=n.snapToGrid??i;return Gi(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=hl(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function My(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)fC(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function fC(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Iy(e,t){return My(e,t)}function Ty(e,t){return My(e,t)}function mr(e,t){return{id:e,type:"select",selected:t}}function ro(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(mr(i.id,s)))}return r}function mp({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function gp(e){return{id:e.id,type:"remove"}}const yp=e=>wE(e),hC=e=>Jm(e);function Dy(e){return P.forwardRef(e)}const pC=typeof window<"u"?P.useLayoutEffect:P.useEffect;function vp(e){const[t,n]=P.useState(BigInt(0)),[r]=P.useState(()=>mC(()=>n(o=>o+BigInt(1))));return pC(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function mC(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const $y=P.createContext(null);function gC({children:e}){const t=Ce(),n=P.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h}=t.getState();let g=a;for(const S of l)g=typeof S=="function"?S(g):S;const w=mp({items:g,lookup:d});c&&u(g),w.length>0?f==null||f(w):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:p,setNodes:y}=t.getState();S&&y(p)})},[]),r=vp(n),o=P.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=a;for(const g of l)h=typeof g=="function"?g(h):g;c?u(h):f&&f(mp({items:h,lookup:d}))},[]),i=vp(o),s=P.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return x($y.Provider,{value:s,children:e})}function yC(){const e=P.useContext($y);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const vC=e=>!!e.panZoom;function ya(){const e=dC(),t=Ce(),n=yC(),r=he(vC),o=P.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},l=f=>{n.edgeQueue.push(f)},a=f=>{var p,y;const{nodeLookup:d,nodeOrigin:h}=t.getState(),g=yp(f)?f:d.get(f.id),w=g.parentId?ig(g.position,g.measured,g.parentId,d,h):g.position,S={...g,position:w,width:((p=g.measured)==null?void 0:p.width)??g.width,height:((y=g.measured)==null?void 0:y.height)??g.height};return vo(S)},u=(f,d,h={replace:!1})=>{s(g=>g.map(w=>{if(w.id===f){const S=typeof d=="function"?d(w):d;return h.replace&&yp(S)?S:{...w,...S}}return w}))},c=(f,d,h={replace:!1})=>{l(g=>g.map(w=>{if(w.id===f){const S=typeof d=="function"?d(w):d;return h.replace&&hC(S)?S:{...w,...S}}return w}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=i(f))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:l,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[g,w,S]=h;return{nodes:f.map(p=>({...p})),edges:d.map(p=>({...p})),viewport:{x:g,y:w,zoom:S}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:g,onNodesDelete:w,onEdgesDelete:S,triggerNodeChanges:p,triggerEdgeChanges:y,onDelete:m,onBeforeDelete:v}=t.getState(),{nodes:E,edges:k}=await kE({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:g,onBeforeDelete:v}),b=k.length>0,M=E.length>0;if(b){const _=k.map(gp);S==null||S(k),y(_)}if(M){const _=E.map(gp);w==null||w(E),p(_)}return(M||b)&&(m==null||m({nodes:E,edges:k})),{deletedNodes:E,deletedEdges:k}},getIntersectingNodes:(f,d=!0,h)=>{const g=Vf(f),w=g?f:a(f),S=h!==void 0;return w?(h||t.getState().nodes).filter(p=>{const y=t.getState().nodeLookup.get(p.id);if(y&&!g&&(p.id===f.id||!y.internals.positionAbsolute))return!1;const m=vo(S?p:y),v=wi(m,w);return d&&v>0||v>=m.width*m.height||v>=w.width*w.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const w=Vf(f)?f:a(f);if(!w)return!1;const S=wi(w,d);return h&&S>0||S>=w.width*w.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,g=>{const w=typeof d=="function"?d(g):d;return h.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,g=>{const w=typeof d=="function"?d(g):d;return h.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return xE(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:g.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??PE();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return P.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const wp=e=>e.selected,wC=typeof window<"u"?window:void 0;function xC({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ce(),{deleteElements:r}=ya(),o=Bi(e,{actInsideInputWithModifier:!1}),i=Bi(t,{target:wC});P.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(wp),edges:s.filter(wp)}),n.setState({nodesSelectionActive:!1})}},[o]),P.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function SC(e){const t=Ce();P.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=hd(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",mn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const va={position:"absolute",width:"100%",height:"100%",top:0,left:0},EC=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function bC({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=Sr.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:g,noWheelClassName:w,noPanClassName:S,onViewportChange:p,isControlledViewport:y,paneClickDistance:m}){const v=Ce(),E=P.useRef(null),{userSelectionActive:k,lib:b}=he(EC,Me),M=Bi(d),_=P.useRef();SC(E);const R=P.useCallback(B=>{p==null||p({x:B[0],y:B[1],zoom:B[2]}),y||v.setState({transform:B})},[p,y]);return P.useEffect(()=>{if(E.current){_.current=ub({domNode:E.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:a,paneClickDistance:m,onDraggingChange:C=>v.setState({paneDragging:C}),onPanZoomStart:(C,$)=>{const{onViewportChangeStart:I,onMoveStart:D}=v.getState();D==null||D(C,$),I==null||I($)},onPanZoom:(C,$)=>{const{onViewportChange:I,onMove:D}=v.getState();D==null||D(C,$),I==null||I($)},onPanZoomEnd:(C,$)=>{const{onViewportChangeEnd:I,onMoveEnd:D}=v.getState();D==null||D(C,$),I==null||I($)}});const{x:B,y:z,zoom:A}=_.current.getViewport();return v.setState({panZoom:_.current,transform:[B,z,A],domNode:E.current.closest(".react-flow")}),()=>{var C;(C=_.current)==null||C.destroy()}}},[]),P.useEffect(()=>{var B;(B=_.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:M,preventScrolling:h,noPanClassName:S,userSelectionActive:k,noWheelClassName:w,lib:b,onTransformChange:R})},[e,t,n,r,o,i,s,l,M,h,S,k,w,b,R]),x("div",{className:"react-flow__renderer",ref:E,style:va,children:g})}const kC=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function CC(){const{userSelectionActive:e,userSelectionRect:t}=he(kC,Me);return e&&t?x("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const _u=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},_C=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function NC({isSelecting:e,selectionKeyPressed:t,selectionMode:n=vi.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:a,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const g=Ce(),{userSelectionActive:w,elementsSelectable:S,dragging:p,connectionInProgress:y}=he(_C,Me),m=S&&(e||w),v=P.useRef(null),E=P.useRef(),k=P.useRef(new Set),b=P.useRef(new Set),M=P.useRef(!1),_=P.useRef(!1),R=D=>{if(M.current||y){M.current=!1;return}l==null||l(D),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},B=D=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){D.preventDefault();return}a==null||a(D)},z=u?D=>u(D):void 0,A=D=>{var j,G;const{resetSelectedElements:T,domNode:N}=g.getState();if(E.current=N==null?void 0:N.getBoundingClientRect(),!S||!e||D.button!==0||D.target!==v.current||!E.current)return;(G=(j=D.target)==null?void 0:j.setPointerCapture)==null||G.call(j,D.pointerId),_.current=!0,M.current=!1;const{x:L,y:F}=dn(D.nativeEvent,E.current);T(),g.setState({userSelectionRect:{width:0,height:0,startX:L,startY:F,x:L,y:F}}),i==null||i(D)},C=D=>{const{userSelectionRect:T,transform:N,nodeLookup:L,edgeLookup:F,connectionLookup:j,triggerNodeChanges:G,triggerEdgeChanges:X,defaultEdgeOptions:te}=g.getState();if(!E.current||!T)return;M.current=!0;const{x:J,y:K}=dn(D.nativeEvent,E.current),{startX:Y,startY:ne}=T,le={startX:Y,startY:ne,x:J<Y?J:Y,y:K<ne?K:ne,width:Math.abs(J-Y),height:Math.abs(K-ne)},ae=k.current,ie=b.current;k.current=new Set(dd(L,le,N,n===vi.Partial,!0).map(re=>re.id)),b.current=new Set;const se=(te==null?void 0:te.selectable)??!0;for(const re of k.current){const ce=j.get(re);if(ce)for(const{edgeId:pe}of ce.values()){const ee=F.get(pe);ee&&(ee.selectable??se)&&b.current.add(pe)}}if(!Wf(ae,k.current)){const re=ro(L,k.current,!0);G(re)}if(!Wf(ie,b.current)){const re=ro(F,b.current);X(re)}g.setState({userSelectionRect:le,userSelectionActive:!0,nodesSelectionActive:!1})},$=D=>{var N,L;if(D.button!==0||!_.current)return;(L=(N=D.target)==null?void 0:N.releasePointerCapture)==null||L.call(N,D.pointerId);const{userSelectionRect:T}=g.getState();!w&&T&&D.target===v.current&&(R==null||R(D)),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:k.current.size>0}),s==null||s(D),(t||o)&&(M.current=!1),_.current=!1},I=r===!0||Array.isArray(r)&&r.includes(0);return H("div",{className:He(["react-flow__pane",{draggable:I,dragging:p,selection:e}]),onClick:m?void 0:_u(R,v),onContextMenu:_u(B,v),onWheel:_u(z,v),onPointerEnter:m?void 0:c,onPointerDown:m?A:f,onPointerMove:m?C:f,onPointerUp:m?$:void 0,onPointerLeave:d,ref:v,style:va,children:[h,x(CC,{})]})}function Gc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",mn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function Ly({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=Ce(),[a,u]=P.useState(!1),c=P.useRef();return P.useEffect(()=>{c.current=GE({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{Gc({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),P.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,i,e,o]),a}const PC=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Ry(){const e=Ce();return P.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=PC(s),h=o?i[0]:5,g=o?i[1]:5,w=n.direction.x*h*n.factor,S=n.direction.y*g*n.factor;for(const[,p]of u){if(!d(p))continue;let y={x:p.internals.positionAbsolute.x+w,y:p.internals.positionAbsolute.y+S};o&&(y=Xi(y,i));const{position:m,positionAbsolute:v}=eg({nodeId:p.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:l});p.position=m,p.internals.positionAbsolute=v,f.set(p.id,p)}a(f)},[])}const uf=P.createContext(null),MC=uf.Provider;uf.Consumer;const zy=()=>P.useContext(uf),IC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),TC=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,c=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:c,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===go.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:c&&u}};function DC({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:f,...d},h){var $,I;const g=s||null,w=e==="target",S=Ce(),p=zy(),{connectOnClick:y,noPanClassName:m,rfId:v}=he(IC,Me),{connectingFrom:E,connectingTo:k,clickConnecting:b,isPossibleEndHandle:M,connectionInProcess:_,clickConnectionInProcess:R,valid:B}=he(TC(p,g,e),Me);p||(I=($=S.getState()).onError)==null||I.call($,"010",mn.error010());const z=D=>{const{defaultEdgeOptions:T,onConnect:N,hasDefaultEdges:L}=S.getState(),F={...T,...D};if(L){const{edges:j,setEdges:G}=S.getState();G(fg(F,j))}N==null||N(F),l==null||l(F)},A=D=>{if(!p)return;const T=ag(D.nativeEvent);if(o&&(T&&D.button===0||!T)){const N=S.getState();Zu.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:N.autoPanOnConnect,connectionMode:N.connectionMode,connectionRadius:N.connectionRadius,domNode:N.domNode,nodeLookup:N.nodeLookup,lib:N.lib,isTarget:w,handleId:g,nodeId:p,flowId:N.rfId,panBy:N.panBy,cancelConnection:N.cancelConnection,onConnectStart:N.onConnectStart,onConnectEnd:N.onConnectEnd,updateConnection:N.updateConnection,onConnect:z,isValidConnection:n||N.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:N.autoPanSpeed,dragThreshold:N.connectionDragThreshold})}T?c==null||c(D):f==null||f(D)},C=D=>{const{onClickConnectStart:T,onClickConnectEnd:N,connectionClickStartHandle:L,connectionMode:F,isValidConnection:j,lib:G,rfId:X,nodeLookup:te,connection:J}=S.getState();if(!p||!L&&!o)return;if(!L){T==null||T(D.nativeEvent,{nodeId:p,handleId:g,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:p,type:e,id:g}});return}const K=sg(D.target),Y=n||j,{connection:ne,isValid:le}=Zu.isValid(D.nativeEvent,{handle:{nodeId:p,id:g,type:e},connectionMode:F,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:Y,flowId:X,doc:K,lib:G,nodeLookup:te});le&&ne&&z(ne);const ae=structuredClone(J);delete ae.inProgress,ae.toPosition=ae.toHandle?ae.toHandle.position:null,N==null||N(D,ae),S.setState({connectionClickStartHandle:null})};return x("div",{"data-handleid":g,"data-nodeid":p,"data-handlepos":t,"data-id":`${v}-${p}-${g}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,u,{source:!w,target:w,connectable:r,connectablestart:o,connectableend:i,clickconnecting:b,connectingfrom:E,connectingto:k,valid:B,connectionindicator:r&&(!_||M)&&(_||R?i:o)}]),onMouseDown:A,onTouchStart:A,onClick:y?C:void 0,ref:h,...d,children:a})}const Mo=P.memo(Dy(DC));function $C({data:e,isConnectable:t,sourcePosition:n=oe.Bottom}){return H(ft,{children:[e==null?void 0:e.label,x(Mo,{type:"source",position:n,isConnectable:t})]})}function LC({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:r=oe.Bottom}){return H(ft,{children:[x(Mo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,x(Mo,{type:"source",position:r,isConnectable:t})]})}function RC(){return null}function zC({data:e,isConnectable:t,targetPosition:n=oe.Top}){return H(ft,{children:[x(Mo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},xp={input:$C,default:LC,output:zC,group:RC};function OC(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const AC=e=>{const{width:t,height:n,x:r,y:o}=Yi(e.nodeLookup,{filter:i=>!!i.selected});return{width:Qt(t)?t:null,height:Qt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function FC({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ce(),{width:o,height:i,transformString:s,userSelectionActive:l}=he(AC,Me),a=Ry(),u=P.useRef(null);if(P.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),Ly({nodeRef:u}),l||!o||!i)return null;const c=e?d=>{const h=r.getState().nodes.filter(g=>g.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Al,d.key)&&(d.preventDefault(),a({direction:Al[d.key],factor:d.shiftKey?4:1}))};return x("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:x("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const Sp=typeof window<"u"?window:void 0,BC=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Oy({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:g,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:m,panOnScroll:v,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:b,panOnDrag:M,defaultViewport:_,translateExtent:R,minZoom:B,maxZoom:z,preventScrolling:A,onSelectionContextMenu:C,noWheelClassName:$,noPanClassName:I,disableKeyboardA11y:D,onViewportChange:T,isControlledViewport:N}){const{nodesSelectionActive:L,userSelectionActive:F}=he(BC),j=Bi(u,{target:Sp}),G=Bi(w,{target:Sp}),X=G||M,te=G||v,J=c&&X!==!0,K=j||F||J;return xC({deleteKeyCode:a,multiSelectionKeyCode:g}),x(bC,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:m,panOnScroll:te,panOnScrollSpeed:E,panOnScrollMode:k,zoomOnDoubleClick:b,panOnDrag:!j&&X,defaultViewport:_,translateExtent:R,minZoom:B,maxZoom:z,zoomActivationKeyCode:S,preventScrolling:A,noWheelClassName:$,noPanClassName:I,onViewportChange:T,isControlledViewport:N,paneClickDistance:l,children:H(NC,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:X,isSelecting:!!K,selectionMode:f,selectionKeyPressed:j,selectionOnDrag:J,children:[e,L&&x(FC,{onSelectionContextMenu:C,noPanClassName:I,disableKeyboardA11y:D})]})})}Oy.displayName="FlowRenderer";const HC=P.memo(Oy),jC=e=>t=>e?dd(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function VC(e){return he(P.useCallback(jC(e),[e]),Me)}const WC=e=>e.updateNodeInternals;function UC(){const e=he(WC),[t]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return P.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function YC({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Ce(),i=P.useRef(null),s=P.useRef(null),l=P.useRef(e.sourcePosition),a=P.useRef(e.targetPosition),u=P.useRef(t),c=n&&!!e.internals.handleBounds;return P.useEffect(()=>{i.current&&!e.hidden&&(!c||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[c,e.hidden]),P.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),P.useEffect(()=>{if(i.current){const f=u.current!==t,d=l.current!==e.sourcePosition,h=a.current!==e.targetPosition;(f||d||h)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function XC({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:g,rfId:w,nodeTypes:S,nodeClickDistance:p,onError:y}){const{node:m,internals:v,isParent:E}=he(Y=>{const ne=Y.nodeLookup.get(e),le=Y.parentLookup.has(e);return{node:ne,internals:ne.internals,isParent:le}},Me);let k=m.type||"default",b=(S==null?void 0:S[k])||xp[k];b===void 0&&(y==null||y("003",mn.error003(k)),k="default",b=(S==null?void 0:S.default)||xp.default);const M=!!(m.draggable||l&&typeof m.draggable>"u"),_=!!(m.selectable||a&&typeof m.selectable>"u"),R=!!(m.connectable||u&&typeof m.connectable>"u"),B=!!(m.focusable||c&&typeof m.focusable>"u"),z=Ce(),A=og(m),C=YC({node:m,nodeType:k,hasDimensions:A,resizeObserver:f}),$=Ly({nodeRef:C,disabled:m.hidden||!M,noDragClassName:d,handleSelector:m.dragHandle,nodeId:e,isSelectable:_,nodeClickDistance:p}),I=Ry();if(m.hidden)return null;const D=$n(m),T=OC(m),N=_||M||t||n||r||o,L=n?Y=>n(Y,{...v.userNode}):void 0,F=r?Y=>r(Y,{...v.userNode}):void 0,j=o?Y=>o(Y,{...v.userNode}):void 0,G=i?Y=>i(Y,{...v.userNode}):void 0,X=s?Y=>s(Y,{...v.userNode}):void 0,te=Y=>{const{selectNodesOnDrag:ne,nodeDragThreshold:le}=z.getState();_&&(!ne||!M||le>0)&&Gc({id:e,store:z,nodeRef:C}),t&&t(Y,{...v.userNode})},J=Y=>{if(!(lg(Y.nativeEvent)||g)){if(Km.includes(Y.key)&&_){const ne=Y.key==="Escape";Gc({id:e,store:z,unselect:ne,nodeRef:C})}else if(M&&m.selected&&Object.prototype.hasOwnProperty.call(Al,Y.key)){Y.preventDefault();const{ariaLabelConfig:ne}=z.getState();z.setState({ariaLiveMessage:ne["node.a11yDescription.ariaLiveMessage"]({direction:Y.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),I({direction:Al[Y.key],factor:Y.shiftKey?4:1})}}},K=()=>{var re;if(g||!((re=C.current)!=null&&re.matches(":focus-visible")))return;const{transform:Y,width:ne,height:le,autoPanOnNodeFocus:ae,setCenter:ie}=z.getState();if(!ae)return;dd(new Map([[e,m]]),{x:0,y:0,width:ne,height:le},Y,!0).length>0||ie(m.position.x+D.width/2,m.position.y+D.height/2,{zoom:Y[2]})};return x("div",{className:He(["react-flow__node",`react-flow__node-${k}`,{[h]:M},m.className,{selected:m.selected,selectable:_,parent:E,draggable:M,dragging:$}]),ref:C,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:N?"all":"none",visibility:A?"visible":"hidden",...m.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:F,onMouseLeave:j,onContextMenu:G,onClick:te,onDoubleClick:X,onKeyDown:B?J:void 0,tabIndex:B?0:void 0,onFocus:B?K:void 0,role:m.ariaRole??(B?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${_y}-${w}`,"aria-label":m.ariaLabel,...m.domAttributes,children:x(MC,{value:e,children:x(b,{id:e,data:m.data,type:k,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:m.selected??!1,selectable:_,draggable:M,deletable:m.deletable??!0,isConnectable:R,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:$,dragHandle:m.dragHandle,zIndex:v.z,parentId:m.parentId,...D})})})}const GC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Ay(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=he(GC,Me),s=VC(e.onlyRenderVisibleElements),l=UC();return x("div",{className:"react-flow__nodes",style:va,children:s.map(a=>x(XC,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}Ay.displayName="NodeRenderer";const KC=P.memo(Ay);function QC(e){return he(P.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&DE({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),Me)}const qC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return x("polyline",{style:n,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},ZC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return x("polyline",{style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Ep={[dl.Arrow]:qC,[dl.ArrowClosed]:ZC};function JC(e){const t=Ce();return P.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Ep,e)?Ep[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",mn.error009(e)),null)},[e])}const e_=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=JC(t);return a?x("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:x(a,{color:n,strokeWidth:s})}):null},Fy=({defaultColor:e,rfId:t})=>{const n=he(i=>i.edges),r=he(i=>i.defaultEdgeOptions),o=P.useMemo(()=>FE(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?x("svg",{className:"react-flow__marker","aria-hidden":"true",children:x("defs",{children:o.map(i=>x(e_,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Fy.displayName="MarkerDefinitions";var t_=P.memo(Fy);function By({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c}){const[f,d]=P.useState({x:1,y:0,width:0,height:0}),h=He(["react-flow__edge-textwrapper",u]),g=P.useRef(null);return P.useEffect(()=>{if(g.current){const w=g.current.getBBox();d({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?H("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[o&&x("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),x("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:g,style:r,children:n}),a]}):null}By.displayName="EdgeText";const n_=P.memo(By);function wa({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...c}){return H(ft,{children:[x("path",{...c,d:e,fill:"none",className:He(["react-flow__edge-path",c.className])}),u?x("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Qt(t)&&Qt(n)?x(n_,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function bp({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===oe.Left||e===oe.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Hy({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:o,targetPosition:i=oe.Top}){const[s,l]=bp({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=bp({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,d,h]=ug({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,c,f,d,h]}function jy(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:g,markerEnd:w,markerStart:S,interactionWidth:p})=>{const[y,m,v]=Hy({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),E=e.isInternal?void 0:t;return x(wa,{id:E,path:y,labelX:m,labelY:v,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:g,markerEnd:w,markerStart:S,interactionWidth:p})})}const r_=jy({isInternal:!1}),Vy=jy({isInternal:!0});r_.displayName="SimpleBezierEdge";Vy.displayName="SimpleBezierEdgeInternal";function Wy(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=oe.Bottom,targetPosition:g=oe.Top,markerEnd:w,markerStart:S,pathOptions:p,interactionWidth:y})=>{const[m,v,E]=Ku({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:g,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),k=e.isInternal?void 0:t;return x(wa,{id:k,path:m,labelX:v,labelY:E,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:w,markerStart:S,interactionWidth:y})})}const Uy=Wy({isInternal:!1}),Yy=Wy({isInternal:!0});Uy.displayName="SmoothStepEdge";Yy.displayName="SmoothStepEdgeInternal";function Xy(e){return P.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return x(Uy,{...n,id:r,pathOptions:P.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const o_=Xy({isInternal:!1}),Gy=Xy({isInternal:!0});o_.displayName="StepEdge";Gy.displayName="StepEdgeInternal";function Ky(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:w})=>{const[S,p,y]=hg({sourceX:n,sourceY:r,targetX:o,targetY:i}),m=e.isInternal?void 0:t;return x(wa,{id:m,path:S,labelX:p,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:g,interactionWidth:w})})}const i_=Ky({isInternal:!1}),Qy=Ky({isInternal:!0});i_.displayName="StraightEdge";Qy.displayName="StraightEdgeInternal";function qy(e){return P.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=oe.Bottom,targetPosition:l=oe.Top,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:g,markerEnd:w,markerStart:S,pathOptions:p,interactionWidth:y})=>{const[m,v,E]=cg({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:p==null?void 0:p.curvature}),k=e.isInternal?void 0:t;return x(wa,{id:k,path:m,labelX:v,labelY:E,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:g,markerEnd:w,markerStart:S,interactionWidth:y})})}const s_=qy({isInternal:!1}),Zy=qy({isInternal:!0});s_.displayName="BezierEdge";Zy.displayName="BezierEdgeInternal";const kp={default:Zy,straight:Qy,step:Gy,smoothstep:Yy,simplebezier:Vy},Cp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},l_=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,a_=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,_p="react-flow__edgeupdater";function Np({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return x("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:He([_p,`${_p}-${l}`]),cx:l_(t,r,e),cy:a_(n,r,e),r,stroke:"transparent",fill:"transparent"})}function u_({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const g=Ce(),w=(v,E)=>{if(v.button!==0)return;const{autoPanOnConnect:k,domNode:b,isValidConnection:M,connectionMode:_,connectionRadius:R,lib:B,onConnectStart:z,onConnectEnd:A,cancelConnection:C,nodeLookup:$,rfId:I,panBy:D,updateConnection:T}=g.getState(),N=E.type==="target",L=(G,X)=>{d(!1),f==null||f(G,n,E.type,X)},F=G=>u==null?void 0:u(n,G),j=(G,X)=>{d(!0),c==null||c(v,n,E.type),z==null||z(G,X)};Zu.onPointerDown(v.nativeEvent,{autoPanOnConnect:k,connectionMode:_,connectionRadius:R,domNode:b,handleId:E.id,nodeId:E.nodeId,nodeLookup:$,isTarget:N,edgeUpdaterType:E.type,lib:B,flowId:I,cancelConnection:C,panBy:D,isValidConnection:M,onConnect:F,onConnectStart:j,onConnectEnd:A,onReconnectEnd:L,updateConnection:T,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},S=v=>w(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=v=>w(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>h(!0),m=()=>h(!1);return H(ft,{children:[(e===!0||e==="source")&&x(Np,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:S,onMouseEnter:y,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&x(Np,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:p,onMouseEnter:y,onMouseOut:m,type:"target"})]})}function c_({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:g,edgeTypes:w,noPanClassName:S,onError:p,disableKeyboardA11y:y}){let m=he(ie=>ie.edgeLookup.get(e));const v=he(ie=>ie.defaultEdgeOptions);m=v?{...v,...m}:m;let E=m.type||"default",k=(w==null?void 0:w[E])||kp[E];k===void 0&&(p==null||p("011",mn.error011(E)),E="default",k=(w==null?void 0:w.default)||kp.default);const b=!!(m.focusable||t&&typeof m.focusable>"u"),M=typeof f<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),_=!!(m.selectable||r&&typeof m.selectable>"u"),R=P.useRef(null),[B,z]=P.useState(!1),[A,C]=P.useState(!1),$=Ce(),{zIndex:I,sourceX:D,sourceY:T,targetX:N,targetY:L,sourcePosition:F,targetPosition:j}=he(P.useCallback(ie=>{const se=ie.nodeLookup.get(m.source),re=ie.nodeLookup.get(m.target);if(!se||!re)return{zIndex:m.zIndex,...Cp};const ce=AE({id:e,sourceNode:se,targetNode:re,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:ie.connectionMode,onError:p});return{zIndex:TE({selected:m.selected,zIndex:m.zIndex,sourceNode:se,targetNode:re,elevateOnSelect:ie.elevateEdgesOnSelect}),...ce||Cp}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),Me),G=P.useMemo(()=>m.markerStart?`url('#${Qu(m.markerStart,g)}')`:void 0,[m.markerStart,g]),X=P.useMemo(()=>m.markerEnd?`url('#${Qu(m.markerEnd,g)}')`:void 0,[m.markerEnd,g]);if(m.hidden||D===null||T===null||N===null||L===null)return null;const te=ie=>{var pe;const{addSelectedEdges:se,unselectNodesAndEdges:re,multiSelectionActive:ce}=$.getState();_&&($.setState({nodesSelectionActive:!1}),m.selected&&ce?(re({nodes:[],edges:[m]}),(pe=R.current)==null||pe.blur()):se([e])),o&&o(ie,m)},J=i?ie=>{i(ie,{...m})}:void 0,K=s?ie=>{s(ie,{...m})}:void 0,Y=l?ie=>{l(ie,{...m})}:void 0,ne=a?ie=>{a(ie,{...m})}:void 0,le=u?ie=>{u(ie,{...m})}:void 0,ae=ie=>{var se;if(!y&&Km.includes(ie.key)&&_){const{unselectNodesAndEdges:re,addSelectedEdges:ce}=$.getState();ie.key==="Escape"?((se=R.current)==null||se.blur(),re({edges:[m]})):ce([e])}};return x("svg",{style:{zIndex:I},children:H("g",{className:He(["react-flow__edge",`react-flow__edge-${E}`,m.className,S,{selected:m.selected,animated:m.animated,inactive:!_&&!o,updating:B,selectable:_}]),onClick:te,onDoubleClick:J,onContextMenu:K,onMouseEnter:Y,onMouseMove:ne,onMouseLeave:le,onKeyDown:b?ae:void 0,tabIndex:b?0:void 0,role:m.ariaRole??(b?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":b?`${Ny}-${g}`:void 0,ref:R,...m.domAttributes,children:[!A&&x(k,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:_,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:D,sourceY:T,targetX:N,targetY:L,sourcePosition:F,targetPosition:j,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:G,markerEnd:X,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),M&&x(u_,{edge:m,isReconnectable:M,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:D,sourceY:T,targetX:N,targetY:L,sourcePosition:F,targetPosition:j,setUpdateHover:z,setReconnecting:C})]})})}const d_=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Jy({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:g,disableKeyboardA11y:w}){const{edgesFocusable:S,edgesReconnectable:p,elementsSelectable:y,onError:m}=he(d_,Me),v=QC(t);return H("div",{className:"react-flow__edges",children:[x(t_,{defaultColor:e,rfId:n}),v.map(E=>x(c_,{id:E,edgesFocusable:S,edgesReconnectable:p,elementsSelectable:y,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:g,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:w},E))]})}Jy.displayName="EdgeRenderer";const f_=P.memo(Jy),h_=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function p_({children:e}){const t=he(h_);return x("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function m_(e){const t=ya(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const g_=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function y_(e){const t=he(g_),n=Ce();return P.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Pp(e){return e.connection.inProgress?{...e.connection,to:Gi(e.connection.to,e.transform)}:{...e.connection}}function v_(e){return e?n=>{const r=Pp(n);return e(r)}:Pp}function w_(e){const t=v_(e);return he(t,Me)}const x_=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function S_({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=he(x_,Me);return!(i&&o&&a)?null:x("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:x("g",{className:He(["react-flow__connection",Zm(l)]),children:x(ev,{style:t,type:n,CustomComponent:r,isValid:l})})})}const ev=({style:e,type:t=En.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:c,toHandle:f,toPosition:d}=w_();if(!o)return;if(n)return x(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:Zm(r),toNode:c,toHandle:f});let h="";const g={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case En.Bezier:[h]=cg(g);break;case En.SimpleBezier:[h]=Hy(g);break;case En.Step:[h]=Ku({...g,borderRadius:0});break;case En.SmoothStep:[h]=Ku(g);break;default:[h]=hg(g)}return x("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};ev.displayName="ConnectionLine";const E_={};function Mp(e=E_){P.useRef(e),Ce(),P.useEffect(()=>{},[e])}function b_(){Ce(),P.useRef(!1),P.useEffect(()=>{},[])}function tv({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:g,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:p,selectionKeyCode:y,selectionOnDrag:m,selectionMode:v,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:b,deleteKeyCode:M,onlyRenderVisibleElements:_,elementsSelectable:R,defaultViewport:B,translateExtent:z,minZoom:A,maxZoom:C,preventScrolling:$,defaultMarkerColor:I,zoomOnScroll:D,zoomOnPinch:T,panOnScroll:N,panOnScrollSpeed:L,panOnScrollMode:F,zoomOnDoubleClick:j,panOnDrag:G,onPaneClick:X,onPaneMouseEnter:te,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneScroll:Y,onPaneContextMenu:ne,paneClickDistance:le,nodeClickDistance:ae,onEdgeContextMenu:ie,onEdgeMouseEnter:se,onEdgeMouseMove:re,onEdgeMouseLeave:ce,reconnectRadius:pe,onReconnect:ee,onReconnectStart:ue,onReconnectEnd:$e,noDragClassName:Ze,noWheelClassName:nn,noPanClassName:It,disableKeyboardA11y:Tt,nodeExtent:rn,rfId:Rn,viewport:on,onViewportChange:ge}){return Mp(e),Mp(t),b_(),m_(n),y_(on),x(HC,{onPaneClick:X,onPaneMouseEnter:te,onPaneMouseMove:J,onPaneMouseLeave:K,onPaneContextMenu:ne,onPaneScroll:Y,paneClickDistance:le,deleteKeyCode:M,selectionKeyCode:y,selectionOnDrag:m,selectionMode:v,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:b,elementsSelectable:R,zoomOnScroll:D,zoomOnPinch:T,zoomOnDoubleClick:j,panOnScroll:N,panOnScrollSpeed:L,panOnScrollMode:F,panOnDrag:G,defaultViewport:B,translateExtent:z,minZoom:A,maxZoom:C,onSelectionContextMenu:f,preventScrolling:$,noDragClassName:Ze,noWheelClassName:nn,noPanClassName:It,disableKeyboardA11y:Tt,onViewportChange:ge,isControlledViewport:!!on,children:H(p_,{children:[x(f_,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:ee,onReconnectStart:ue,onReconnectEnd:$e,onlyRenderVisibleElements:_,onEdgeContextMenu:ie,onEdgeMouseEnter:se,onEdgeMouseMove:re,onEdgeMouseLeave:ce,reconnectRadius:pe,defaultMarkerColor:I,noPanClassName:It,disableKeyboardA11y:Tt,rfId:Rn}),x(S_,{style:w,type:g,component:S,containerStyle:p}),x("div",{className:"react-flow__edgelabel-renderer"}),x(KC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:ae,onlyRenderVisibleElements:_,noPanClassName:It,noDragClassName:Ze,disableKeyboardA11y:Tt,nodeExtent:rn,rfId:Rn}),x("div",{className:"react-flow__viewport-portal"})]})})}tv.displayName="GraphView";const k_=P.memo(tv),Ip=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f}={})=>{const d=new Map,h=new Map,g=new Map,w=new Map,S=r??t??[],p=n??e??[],y=c??[0,0],m=f??yi;mg(g,w,S);const v=qu(p,d,h,{nodeOrigin:y,nodeExtent:m,elevateNodesOnSelect:!1});let E=[0,0,1];if(s&&o&&i){const k=Yi(d,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:b,y:M,zoom:_}=fd(k,o,i,a,u,(l==null?void 0:l.padding)??.1);E=[b,M,_]}return{rfId:"1",width:0,height:0,transform:E,nodes:p,nodesInitialized:v,nodeLookup:d,parentLookup:h,edges:S,edgeLookup:w,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:yi,nodeExtent:m,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:go.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...qm},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:CE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Qm}},C_=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:c,nodeExtent:f})=>Hb((d,h)=>{async function g(){const{nodeLookup:w,panZoom:S,fitViewOptions:p,fitViewResolver:y,width:m,height:v,minZoom:E,maxZoom:k}=h();S&&(await bE({nodes:w,width:m,height:v,panZoom:S,minZoom:E,maxZoom:k},p),y==null||y.resolve(!0),d({fitViewResolver:null}))}return{...Ip({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:w=>{const{nodeLookup:S,parentLookup:p,nodeOrigin:y,elevateNodesOnSelect:m,fitViewQueued:v}=h(),E=qu(w,S,p,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:m,checkEquality:!0});v&&E?(g(),d({nodes:w,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:w,nodesInitialized:E})},setEdges:w=>{const{connectionLookup:S,edgeLookup:p}=h();mg(S,p,w),d({edges:w})},setDefaultNodesAndEdges:(w,S)=>{if(w){const{setNodes:p}=h();p(w),d({hasDefaultNodes:!0})}if(S){const{setEdges:p}=h();p(S),d({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:S,nodeLookup:p,parentLookup:y,domNode:m,nodeOrigin:v,nodeExtent:E,debug:k,fitViewQueued:b}=h(),{changes:M,updatedInternals:_}=WE(w,p,y,m,v,E);_&&(HE(p,y,{nodeOrigin:v,nodeExtent:E}),b?(g(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(M==null?void 0:M.length)>0&&(k&&console.log("React Flow: trigger node changes",M),S==null||S(M)))},updateNodePositions:(w,S=!1)=>{const p=[],y=[],{nodeLookup:m,triggerNodeChanges:v}=h();for(const[E,k]of w){const b=m.get(E),M=!!(b!=null&&b.expandParent&&(b!=null&&b.parentId)&&(k!=null&&k.position)),_={id:E,type:"position",position:M?{x:Math.max(0,k.position.x),y:Math.max(0,k.position.y)}:k.position,dragging:S};M&&b.parentId&&p.push({id:E,parentId:b.parentId,rect:{...k.internals.positionAbsolute,width:k.measured.width??0,height:k.measured.height??0}}),y.push(_)}if(p.length>0){const{parentLookup:E,nodeOrigin:k}=h(),b=yd(p,m,E,k);y.push(...b)}v(y)},triggerNodeChanges:w=>{const{onNodesChange:S,setNodes:p,nodes:y,hasDefaultNodes:m,debug:v}=h();if(w!=null&&w.length){if(m){const E=Iy(w,y);p(E)}v&&console.log("React Flow: trigger node changes",w),S==null||S(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:S,setEdges:p,edges:y,hasDefaultEdges:m,debug:v}=h();if(w!=null&&w.length){if(m){const E=Ty(w,y);p(E)}v&&console.log("React Flow: trigger edge changes",w),S==null||S(w)}},addSelectedNodes:w=>{const{multiSelectionActive:S,edgeLookup:p,nodeLookup:y,triggerNodeChanges:m,triggerEdgeChanges:v}=h();if(S){const E=w.map(k=>mr(k,!0));m(E);return}m(ro(y,new Set([...w]),!0)),v(ro(p))},addSelectedEdges:w=>{const{multiSelectionActive:S,edgeLookup:p,nodeLookup:y,triggerNodeChanges:m,triggerEdgeChanges:v}=h();if(S){const E=w.map(k=>mr(k,!0));v(E);return}v(ro(p,new Set([...w]))),m(ro(y,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:S}={})=>{const{edges:p,nodes:y,nodeLookup:m,triggerNodeChanges:v,triggerEdgeChanges:E}=h(),k=w||y,b=S||p,M=k.map(R=>{const B=m.get(R.id);return B&&(B.selected=!1),mr(R.id,!1)}),_=b.map(R=>mr(R.id,!1));v(M),E(_)},setMinZoom:w=>{const{panZoom:S,maxZoom:p}=h();S==null||S.setScaleExtent([w,p]),d({minZoom:w})},setMaxZoom:w=>{const{panZoom:S,minZoom:p}=h();S==null||S.setScaleExtent([p,w]),d({maxZoom:w})},setTranslateExtent:w=>{var S;(S=h().panZoom)==null||S.setTranslateExtent(w),d({translateExtent:w})},setPaneClickDistance:w=>{var S;(S=h().panZoom)==null||S.setClickDistance(w)},resetSelectedElements:()=>{const{edges:w,nodes:S,triggerNodeChanges:p,triggerEdgeChanges:y,elementsSelectable:m}=h();if(!m)return;const v=S.reduce((k,b)=>b.selected?[...k,mr(b.id,!1)]:k,[]),E=w.reduce((k,b)=>b.selected?[...k,mr(b.id,!1)]:k,[]);p(v),y(E)},setNodeExtent:w=>{const{nodes:S,nodeLookup:p,parentLookup:y,nodeOrigin:m,elevateNodesOnSelect:v,nodeExtent:E}=h();w[0][0]===E[0][0]&&w[0][1]===E[0][1]&&w[1][0]===E[1][0]&&w[1][1]===E[1][1]||(qu(S,p,y,{nodeOrigin:m,nodeExtent:w,elevateNodesOnSelect:v,checkEquality:!1}),d({nodeExtent:w}))},panBy:w=>{const{transform:S,width:p,height:y,panZoom:m,translateExtent:v}=h();return UE({delta:w,panZoom:m,transform:S,translateExtent:v,width:p,height:y})},setCenter:async(w,S,p)=>{const{width:y,height:m,maxZoom:v,panZoom:E}=h();if(!E)return Promise.resolve(!1);const k=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:v;return await E.setViewport({x:y/2-w*k,y:m/2-S*k,zoom:k},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...qm}})},updateConnection:w=>{d({connection:w})},reset:()=>d({...Ip()})}},Object.is);function nv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:c,nodeExtent:f,children:d}){const[h]=P.useState(()=>C_({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:c,nodeExtent:f}));return x(X2,{value:h,children:x(gC,{children:d})})}function __({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d}){return P.useContext(ga)?x(ft,{children:e}):x(nv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,children:e})}const N_={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function P_({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:g,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:p,onNodeMouseEnter:y,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:k,onNodeDragStart:b,onNodeDrag:M,onNodeDragStop:_,onNodesDelete:R,onEdgesDelete:B,onDelete:z,onSelectionChange:A,onSelectionDragStart:C,onSelectionDrag:$,onSelectionDragStop:I,onSelectionContextMenu:D,onSelectionStart:T,onSelectionEnd:N,onBeforeDelete:L,connectionMode:F,connectionLineType:j=En.Bezier,connectionLineStyle:G,connectionLineComponent:X,connectionLineContainerStyle:te,deleteKeyCode:J="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Y=!1,selectionMode:ne=vi.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ae=xi()?"Meta":"Control",zoomActivationKeyCode:ie=xi()?"Meta":"Control",snapToGrid:se,snapGrid:re,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:pe,nodesDraggable:ee,autoPanOnNodeFocus:ue,nodesConnectable:$e,nodesFocusable:Ze,nodeOrigin:nn=Py,edgesFocusable:It,edgesReconnectable:Tt,elementsSelectable:rn=!0,defaultViewport:Rn=sC,minZoom:on=.5,maxZoom:ge=2,translateExtent:we=yi,preventScrolling:_a=!0,nodeExtent:Le,defaultMarkerColor:be="#b1b1b7",zoomOnScroll:Na=!0,zoomOnPinch:Pa=!0,panOnScroll:Ma=!1,panOnScrollSpeed:Ia=.5,panOnScrollMode:zn=Sr.Free,zoomOnDoubleClick:Ta=!0,panOnDrag:Da=!0,onPaneClick:$a,onPaneMouseEnter:Ji,onPaneMouseMove:es,onPaneMouseLeave:La,onPaneScroll:Ra,onPaneContextMenu:Re,paneClickDistance:ts=0,nodeClickDistance:za=0,children:Oa,onReconnect:Aa,onReconnectStart:Fa,onReconnectEnd:Ba,onEdgeContextMenu:Ha,onEdgeDoubleClick:ns,onEdgeMouseEnter:rs,onEdgeMouseMove:ja,onEdgeMouseLeave:zr,reconnectRadius:Or=10,onNodesChange:os,onEdgesChange:is,noDragClassName:O="nodrag",noWheelClassName:V="nowheel",noPanClassName:U="nopan",fitView:Z,fitViewOptions:Q,connectOnClick:fe,attributionPosition:_e,proOptions:ye,defaultEdgeOptions:je,elevateNodesOnSelect:Bt,elevateEdgesOnSelect:ze,disableKeyboardA11y:ot=!1,autoPanOnConnect:$o,autoPanOnNodeDrag:Lo,autoPanSpeed:ss,connectionRadius:ls,isValidConnection:as,onError:us,style:cs,id:Dt,nodeDragThreshold:Ht,connectionDragThreshold:Ro,viewport:Va,onViewportChange:Wa,width:ds,height:Ye,colorMode:Ar="light",debug:uw,onScroll:fs,ariaLabelConfig:cw,...dw},fw){const Ua=Dt||"1",hw=cC(Ar),pw=P.useCallback(xf=>{xf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),fs==null||fs(xf)},[fs]);return x("div",{"data-testid":"rf__wrapper",...dw,onScroll:pw,style:{...cs,...N_},ref:fw,className:He(["react-flow",o,hw]),id:Dt,role:"application",children:H(__,{nodes:e,edges:t,width:ds,height:Ye,fitView:Z,fitViewOptions:Q,minZoom:on,maxZoom:ge,nodeOrigin:nn,nodeExtent:Le,children:[x(k_,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:m,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:s,connectionLineType:j,connectionLineStyle:G,connectionLineComponent:X,connectionLineContainerStyle:te,selectionKeyCode:K,selectionOnDrag:Y,selectionMode:ne,deleteKeyCode:J,multiSelectionKeyCode:ae,panActivationKeyCode:le,zoomActivationKeyCode:ie,onlyRenderVisibleElements:ce,defaultViewport:Rn,translateExtent:we,minZoom:on,maxZoom:ge,preventScrolling:_a,zoomOnScroll:Na,zoomOnPinch:Pa,zoomOnDoubleClick:Ta,panOnScroll:Ma,panOnScrollSpeed:Ia,panOnScrollMode:zn,panOnDrag:Da,onPaneClick:$a,onPaneMouseEnter:Ji,onPaneMouseMove:es,onPaneMouseLeave:La,onPaneScroll:Ra,onPaneContextMenu:Re,paneClickDistance:ts,nodeClickDistance:za,onSelectionContextMenu:D,onSelectionStart:T,onSelectionEnd:N,onReconnect:Aa,onReconnectStart:Fa,onReconnectEnd:Ba,onEdgeContextMenu:Ha,onEdgeDoubleClick:ns,onEdgeMouseEnter:rs,onEdgeMouseMove:ja,onEdgeMouseLeave:zr,reconnectRadius:Or,defaultMarkerColor:be,noDragClassName:O,noWheelClassName:V,noPanClassName:U,rfId:Ua,disableKeyboardA11y:ot,nodeExtent:Le,viewport:Va,onViewportChange:Wa}),x(uC,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:p,nodesDraggable:ee,autoPanOnNodeFocus:ue,nodesConnectable:$e,nodesFocusable:Ze,edgesFocusable:It,edgesReconnectable:Tt,elementsSelectable:rn,elevateNodesOnSelect:Bt,elevateEdgesOnSelect:ze,minZoom:on,maxZoom:ge,nodeExtent:Le,onNodesChange:os,onEdgesChange:is,snapToGrid:se,snapGrid:re,connectionMode:F,translateExtent:we,connectOnClick:fe,defaultEdgeOptions:je,fitView:Z,fitViewOptions:Q,onNodesDelete:R,onEdgesDelete:B,onDelete:z,onNodeDragStart:b,onNodeDrag:M,onNodeDragStop:_,onSelectionDrag:$,onSelectionDragStart:C,onSelectionDragStop:I,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:U,nodeOrigin:nn,rfId:Ua,autoPanOnConnect:$o,autoPanOnNodeDrag:Lo,autoPanSpeed:ss,onError:us,connectionRadius:ls,isValidConnection:as,selectNodesOnDrag:pe,nodeDragThreshold:Ht,connectionDragThreshold:Ro,onBeforeDelete:L,paneClickDistance:ts,debug:uw,ariaLabelConfig:cw}),x(iC,{onSelectionChange:A}),Oa,x(eC,{proOptions:ye,position:_e}),x(J2,{rfId:Ua,disableKeyboardA11y:ot})]})})}var M_=Dy(P_);function I_(e){const[t,n]=P.useState(e),r=P.useCallback(o=>n(i=>Iy(o,i)),[]);return[t,n,r]}function T_(e){const[t,n]=P.useState(e),r=P.useCallback(o=>n(i=>Ty(o,i)),[]);return[t,n,r]}function D_({dimensions:e,lineWidth:t,variant:n,className:r}){return x("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:He(["react-flow__background-pattern",n,r])})}function $_({radius:e,className:t}){return x("circle",{cx:e,cy:e,r:e,className:He(["react-flow__background-pattern","dots",t])})}var or;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(or||(or={}));const L_={[or.Dots]:1,[or.Lines]:1,[or.Cross]:6},R_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rv({id:e,variant:t=or.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:c}){const f=P.useRef(null),{transform:d,patternId:h}=he(R_,Me),g=r||L_[t],w=t===or.Dots,S=t===or.Cross,p=Array.isArray(n)?n:[n,n],y=[p[0]*d[2]||1,p[1]*d[2]||1],m=g*d[2],v=Array.isArray(i)?i:[i,i],E=S?[m,m]:y,k=[v[0]*d[2]||1+E[0]/2,v[1]*d[2]||1+E[1]/2],b=`${h}${e||""}`;return H("svg",{className:He(["react-flow__background",u]),style:{...a,...va,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[x("pattern",{id:b,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:w?x($_,{radius:m/2,className:c}):x(D_,{dimensions:E,lineWidth:o,variant:t,className:c})}),x("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}rv.displayName="Background";const z_=P.memo(rv);function O_(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function A_(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x("path",{d:"M0 0h32v4.2H0z"})})}function F_(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function B_(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function H_(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function As({children:e,className:t,...n}){return x("button",{type:"button",className:He(["react-flow__controls-button",t]),...n,children:e})}const j_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ov({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const g=Ce(),{isInteractive:w,minZoomReached:S,maxZoomReached:p,ariaLabelConfig:y}=he(j_,Me),{zoomIn:m,zoomOut:v,fitView:E}=ya(),k=()=>{m(),i==null||i()},b=()=>{v(),s==null||s()},M=()=>{E(o),l==null||l()},_=()=>{g.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)};return H(Kn,{className:He(["react-flow__controls",d==="horizontal"?"horizontal":"vertical",u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??y["controls.ariaLabel"],children:[t&&H(ft,{children:[x(As,{onClick:k,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:p,children:x(O_,{})}),x(As,{onClick:b,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:S,children:x(A_,{})})]}),n&&x(As,{className:"react-flow__controls-fitview",onClick:M,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:x(F_,{})}),r&&x(As,{className:"react-flow__controls-interactive",onClick:_,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:w?x(H_,{}):x(B_,{})}),c]})}ov.displayName="Controls";P.memo(ov);function V_({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:g,backgroundColor:w}=i||{},S=s||g||w;return x("rect",{className:He(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,style:{fill:S,stroke:l,strokeWidth:a},shapeRendering:f,onClick:h?p=>h(p,e):void 0})}const W_=P.memo(V_),U_=e=>e.nodes.map(t=>t.id),Nu=e=>e instanceof Function?e:()=>e;function Y_({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=W_,onClick:s}){const l=he(U_,Me),a=Nu(t),u=Nu(e),c=Nu(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x(ft,{children:l.map(d=>x(G_,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:f},d))})}function X_({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:c,y:f,width:d,height:h}=he(g=>{const{internals:w}=g.nodeLookup.get(e),S=w.userNode,{x:p,y}=w.positionAbsolute,{width:m,height:v}=$n(S);return{node:S,x:p,y,width:m,height:v}},Me);return!u||u.hidden||!og(u)?null:x(l,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const G_=P.memo(X_);var K_=P.memo(Y_);const Q_=200,q_=150,Z_=e=>!e.hidden,J_=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?rg(Yi(e.nodeLookup,{filter:Z_}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},eN="react-flow__minimap-desc";function iv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:g,pannable:w=!1,zoomable:S=!1,ariaLabel:p,inversePan:y,zoomStep:m=1,offsetScale:v=5}){const E=Ce(),k=P.useRef(null),{boundingRect:b,viewBB:M,rfId:_,panZoom:R,translateExtent:B,flowWidth:z,flowHeight:A,ariaLabelConfig:C}=he(J_,Me),$=(e==null?void 0:e.width)??Q_,I=(e==null?void 0:e.height)??q_,D=b.width/$,T=b.height/I,N=Math.max(D,T),L=N*$,F=N*I,j=v*N,G=b.x-(L-b.width)/2-j,X=b.y-(F-b.height)/2-j,te=L+j*2,J=F+j*2,K=`${eN}-${_}`,Y=P.useRef(0),ne=P.useRef();Y.current=N,P.useEffect(()=>{if(k.current&&R)return ne.current=eb({domNode:k.current,panZoom:R,getTransform:()=>E.getState().transform,getViewScale:()=>Y.current}),()=>{var se;(se=ne.current)==null||se.destroy()}},[R]),P.useEffect(()=>{var se;(se=ne.current)==null||se.update({translateExtent:B,width:z,height:A,inversePan:y,pannable:w,zoomStep:m,zoomable:S})},[w,S,y,m,B,z,A]);const le=h?se=>{var pe;const[re,ce]=((pe=ne.current)==null?void 0:pe.pointer(se))||[0,0];h(se,{x:re,y:ce})}:void 0,ae=g?P.useCallback((se,re)=>{const ce=E.getState().nodeLookup.get(re).internals.userNode;g(se,ce)},[]):void 0,ie=p??C["minimap.ariaLabel"];return x(Kn,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*N:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:H("svg",{width:$,height:I,viewBox:`${G} ${X} ${te} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:k,onClick:le,children:[ie&&x("title",{id:K,children:ie}),x(K_,{onClick:ae,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),x("path",{className:"react-flow__minimap-mask",d:`M${G-j},${X-j}h${te+j*2}v${J+j*2}h${-te-j*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}iv.displayName="MiniMap";P.memo(iv);const tN=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,nN={[xo.Line]:"right",[xo.Handle]:"bottom-right"};function rN({nodeId:e,position:t,variant:n=xo.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:g,onResizeStart:w,onResize:S,onResizeEnd:p}){const y=zy(),m=typeof e=="string"?e:y,v=Ce(),E=P.useRef(null),k=n===xo.Handle,b=he(P.useCallback(tN(k&&h),[k,h]),Me),M=P.useRef(null),_=t??nN[n];P.useEffect(()=>{if(!(!E.current||!m))return M.current||(M.current=gb({domNode:E.current,nodeId:m,getStoreItems:()=>{const{nodeLookup:B,transform:z,snapGrid:A,snapToGrid:C,nodeOrigin:$,domNode:I}=v.getState();return{nodeLookup:B,transform:z,snapGrid:A,snapToGrid:C,nodeOrigin:$,paneDomNode:I}},onChange:(B,z)=>{const{triggerNodeChanges:A,nodeLookup:C,parentLookup:$,nodeOrigin:I}=v.getState(),D=[],T={x:B.x,y:B.y},N=C.get(m);if(N&&N.expandParent&&N.parentId){const L=N.origin??I,F=B.width??N.measured.width??0,j=B.height??N.measured.height??0,G={id:N.id,parentId:N.parentId,rect:{width:F,height:j,...ig({x:B.x??N.position.x,y:B.y??N.position.y},{width:F,height:j},N.parentId,C,L)}},X=yd([G],C,$,I);D.push(...X),T.x=B.x?Math.max(L[0]*F,B.x):void 0,T.y=B.y?Math.max(L[1]*j,B.y):void 0}if(T.x!==void 0&&T.y!==void 0){const L={id:m,type:"position",position:{...T}};D.push(L)}if(B.width!==void 0&&B.height!==void 0){const F={id:m,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:B.width,height:B.height}};D.push(F)}for(const L of z){const F={...L,type:"position"};D.push(F)}A(D)},onEnd:({width:B,height:z})=>{const A={id:m,type:"dimensions",resizing:!1,dimensions:{width:B,height:z}};v.getState().triggerNodeChanges([A])}})),M.current.update({controlPosition:_,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:w,onResize:S,onResizeEnd:p,shouldResize:g}),()=>{var B;(B=M.current)==null||B.destroy()}},[_,l,a,u,c,f,w,S,p,g]);const R=_.split("-");return x("div",{className:He(["react-flow__resize-control","nodrag",...R,n,r]),ref:E,style:{...o,scale:b,...s&&{[k?"backgroundColor":"borderColor"]:s}},children:i})}P.memo(rN);const oN=({data:e,id:t})=>{const[n,r]=P.useState(!1),[o,i]=P.useState(e.name||e.label||""),[s,l]=P.useState(e.details||""),[a,u]=P.useState(e.spouseLink||""),[c,f]=P.useState(null),[d,h]=P.useState(!1);P.useEffect(()=>{(async()=>{if(e.familyId&&e.userId)try{const R={"X-User-ID":e.userId};e.token&&(R.Authorization=`Bearer ${e.token}`);const B=await fetch(`/api/node-image/${e.familyId}/${t}`,{headers:R});if(B.ok){const z=await B.json();f(z.image_data)}}catch(R){console.warn(`Failed to load image for node ${t}:`,R)}})()},[e.familyId,e.userId,e.token,t]);const g=_=>{_.stopPropagation(),e.onAddParent&&e.onAddParent(t)},w=_=>{_.stopPropagation(),e.onAddChild&&e.onAddChild(t)},S=_=>{_.stopPropagation(),e.onAddSpouse&&e.onAddSpouse(t)},p=()=>{r(!0)},y=()=>{e.onUpdateNode&&e.onUpdateNode(t,{name:o,details:s,spouseLink:a}),r(!1)},m=()=>{i(e.name||e.label||""),l(e.details||""),u(e.spouseLink||""),r(!1)},v=_=>{_.key==="Enter"&&!_.shiftKey?(_.preventDefault(),y()):_.key==="Escape"&&(_.preventDefault(),m())},E=_=>{_.stopPropagation(),e.spouseLink&&window.open(e.spouseLink,"_blank")},k=async _=>{var z;const R=(z=_.target.files)==null?void 0:z[0];if(!R||!e.isPremium||!e.familyId||!e.userId)return;const B=2*1024*1024;if(R.size>B){alert("Please select an image smaller than 2MB.");return}h(!0);try{const A=await b(R),C={"Content-Type":"application/json","X-User-ID":e.userId};e.token&&(C.Authorization=`Bearer ${e.token}`);const $=await fetch("/api/node-image",{method:"POST",headers:C,body:JSON.stringify({nodeId:t,familyId:e.familyId,imageData:A,imageName:R.name})});if($.ok)f(A),alert("Image uploaded successfully!");else{const I=await $.json();alert(`Failed to upload image: ${I.error}`)}h(!1)}catch(A){console.error("Error uploading image:",A),alert("Failed to upload image. Please try again."),h(!1)}},b=_=>new Promise((R,B)=>{const z=document.createElement("canvas"),A=z.getContext("2d"),C=new Image;C.onload=()=>{let{width:I,height:D}=C;I>D?I>200&&(D=D*200/I,I=200):D>200&&(I=I*200/D,D=200),z.width=I,z.height=D,A==null||A.drawImage(C,0,0,I,D);const T=z.toDataURL("image/jpeg",.8);R(T)},C.onerror=B,C.src=URL.createObjectURL(_)}),M=async()=>{if(!(!e.isPremium||!e.familyId||!e.userId))try{const _={"X-User-ID":e.userId};e.token&&(_.Authorization=`Bearer ${e.token}`);const R=await fetch(`/api/node-image/${e.familyId}/${t}`,{method:"DELETE",headers:_});if(R.ok)f(null),alert("Image removed successfully!");else{const B=await R.json();alert(`Failed to remove image: ${B.error}`)}}catch(_){console.error("Error removing image:",_),alert("Failed to remove image. Please try again.")}};return H("div",{className:"family-node","data-id":t,onDoubleClick:p,children:[x("button",{className:"add-button add-parent",onClick:g,title:"Add Parent",children:"+"}),x("button",{className:"add-button add-spouse",onClick:S,title:"Add Spouse",children:""}),x(Mo,{type:"target",position:oe.Top,style:{background:"#555",width:6,height:6}}),x("div",{className:"node-content",children:n?H("div",{className:"edit-form",children:[x("input",{type:"text",value:o,onChange:_=>i(_.target.value),onKeyDown:v,className:"edit-input name-input",placeholder:"Name",autoFocus:!0}),x("input",{type:"text",value:s,onChange:_=>l(_.target.value),onKeyDown:v,className:"edit-input details-input",placeholder:"Details"}),x("input",{type:"text",value:a,onChange:_=>u(_.target.value),onKeyDown:v,className:"edit-input spouse-input",placeholder:"Spouse Family Tree Link"}),e.isPremium&&H("div",{className:"image-upload-section",children:[H("label",{className:"image-upload-label",children:["Family Photo:",x("input",{type:"file",accept:"image/*",onChange:k,disabled:d,style:{display:"none"}}),x("div",{className:"image-upload-btn",children:d?"Uploading...":" Choose Photo"})]}),c&&x("button",{onClick:M,className:"remove-image-btn",type:"button",children:" Remove Photo"})]}),H("div",{className:"edit-buttons",children:[x("button",{onClick:y,className:"save-btn",children:""}),x("button",{onClick:m,className:"cancel-btn",children:""})]})]}):H(ft,{children:[e.exportMode==="free"?H(ft,{children:[x("div",{className:"node-name",children:e.name||e.label}),e.details&&x("div",{className:"node-details",children:e.details})]}):e.exportMode==="premium"?H("div",{className:"node-with-image",children:[x("div",{className:"node-image",style:{backgroundImage:c?`url(${c})`:void 0,background:c?void 0:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",width:"80px",height:"80px"},children:!c&&x("span",{style:{fontSize:"24px",color:"#6b7280"},children:""})}),x("div",{className:"node-name",children:e.name||e.label})]}):x(ft,{children:c&&e.isPremium?H("div",{className:"node-with-image",children:[x("div",{className:"node-image",style:{backgroundImage:`url(${c})`}}),x("div",{className:"node-name",children:e.name||e.label})]}):H(ft,{children:[x("div",{className:"node-name",children:e.name||e.label}),e.details&&x("div",{className:"node-details",children:e.details})]})}),e.spouseLink&&x("div",{className:"spouse-link",onClick:E,title:"View Spouse's Family Tree",children:" Spouse Tree"}),x("div",{className:"edit-hint",children:"Double-click to edit"})]})}),x(Mo,{type:"source",position:oe.Bottom,style:{background:"#555",width:6,height:6}}),x("button",{className:"add-button add-child",onClick:w,title:"Add Child",children:"+"})]})};const Tp=({currentFamily:e,currentFamilyId:t,accessCode:n,userId:r,onRegenerateCode:o,onAddAdmin:i,theme:s,compact:l,showQuickAction:a,isModal:u=!0})=>{const[c,f]=P.useState(""),[d,h]=P.useState(!1),[g,w]=P.useState(!0),[S,p]=P.useState({width:320,height:300}),[y,m]=P.useState({top:Math.max(0,window.innerHeight/2-150),left:Math.max(0,window.innerWidth-350)}),[v,E]=P.useState(!1),[k,b]=P.useState({x:0,y:0}),[M,_]=P.useState([]),[R,B]=P.useState(!1),[z,A]=P.useState(null),[C,$]=P.useState(null),[I,D]=P.useState(!1),T=an.useRef(null),N=320,L=200,F=120;an.useEffect(()=>{if(u){const ee=localStorage.getItem("adminDashboardPosition");if(ee)try{const ue=JSON.parse(ee);typeof ue.top=="number"&&typeof ue.left=="number"&&m(ue)}catch{}}},[u]),an.useEffect(()=>{u&&!v&&localStorage.setItem("adminDashboardPosition",JSON.stringify(y))},[u,v,y]);const j=ee=>{ee.preventDefault(),ee.stopPropagation();const ue=ee.clientX,$e=ee.clientY,Ze=S.width,nn=S.height,It=rn=>{p({width:Math.max(N,Ze+rn.clientX-ue),height:Math.max(L,nn+rn.clientY-$e)})},Tt=()=>{window.removeEventListener("mousemove",It),window.removeEventListener("mouseup",Tt)};window.addEventListener("mousemove",It),window.addEventListener("mouseup",Tt)},G=ee=>{var $e;ee.preventDefault(),E(!0);const ue=($e=T.current)==null?void 0:$e.getBoundingClientRect();ue&&b({x:ee.clientX-ue.left,y:ee.clientY-ue.top})},X=ee=>{if(!v)return;const ue=ee.clientY-k.y,$e=ee.clientX-k.x;requestAnimationFrame(()=>{m({top:Math.max(0,Math.min(window.innerHeight-100,ue)),left:Math.max(0,Math.min(window.innerWidth-S.width,$e))})})},te=()=>{E(!1)};an.useEffect(()=>{if(u&&v)return window.addEventListener("mousemove",X),window.addEventListener("mouseup",te),()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",te)}},[u,v,k]),an.useEffect(()=>{u&&(g?m(ee=>({...ee,left:Math.max(0,window.innerWidth-F-30)})):y.left+S.width>window.innerWidth-10&&m(ue=>({...ue,left:Math.max(0,window.innerWidth-S.width-10)})))},[u,g,S.width,y.left]),an.useEffect(()=>{if(!u)return;const ee=()=>{p(ue=>{const $e=Math.min(ue.width,window.innerWidth-20),Ze=Math.min(ue.height,window.innerHeight-20);return{width:Math.max(N,$e),height:Math.max(L,Ze)}}),m(ue=>{let $e=ue.left,Ze=ue.top;return $e+S.width>window.innerWidth&&($e=Math.max(0,window.innerWidth-S.width-10)),Ze+S.height>window.innerHeight&&(Ze=Math.max(0,window.innerHeight-S.height-10)),{left:$e,top:Ze}})};return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[u,S.width,S.height,N,L]);const J=`${window.location.origin}?family=${encodeURIComponent(e)}&code=${n}`,K=`${window.location.origin}?family=${encodeURIComponent(e)}&code=${n}&admin=true`,Y=()=>{c.trim()&&(i(c.trim()),f(""),h(!1))},ne=(ee,ue)=>{navigator.clipboard.writeText(ee),alert(`${ue} copied to clipboard!`)},le=async()=>{if(!t||!r){A("No family selected or user not authenticated.");return}B(!0),A(null);try{const ee=await fetch(`http://localhost:3001/api/family-tree/${t}/logs`,{headers:{"X-User-ID":r}});if(!ee.ok)throw new Error("Failed to fetch activity logs");const ue=await ee.json();_(ue)}catch(ee){A(ee.message||"Error fetching logs")}finally{B(!1)}},ae=async ee=>{if(!(!t||!r))try{if(!(await fetch(`http://localhost:3001/api/family-tree/${t}/undo/${ee}`,{method:"POST",headers:{"X-User-ID":r}})).ok)throw new Error("Failed to undo action");alert("Action undone successfully!"),le()}catch(ue){alert(`Error undoing action: ${ue.message}`)}},ie=ee=>{alert("Edit functionality: This would allow editing the family tree to revert changes manually.")},se=async()=>{if(!(!t||!r)){D(!0);try{const ee=await fetch(`http://localhost:3001/api/family-tree/${t}/generate-token`,{method:"POST",headers:{"X-User-ID":r}});if(!ee.ok)throw new Error("Failed to generate token");const ue=await ee.json();$(ue),le()}catch(ee){alert(`Error generating token: ${ee.message}`)}finally{D(!1)}}};an.useEffect(()=>{g||le()},[g,t]);const re=l?{fontSize:"13px",padding:"4px 8px",lineHeight:1.2}:{},ce=l?{fontSize:"12px",padding:"2px 6px",margin:"2px 0",height:24,width:"100%",boxSizing:"border-box"}:{},pe=l?{fontSize:"12px",padding:"2px 8px",margin:"2px 2px 2px 0",height:26}:{};return H("div",{ref:T,className:u?"admin-dashboard-modal":"admin-dashboard-panel",style:u?{position:"fixed",top:Math.max(0,Math.min(window.innerHeight-(g?36:S.height),y.top)),left:y.left,zIndex:1e3,...re,width:g?F:Math.min(S.width,window.innerWidth-20),height:g?36:Math.min(S.height,window.innerHeight-20),minWidth:60,minHeight:32,maxWidth:"98vw",maxHeight:"90vh",resize:"none",borderRadius:10,boxShadow:"0 4px 16px rgba(0,0,0,0.18)",background:s==="dark"?"#232323":"#fff",border:"1px solid #aaa",overflow:"hidden",transition:"width 0.2s, height 0.3s cubic-bezier(.4,2,.6,1), box-shadow 0.2s, left 0.2s, top 0.2s",userSelect:v?"none":"auto"}:{width:"100%",height:"auto",background:s==="dark"?"rgba(44, 62, 80, 0.95)":"rgba(255, 255, 255, 0.95)",borderRadius:12,padding:l?"10px":"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:s==="dark"?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(255, 255, 255, 0.2)",overflow:"auto",...re},children:[u&&H("div",{className:"admin-dashboard-modal-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:v?"grabbing":"move",borderBottom:g?"none":"1px solid #ccc",padding:g?"0 8px":l?"8px 12px":"16px 20px",fontWeight:600,fontSize:g?"13px":l?"15px":"18px",background:s==="dark"?"#333":"#f5f5f5",borderRadius:g?5:"5px 5px 0 0",boxShadow:g?"0 2px 4px rgba(0,0,0,0.08)":"none",transition:"background 0.2s, padding 0.2s, font-size 0.2s",userSelect:"none"},onMouseDown:G,children:[x("span",{style:{fontSize:g?13:15,marginLeft:2,flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:g?"Admin":`Admin Dashboard - ${e}`}),x("span",{style:{fontSize:14,marginLeft:4,cursor:"pointer",display:"flex",alignItems:"center"},onClick:ee=>{ee.stopPropagation(),w(ue=>!ue)},title:g?"Expand":"Collapse",children:g?"":""})]}),!u&&H("h3",{style:{margin:"0 0 20px 0",color:s==="dark"?"#ecf0f1":"#2c3e50",fontSize:"1.4em",textAlign:"center",borderBottom:"2px solid #3498db",paddingBottom:"10px"},children:[" Admin Dashboard - ",e]}),u&&!g&&x("div",{style:{position:"absolute",right:2,bottom:2,width:18,height:18,cursor:"nwse-resize",padding:"2px",overflow:"auto",color:s==="dark"?"#f3f4f6":"#374151",background:"transparent"},onMouseDown:j,title:"Resize",children:x("svg",{width:"18",height:"18",children:x("polyline",{points:"4,18 18,4",style:{stroke:"#888",strokeWidth:2}})})}),H("div",{style:u?{maxHeight:g?0:S.height-44,opacity:g?0:1,overflow:"auto",transition:"max-height 0.3s cubic-bezier(.4,2,.6,1), opacity 0.2s",padding:g?0:4,pointerEvents:g?"none":"auto",minWidth:0,wordBreak:"break-all"}:{overflow:"auto",padding:l?"0":"4px",minWidth:0,wordBreak:"break-all"},children:[x("div",{style:{fontSize:22,fontWeight:800,color:s==="dark"?"#ffb300":"#d84315",marginBottom:10,textAlign:"center",letterSpacing:1.5},children:n}),H("div",{className:"admin-section",style:{marginBottom:10},children:[x("h4",{style:{margin:"6px 0 2px 0",fontSize:15,fontWeight:600},children:"Shareable Links"}),H("div",{className:"link-section",children:[H("div",{className:"link-item",children:[x("label",{style:{fontWeight:500},children:"Member Access Link:"}),H("div",{className:"link-display",style:{display:"flex",alignItems:"center",gap:4},children:[x("input",{type:"text",value:J,readOnly:!0,className:"link-input",style:{...ce,minWidth:0,width:"100%",overflowX:"auto",fontSize:12}}),x("button",{className:"copy-btn",style:{fontSize:14,padding:"2px 6px"},onClick:()=>ne(J,"Member access link"),title:"Copy member link",children:""})]})]}),H("div",{className:"link-item",children:[x("label",{style:{fontWeight:500},children:"Admin Access Link:"}),H("div",{className:"link-display",style:{display:"flex",alignItems:"center",gap:4},children:[x("input",{type:"text",value:K,readOnly:!0,className:"link-input",style:{...ce,minWidth:0,width:"100%",overflowX:"auto",fontSize:12}}),x("button",{className:"copy-btn",style:{fontSize:14,padding:"2px 6px"},onClick:()=>ne(K,"Admin access link"),title:"Copy admin link",children:""})]})]})]})]}),H("div",{className:"admin-section",style:{marginBottom:10},children:[x("h4",{style:{margin:"6px 0 2px 0",fontSize:15,fontWeight:600},children:"Admin Management"}),d?H("div",{className:"add-admin-form",style:{display:"flex",flexDirection:"column",gap:4},children:[x("input",{type:"email",value:c,onChange:ee=>f(ee.target.value),placeholder:"Enter email address to add as admin",className:"admin-email-input",style:{...ce,fontSize:12},autoFocus:!0}),H("div",{className:"admin-form-buttons",style:{display:"flex",gap:4},children:[x("button",{onClick:Y,className:"confirm-btn",style:{...pe,fontSize:13,padding:"2px 10px"},children:"Add Admin"}),x("button",{onClick:()=>{h(!1),f("")},className:"cancel-btn-admin",style:{...pe,fontSize:11,padding:"2px 8px"},children:"Cancel"})]})]}):x("button",{className:"add-admin-btn",onClick:()=>h(!0),style:{...pe,fontSize:13,padding:"2px 10px"},children:" Add Admin"})]}),H("div",{className:"admin-section",style:{marginBottom:10},children:[x("h4",{style:{margin:"6px 0 2px 0",fontSize:15,fontWeight:600},children:"Temporary Access Token"}),x("div",{style:{marginBottom:8},children:x("button",{className:"generate-token-btn",onClick:se,disabled:I,style:{...pe,fontSize:13,padding:"2px 10px",background:I?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:4,cursor:I?"not-allowed":"pointer"},children:I?"Generating...":" Generate Token"})}),C&&H("div",{className:"generated-token",style:{backgroundColor:s==="dark"?"#333":"#f9f9f9",padding:8,borderRadius:4,border:"1px solid #ddd",marginTop:8},children:[x("div",{style:{fontWeight:600,marginBottom:4},children:"Generated Token:"}),H("div",{style:{display:"flex",alignItems:"center",gap:4,marginBottom:4},children:[x("div",{style:{fontFamily:"monospace",fontSize:14,wordBreak:"break-all",backgroundColor:s==="dark"?"#444":"#fff",padding:4,borderRadius:2,flex:1,minWidth:0},children:C.token}),x("button",{className:"copy-btn",style:{fontSize:14,padding:"2px 6px"},onClick:()=>ne(C.token,"Access token"),title:"Copy token",children:""})]}),H("div",{style:{fontSize:12,color:"#666"},children:["Expires: ",new Date(C.expiresAt).toLocaleString()]}),x("div",{style:{fontSize:12,color:"#666",marginTop:4},children:"Share this token with someone for temporary access (24 hours)"})]})]}),H("div",{className:"admin-section",style:{marginBottom:10},children:[x("h4",{style:{margin:"6px 0 2px 0",fontSize:15,fontWeight:600},children:"Activity Logs"}),R?x("div",{children:"Loading logs..."}):z?x("div",{style:{color:"red"},children:z}):M.length===0?x("div",{children:"No activity logs found."}):x("ul",{style:{maxHeight:150,overflowY:"auto",paddingLeft:16,fontSize:12,lineHeight:1.3,color:s==="dark"?"#ddd":"#333"},children:M.map(ee=>H("li",{style:{marginBottom:6},children:[x("strong",{children:new Date(ee.created_at).toLocaleString()}),":"," ",x("em",{children:ee.action})," by user ",x("code",{children:ee.user_id}),x("br",{}),x("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",marginTop:2,fontSize:11,backgroundColor:s==="dark"?"#444":"#eee",padding:4,borderRadius:4},children:JSON.stringify(ee.details,null,2)}),H("div",{style:{marginTop:4,display:"flex",gap:4},children:[x("button",{onClick:()=>ae(ee.id),style:{fontSize:10,padding:"2px 6px",background:"#f44336",color:"white",border:"none",borderRadius:3,cursor:"pointer"},children:"Undo"}),x("button",{onClick:()=>ie(),style:{fontSize:10,padding:"2px 6px",background:"#2196f3",color:"white",border:"none",borderRadius:3,cursor:"pointer"},children:"Edit"})]})]},ee.id))})]})]})]})};var iN="\0",dr="\0",Dp="";let sN=class{constructor(t){Ae(this,"_isDirected",!0);Ae(this,"_isMultigraph",!1);Ae(this,"_isCompound",!1);Ae(this,"_label");Ae(this,"_defaultNodeLabelFn",()=>{});Ae(this,"_defaultEdgeLabelFn",()=>{});Ae(this,"_nodes",{});Ae(this,"_in",{});Ae(this,"_preds",{});Ae(this,"_out",{});Ae(this,"_sucs",{});Ae(this,"_edgeObjs",{});Ae(this,"_edgeLabels",{});Ae(this,"_nodeCount",0);Ae(this,"_edgeCount",0);Ae(this,"_parent");Ae(this,"_children");t&&(this._isDirected=Object.hasOwn(t,"directed")?t.directed:!0,this._isMultigraph=Object.hasOwn(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.hasOwn(t,"compound")?t.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[dr]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return this._defaultNodeLabelFn=t,typeof t!="function"&&(this._defaultNodeLabelFn=()=>t),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var t=this;return this.nodes().filter(n=>Object.keys(t._in[n]).length===0)}sinks(){var t=this;return this.nodes().filter(n=>Object.keys(t._out[n]).length===0)}setNodes(t,n){var r=arguments,o=this;return t.forEach(function(i){r.length>1?o.setNode(i,n):o.setNode(i)}),this}setNode(t,n){return Object.hasOwn(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=dr,this._children[t]={},this._children[dr][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.hasOwn(this._nodes,t)}removeNode(t){var n=this;if(Object.hasOwn(this._nodes,t)){var r=o=>n.removeEdge(n._edgeObjs[o]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],this.children(t).forEach(function(o){n.setParent(o)}),delete this._children[t]),Object.keys(this._in[t]).forEach(r),delete this._in[t],delete this._preds[t],Object.keys(this._out[t]).forEach(r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=dr;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var n=this._parent[t];if(n!==dr)return n}}children(t=dr){if(this._isCompound){var n=this._children[t];if(n)return Object.keys(n)}else{if(t===dr)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var n=this._preds[t];if(n)return Object.keys(n)}successors(t){var n=this._sucs[t];if(n)return Object.keys(n)}neighbors(t){var n=this.predecessors(t);if(n){const o=new Set(n);for(var r of this.successors(t))o.add(r);return Array.from(o.values())}}isLeaf(t){var n;return this.isDirected()?n=this.successors(t):n=this.neighbors(t),n.length===0}filterNodes(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([s,l]){t(s)&&n.setNode(s,l)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,r.edge(s))});var o={};function i(s){var l=r.parent(s);return l===void 0||n.hasNode(l)?(o[s]=l,l):l in o?o[l]:i(l)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,i(s))),n}setDefaultEdgeLabel(t){return this._defaultEdgeLabelFn=t,typeof t!="function"&&(this._defaultEdgeLabelFn=()=>t),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(t,n){var r=this,o=arguments;return t.reduce(function(i,s){return o.length>1?r.setEdge(i,s,n):r.setEdge(i,s),s}),this}setEdge(){var t,n,r,o,i=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(t=s.v,n=s.w,r=s.name,arguments.length===2&&(o=arguments[1],i=!0)):(t=s,n=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),t=""+t,n=""+n,r!==void 0&&(r=""+r);var l=ei(this._isDirected,t,n,r);if(Object.hasOwn(this._edgeLabels,l))return i&&(this._edgeLabels[l]=o),this;if(r!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[l]=i?o:this._defaultEdgeLabelFn(t,n,r);var a=lN(this._isDirected,t,n,r);return t=a.v,n=a.w,Object.freeze(a),this._edgeObjs[l]=a,$p(this._preds[n],t),$p(this._sucs[t],n),this._in[n][l]=a,this._out[t][l]=a,this._edgeCount++,this}edge(t,n,r){var o=arguments.length===1?Pu(this._isDirected,arguments[0]):ei(this._isDirected,t,n,r);return this._edgeLabels[o]}edgeAsObj(){const t=this.edge(...arguments);return typeof t!="object"?{label:t}:t}hasEdge(t,n,r){var o=arguments.length===1?Pu(this._isDirected,arguments[0]):ei(this._isDirected,t,n,r);return Object.hasOwn(this._edgeLabels,o)}removeEdge(t,n,r){var o=arguments.length===1?Pu(this._isDirected,arguments[0]):ei(this._isDirected,t,n,r),i=this._edgeObjs[o];return i&&(t=i.v,n=i.w,delete this._edgeLabels[o],delete this._edgeObjs[o],Lp(this._preds[n],t),Lp(this._sucs[t],n),delete this._in[n][o],delete this._out[t][o],this._edgeCount--),this}inEdges(t,n){var r=this._in[t];if(r){var o=Object.values(r);return n?o.filter(i=>i.v===n):o}}outEdges(t,n){var r=this._out[t];if(r){var o=Object.values(r);return n?o.filter(i=>i.w===n):o}}nodeEdges(t,n){var r=this.inEdges(t,n);if(r)return r.concat(this.outEdges(t,n))}};function $p(e,t){e[t]?e[t]++:e[t]=1}function Lp(e,t){--e[t]||delete e[t]}function ei(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var s=o;o=i,i=s}return o+Dp+i+Dp+(r===void 0?iN:r)}function lN(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var s=o;o=i,i=s}var l={v:o,w:i};return r&&(l.name=r),l}function Pu(e,t){return ei(e,t.v,t.w,t.name)}var cf=sN,aN="2.2.4",uN={Graph:cf,version:aN},cN=cf,dN={write:fN,read:mN};function fN(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:hN(e),edges:pN(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function hN(e){return e.nodes().map(function(t){var n=e.node(t),r=e.parent(t),o={v:t};return n!==void 0&&(o.value=n),r!==void 0&&(o.parent=r),o})}function pN(e){return e.edges().map(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return t.name!==void 0&&(r.name=t.name),n!==void 0&&(r.value=n),r})}function mN(e){var t=new cN(e.options).setGraph(e.value);return e.nodes.forEach(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)}),e.edges.forEach(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),t}var gN=yN;function yN(e){var t={},n=[],r;function o(i){Object.hasOwn(t,i)||(t[i]=!0,r.push(i),e.successors(i).forEach(o),e.predecessors(i).forEach(o))}return e.nodes().forEach(function(i){r=[],o(i),r.length&&n.push(r)}),n}let vN=class{constructor(){Ae(this,"_arr",[]);Ae(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var n=this._keyIndices[t];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,n){var r=this._keyIndices;if(t=String(t),!Object.hasOwn(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:n}),this._decrease(i),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,n){var r=this._keyIndices[t];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(t){var n=this._arr,r=2*t,o=r+1,i=t;r<n.length&&(i=n[r].priority<n[i].priority?r:i,o<n.length&&(i=n[o].priority<n[i].priority?o:i),i!==t&&(this._swap(t,i),this._heapify(i)))}_decrease(t){for(var n=this._arr,r=n[t].priority,o;t!==0&&(o=t>>1,!(n[o].priority<r));)this._swap(t,o),t=o}_swap(t,n){var r=this._arr,o=this._keyIndices,i=r[t],s=r[n];r[t]=s,r[n]=i,o[s.key]=t,o[i.key]=n}};var sv=vN,wN=sv,lv=SN,xN=()=>1;function SN(e,t,n,r){return EN(e,String(t),n||xN,r||function(o){return e.outEdges(o)})}function EN(e,t,n,r){var o={},i=new wN,s,l,a=function(u){var c=u.v!==s?u.v:u.w,f=o[c],d=n(u),h=l.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+d);h<f.distance&&(f.distance=h,f.predecessor=s,i.decrease(c,h))};for(e.nodes().forEach(function(u){var c=u===t?0:Number.POSITIVE_INFINITY;o[u]={distance:c},i.add(u,c)});i.size()>0&&(s=i.removeMin(),l=o[s],l.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(a);return o}var bN=lv,kN=CN;function CN(e,t,n){return e.nodes().reduce(function(r,o){return r[o]=bN(e,o,t,n),r},{})}var av=_N;function _N(e){var t=0,n=[],r={},o=[];function i(s){var l=r[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(c){Object.hasOwn(r,c)?r[c].onStack&&(l.lowlink=Math.min(l.lowlink,r[c].index)):(i(c),l.lowlink=Math.min(l.lowlink,r[c].lowlink))}),l.lowlink===l.index){var a=[],u;do u=n.pop(),r[u].onStack=!1,a.push(u);while(s!==u);o.push(a)}}return e.nodes().forEach(function(s){Object.hasOwn(r,s)||i(s)}),o}var NN=av,PN=MN;function MN(e){return NN(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var IN=DN,TN=()=>1;function DN(e,t,n){return $N(e,t||TN,n||function(r){return e.outEdges(r)})}function $N(e,t,n){var r={},o=e.nodes();return o.forEach(function(i){r[i]={},r[i][i]={distance:0},o.forEach(function(s){i!==s&&(r[i][s]={distance:Number.POSITIVE_INFINITY})}),n(i).forEach(function(s){var l=s.v===i?s.w:s.v,a=t(s);r[i][l]={distance:a,predecessor:i}})}),o.forEach(function(i){var s=r[i];o.forEach(function(l){var a=r[l];o.forEach(function(u){var c=a[i],f=s[u],d=a[u],h=c.distance+f.distance;h<d.distance&&(d.distance=h,d.predecessor=f.predecessor)})})}),r}function uv(e){var t={},n={},r=[];function o(i){if(Object.hasOwn(n,i))throw new Kc;Object.hasOwn(t,i)||(n[i]=!0,t[i]=!0,e.predecessors(i).forEach(o),delete n[i],r.push(i))}if(e.sinks().forEach(o),Object.keys(t).length!==e.nodeCount())throw new Kc;return r}class Kc extends Error{constructor(){super(...arguments)}}var cv=uv;uv.CycleException=Kc;var Rp=cv,LN=RN;function RN(e){try{Rp(e)}catch(t){if(t instanceof Rp.CycleException)return!1;throw t}return!0}var dv=zN;function zN(e,t,n){Array.isArray(t)||(t=[t]);var r=e.isDirected()?l=>e.successors(l):l=>e.neighbors(l),o=n==="post"?ON:AN,i=[],s={};return t.forEach(l=>{if(!e.hasNode(l))throw new Error("Graph does not have node: "+l);o(l,r,s,i)}),i}function ON(e,t,n,r){for(var o=[[e,!1]];o.length>0;){var i=o.pop();i[1]?r.push(i[0]):Object.hasOwn(n,i[0])||(n[i[0]]=!0,o.push([i[0],!0]),fv(t(i[0]),s=>o.push([s,!1])))}}function AN(e,t,n,r){for(var o=[e];o.length>0;){var i=o.pop();Object.hasOwn(n,i)||(n[i]=!0,r.push(i),fv(t(i),s=>o.push(s)))}}function fv(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}var FN=dv,BN=HN;function HN(e,t){return FN(e,t,"post")}var jN=dv,VN=WN;function WN(e,t){return jN(e,t,"pre")}var UN=cf,YN=sv,XN=GN;function GN(e,t){var n=new UN,r={},o=new YN,i;function s(a){var u=a.v===i?a.w:a.v,c=o.priority(u);if(c!==void 0){var f=t(a);f<c&&(r[u]=i,o.decrease(u,f))}}if(e.nodeCount()===0)return n;e.nodes().forEach(function(a){o.add(a,Number.POSITIVE_INFINITY),n.setNode(a)}),o.decrease(e.nodes()[0],0);for(var l=!1;o.size()>0;){if(i=o.removeMin(),Object.hasOwn(r,i))n.setEdge(i,r[i]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(i).forEach(s)}return n}var KN={components:gN,dijkstra:lv,dijkstraAll:kN,findCycles:PN,floydWarshall:IN,isAcyclic:LN,postorder:BN,preorder:VN,prim:XN,tarjan:av,topsort:cv},zp=uN,tn={Graph:zp.Graph,json:dN,alg:KN,version:zp.version};let QN=class{constructor(){let t={};t._next=t._prev=t,this._sentinel=t}dequeue(){let t=this._sentinel,n=t._prev;if(n!==t)return Op(n),n}enqueue(t){let n=this._sentinel;t._prev&&t._next&&Op(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n}toString(){let t=[],n=this._sentinel,r=n._prev;for(;r!==n;)t.push(JSON.stringify(r,qN)),r=r._prev;return"["+t.join(", ")+"]"}};function Op(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function qN(e,t){if(e!=="_next"&&e!=="_prev")return t}var ZN=QN;let JN=tn.Graph,eP=ZN;var tP=rP;let nP=()=>1;function rP(e,t){if(e.nodeCount()<=1)return[];let n=iP(e,t||nP);return oP(n.graph,n.buckets,n.zeroIdx).flatMap(o=>e.outEdges(o.v,o.w))}function oP(e,t,n){let r=[],o=t[t.length-1],i=t[0],s;for(;e.nodeCount();){for(;s=i.dequeue();)Mu(e,t,n,s);for(;s=o.dequeue();)Mu(e,t,n,s);if(e.nodeCount()){for(let l=t.length-2;l>0;--l)if(s=t[l].dequeue(),s){r=r.concat(Mu(e,t,n,s,!0));break}}}return r}function Mu(e,t,n,r,o){let i=o?[]:void 0;return e.inEdges(r.v).forEach(s=>{let l=e.edge(s),a=e.node(s.v);o&&i.push({v:s.v,w:s.w}),a.out-=l,Qc(t,n,a)}),e.outEdges(r.v).forEach(s=>{let l=e.edge(s),a=s.w,u=e.node(a);u.in-=l,Qc(t,n,u)}),e.removeNode(r.v),i}function iP(e,t){let n=new JN,r=0,o=0;e.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),e.edges().forEach(l=>{let a=n.edge(l.v,l.w)||0,u=t(l),c=a+u;n.setEdge(l.v,l.w,c),o=Math.max(o,n.node(l.v).out+=u),r=Math.max(r,n.node(l.w).in+=u)});let i=sP(o+r+3).map(()=>new eP),s=r+1;return n.nodes().forEach(l=>{Qc(i,s,n.node(l))}),{graph:n,buckets:i,zeroIdx:s}}function Qc(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function sP(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}let hv=tn.Graph;var Be={addBorderNode:mP,addDummyNode:pv,applyWithChunking:xa,asNonCompoundGraph:aP,buildLayerMatrix:fP,intersectRect:dP,mapValues:EP,maxRank:gv,normalizeRanks:hP,notime:wP,partition:yP,pick:SP,predecessorWeights:cP,range:vv,removeEmptyRanks:pP,simplify:lP,successorWeights:uP,time:vP,uniqueId:yv,zipObject:df};function pv(e,t,n,r){for(var o=r;e.hasNode(o);)o=yv(r);return n.dummy=t,e.setNode(o,n),o}function lP(e){let t=new hv().setGraph(e.graph());return e.nodes().forEach(n=>t.setNode(n,e.node(n))),e.edges().forEach(n=>{let r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t}function aP(e){let t=new hv({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{e.children(n).length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdge(n,e.edge(n))}),t}function uP(e){let t=e.nodes().map(n=>{let r={};return e.outEdges(n).forEach(o=>{r[o.w]=(r[o.w]||0)+e.edge(o).weight}),r});return df(e.nodes(),t)}function cP(e){let t=e.nodes().map(n=>{let r={};return e.inEdges(n).forEach(o=>{r[o.v]=(r[o.v]||0)+e.edge(o).weight}),r});return df(e.nodes(),t)}function dP(e,t){let n=e.x,r=e.y,o=t.x-n,i=t.y-r,s=e.width/2,l=e.height/2;if(!o&&!i)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(i)*s>Math.abs(o)*l?(i<0&&(l=-l),a=l*o/i,u=l):(o<0&&(s=-s),a=s,u=s*i/o),{x:n+a,y:r+u}}function fP(e){let t=vv(gv(e)+1).map(()=>[]);return e.nodes().forEach(n=>{let r=e.node(n),o=r.rank;o!==void 0&&(t[o][r.order]=n)}),t}function hP(e){let t=e.nodes().map(r=>{let o=e.node(r).rank;return o===void 0?Number.MAX_VALUE:o}),n=xa(Math.min,t);e.nodes().forEach(r=>{let o=e.node(r);Object.hasOwn(o,"rank")&&(o.rank-=n)})}function pP(e){let t=e.nodes().map(s=>e.node(s).rank),n=xa(Math.min,t),r=[];e.nodes().forEach(s=>{let l=e.node(s).rank-n;r[l]||(r[l]=[]),r[l].push(s)});let o=0,i=e.graph().nodeRankFactor;Array.from(r).forEach((s,l)=>{s===void 0&&l%i!==0?--o:s!==void 0&&o&&s.forEach(a=>e.node(a).rank+=o)})}function mP(e,t,n,r){let o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),pv(e,"border",o,t)}function gP(e,t=mv){const n=[];for(let r=0;r<e.length;r+=t){const o=e.slice(r,r+t);n.push(o)}return n}const mv=65535;function xa(e,t){if(t.length>mv){const n=gP(t);return e.apply(null,n.map(r=>e.apply(null,r)))}else return e.apply(null,t)}function gv(e){const n=e.nodes().map(r=>{let o=e.node(r).rank;return o===void 0?Number.MIN_VALUE:o});return xa(Math.max,n)}function yP(e,t){let n={lhs:[],rhs:[]};return e.forEach(r=>{t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function vP(e,t){let n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}}function wP(e,t){return t()}let xP=0;function yv(e){var t=++xP;return e+(""+t)}function vv(e,t,n=1){t==null&&(t=e,e=0);let r=i=>i<t;n<0&&(r=i=>t<i);const o=[];for(let i=e;r(i);i+=n)o.push(i);return o}function SP(e,t){const n={};for(const r of t)e[r]!==void 0&&(n[r]=e[r]);return n}function EP(e,t){let n=t;return typeof t=="string"&&(n=r=>r[t]),Object.entries(e).reduce((r,[o,i])=>(r[o]=n(i,o),r),{})}function df(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}let bP=tP,kP=Be.uniqueId;var CP={run:_P,undo:PP};function _P(e){(e.graph().acyclicer==="greedy"?bP(e,n(e)):NP(e)).forEach(r=>{let o=e.edge(r);e.removeEdge(r),o.forwardName=r.name,o.reversed=!0,e.setEdge(r.w,r.v,o,kP("rev"))});function n(r){return o=>r.edge(o).weight}}function NP(e){let t=[],n={},r={};function o(i){Object.hasOwn(r,i)||(r[i]=!0,n[i]=!0,e.outEdges(i).forEach(s=>{Object.hasOwn(n,s.w)?t.push(s):o(s.w)}),delete n[i])}return e.nodes().forEach(o),t}function PP(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}let MP=Be;var IP={run:TP,undo:$P};function TP(e){e.graph().dummyChains=[],e.edges().forEach(t=>DP(e,t))}function DP(e,t){let n=t.v,r=e.node(n).rank,o=t.w,i=e.node(o).rank,s=t.name,l=e.edge(t),a=l.labelRank;if(i===r+1)return;e.removeEdge(t);let u,c,f;for(f=0,++r;r<i;++f,++r)l.points=[],c={width:0,height:0,edgeLabel:l,edgeObj:t,rank:r},u=MP.addDummyNode(e,"edge",c,"_d"),r===a&&(c.width=l.width,c.height=l.height,c.dummy="edge-label",c.labelpos=l.labelpos),e.setEdge(n,u,{weight:l.weight},s),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,o,{weight:l.weight},s)}function $P(e){e.graph().dummyChains.forEach(t=>{let n=e.node(t),r=n.edgeLabel,o;for(e.setEdge(n.edgeObj,r);n.dummy;)o=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=o,n=e.node(t)})}const{applyWithChunking:LP}=Be;var Sa={longestPath:RP,slack:zP};function RP(e){var t={};function n(r){var o=e.node(r);if(Object.hasOwn(t,r))return o.rank;t[r]=!0;let i=e.outEdges(r).map(l=>l==null?Number.POSITIVE_INFINITY:n(l.w)-e.edge(l).minlen);var s=LP(Math.min,i);return s===Number.POSITIVE_INFINITY&&(s=0),o.rank=s}e.sources().forEach(n)}function zP(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var OP=tn.Graph,Fl=Sa.slack,wv=AP;function AP(e){var t=new OP({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var o,i;FP(t,e)<r;)o=BP(t,e),i=t.hasNode(o.v)?Fl(e,o):-Fl(e,o),HP(t,e,i);return t}function FP(e,t){function n(r){t.nodeEdges(r).forEach(o=>{var i=o.v,s=r===i?o.w:i;!e.hasNode(s)&&!Fl(t,o)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return e.nodes().forEach(n),e.nodeCount()}function BP(e,t){return t.edges().reduce((r,o)=>{let i=Number.POSITIVE_INFINITY;return e.hasNode(o.v)!==e.hasNode(o.w)&&(i=Fl(t,o)),i<r[0]?[i,o]:r},[Number.POSITIVE_INFINITY,null])[1]}function HP(e,t,n){e.nodes().forEach(r=>t.node(r).rank+=n)}var jP=wv,Ap=Sa.slack,VP=Sa.longestPath,WP=tn.alg.preorder,UP=tn.alg.postorder,YP=Be.simplify,XP=Lr;Lr.initLowLimValues=hf;Lr.initCutValues=ff;Lr.calcCutValue=xv;Lr.leaveEdge=Ev;Lr.enterEdge=bv;Lr.exchangeEdges=kv;function Lr(e){e=YP(e),VP(e);var t=jP(e);hf(t),ff(t,e);for(var n,r;n=Ev(t);)r=bv(t,e,n),kv(t,e,n,r)}function ff(e,t){var n=UP(e,e.nodes());n=n.slice(0,n.length-1),n.forEach(r=>GP(e,t,r))}function GP(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=xv(e,t,n)}function xv(e,t,n){var r=e.node(n),o=r.parent,i=!0,s=t.edge(n,o),l=0;return s||(i=!1,s=t.edge(o,n)),l=s.weight,t.nodeEdges(n).forEach(a=>{var u=a.v===n,c=u?a.w:a.v;if(c!==o){var f=u===i,d=t.edge(a).weight;if(l+=f?d:-d,QP(e,n,c)){var h=e.edge(n,c).cutvalue;l+=f?-h:h}}}),l}function hf(e,t){arguments.length<2&&(t=e.nodes()[0]),Sv(e,{},1,t)}function Sv(e,t,n,r,o){var i=n,s=e.node(r);return t[r]=!0,e.neighbors(r).forEach(l=>{Object.hasOwn(t,l)||(n=Sv(e,t,n,l,r))}),s.low=i,s.lim=n++,o?s.parent=o:delete s.parent,n}function Ev(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function bv(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var i=e.node(r),s=e.node(o),l=i,a=!1;i.lim>s.lim&&(l=s,a=!0);var u=t.edges().filter(c=>a===Fp(e,e.node(c.v),l)&&a!==Fp(e,e.node(c.w),l));return u.reduce((c,f)=>Ap(t,f)<Ap(t,c)?f:c)}function kv(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),hf(e),ff(e,t),KP(e,t)}function KP(e,t){var n=e.nodes().find(o=>!t.node(o).parent),r=WP(e,n);r=r.slice(1),r.forEach(o=>{var i=e.node(o).parent,s=t.edge(o,i),l=!1;s||(s=t.edge(i,o),l=!0),t.node(o).rank=t.node(i).rank+(l?s.minlen:-s.minlen)})}function QP(e,t,n){return e.hasEdge(t,n)}function Fp(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var qP=Sa,Cv=qP.longestPath,ZP=wv,JP=XP,eM=tM;function tM(e){var t=e.graph().ranker;if(t instanceof Function)return t(e);switch(e.graph().ranker){case"network-simplex":Bp(e);break;case"tight-tree":rM(e);break;case"longest-path":nM(e);break;case"none":break;default:Bp(e)}}var nM=Cv;function rM(e){Cv(e),ZP(e)}function Bp(e){JP(e)}var oM=iM;function iM(e){let t=lM(e);e.graph().dummyChains.forEach(n=>{let r=e.node(n),o=r.edgeObj,i=sM(e,t,o.v,o.w),s=i.path,l=i.lca,a=0,u=s[a],c=!0;for(;n!==o.w;){if(r=e.node(n),c){for(;(u=s[a])!==l&&e.node(u).maxRank<r.rank;)a++;u===l&&(c=!1)}if(!c){for(;a<s.length-1&&e.node(u=s[a+1]).minRank<=r.rank;)a++;u=s[a]}e.setParent(n,u),n=e.successors(n)[0]}})}function sM(e,t,n,r){let o=[],i=[],s=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim),a,u;a=n;do a=e.parent(a),o.push(a);while(a&&(t[a].low>s||l>t[a].lim));for(u=a,a=r;(a=e.parent(a))!==u;)i.push(a);return{path:o.concat(i.reverse()),lca:u}}function lM(e){let t={},n=0;function r(o){let i=n;e.children(o).forEach(r),t[o]={low:i,lim:n++}}return e.children().forEach(r),t}let Bl=Be;var aM={run:uM,cleanup:fM};function uM(e){let t=Bl.addDummyNode(e,"root",{},"_root"),n=cM(e),r=Object.values(n),o=Bl.applyWithChunking(Math.max,r)-1,i=2*o+1;e.graph().nestingRoot=t,e.edges().forEach(l=>e.edge(l).minlen*=i);let s=dM(e)+1;e.children().forEach(l=>_v(e,t,i,s,o,n,l)),e.graph().nodeRankFactor=i}function _v(e,t,n,r,o,i,s){let l=e.children(s);if(!l.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}let a=Bl.addBorderNode(e,"_bt"),u=Bl.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(a,s),c.borderTop=a,e.setParent(u,s),c.borderBottom=u,l.forEach(f=>{_v(e,t,n,r,o,i,f);let d=e.node(f),h=d.borderTop?d.borderTop:f,g=d.borderBottom?d.borderBottom:f,w=d.borderTop?r:2*r,S=h!==g?1:o-i[s]+1;e.setEdge(a,h,{weight:w,minlen:S,nestingEdge:!0}),e.setEdge(g,u,{weight:w,minlen:S,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,a,{weight:0,minlen:o+i[s]})}function cM(e){var t={};function n(r,o){var i=e.children(r);i&&i.length&&i.forEach(s=>n(s,o+1)),t[r]=o}return e.children().forEach(r=>n(r,1)),t}function dM(e){return e.edges().reduce((t,n)=>t+e.edge(n).weight,0)}function fM(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(n=>{var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}let hM=Be;var pM=mM;function mM(e){function t(n){let r=e.children(n),o=e.node(n);if(r.length&&r.forEach(t),Object.hasOwn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let i=o.minRank,s=o.maxRank+1;i<s;++i)Hp(e,"borderLeft","_bl",n,o,i),Hp(e,"borderRight","_br",n,o,i)}}e.children().forEach(t)}function Hp(e,t,n,r,o,i){let s={width:0,height:0,rank:i,borderType:t},l=o[t][i-1],a=hM.addDummyNode(e,"border",s,n);o[t][i]=a,e.setParent(a,r),l&&e.setEdge(l,a,{weight:1})}var gM={adjust:yM,undo:vM};function yM(e){let t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Nv(e)}function vM(e){let t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&wM(e),(t==="lr"||t==="rl")&&(xM(e),Nv(e))}function Nv(e){e.nodes().forEach(t=>jp(e.node(t))),e.edges().forEach(t=>jp(e.edge(t)))}function jp(e){let t=e.width;e.width=e.height,e.height=t}function wM(e){e.nodes().forEach(t=>Iu(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(Iu),Object.hasOwn(n,"y")&&Iu(n)})}function Iu(e){e.y=-e.y}function xM(e){e.nodes().forEach(t=>Tu(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(Tu),Object.hasOwn(n,"x")&&Tu(n)})}function Tu(e){let t=e.x;e.x=e.y,e.y=t}let Vp=Be;var SM=EM;function EM(e){let t={},n=e.nodes().filter(a=>!e.children(a).length),r=n.map(a=>e.node(a).rank),o=Vp.applyWithChunking(Math.max,r),i=Vp.range(o+1).map(()=>[]);function s(a){if(t[a])return;t[a]=!0;let u=e.node(a);i[u.rank].push(a),e.successors(a).forEach(s)}return n.sort((a,u)=>e.node(a).rank-e.node(u).rank).forEach(s),i}let bM=Be.zipObject;var kM=CM;function CM(e,t){let n=0;for(let r=1;r<t.length;++r)n+=_M(e,t[r-1],t[r]);return n}function _M(e,t,n){let r=bM(n,n.map((u,c)=>c)),o=t.flatMap(u=>e.outEdges(u).map(c=>({pos:r[c.w],weight:e.edge(c).weight})).sort((c,f)=>c.pos-f.pos)),i=1;for(;i<n.length;)i<<=1;let s=2*i-1;i-=1;let l=new Array(s).fill(0),a=0;return o.forEach(u=>{let c=u.pos+i;l[c]+=u.weight;let f=0;for(;c>0;)c%2&&(f+=l[c+1]),c=c-1>>1,l[c]+=u.weight;a+=u.weight*f}),a}var NM=PM;function PM(e,t=[]){return t.map(n=>{let r=e.inEdges(n);if(r.length){let o=r.reduce((i,s)=>{let l=e.edge(s),a=e.node(s.v);return{sum:i.sum+l.weight*a.order,weight:i.weight+l.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}let MM=Be;var IM=TM;function TM(e,t){let n={};e.forEach((o,i)=>{let s=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};o.barycenter!==void 0&&(s.barycenter=o.barycenter,s.weight=o.weight)}),t.edges().forEach(o=>{let i=n[o.v],s=n[o.w];i!==void 0&&s!==void 0&&(s.indegree++,i.out.push(n[o.w]))});let r=Object.values(n).filter(o=>!o.indegree);return DM(r)}function DM(e){let t=[];function n(o){return i=>{i.merged||(i.barycenter===void 0||o.barycenter===void 0||i.barycenter>=o.barycenter)&&$M(o,i)}}function r(o){return i=>{i.in.push(o),--i.indegree===0&&e.push(i)}}for(;e.length;){let o=e.pop();t.push(o),o.in.reverse().forEach(n(o)),o.out.forEach(r(o))}return t.filter(o=>!o.merged).map(o=>MM.pick(o,["vs","i","barycenter","weight"]))}function $M(e,t){let n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}let LM=Be;var RM=zM;function zM(e,t){let n=LM.partition(e,c=>Object.hasOwn(c,"barycenter")),r=n.lhs,o=n.rhs.sort((c,f)=>f.i-c.i),i=[],s=0,l=0,a=0;r.sort(OM(!!t)),a=Wp(i,o,a),r.forEach(c=>{a+=c.vs.length,i.push(c.vs),s+=c.barycenter*c.weight,l+=c.weight,a=Wp(i,o,a)});let u={vs:i.flat(!0)};return l&&(u.barycenter=s/l,u.weight=l),u}function Wp(e,t,n){let r;for(;t.length&&(r=t[t.length-1]).i<=n;)t.pop(),e.push(r.vs),n++;return n}function OM(e){return(t,n)=>t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}let AM=NM,FM=IM,BM=RM;var HM=Pv;function Pv(e,t,n,r){let o=e.children(t),i=e.node(t),s=i?i.borderLeft:void 0,l=i?i.borderRight:void 0,a={};s&&(o=o.filter(d=>d!==s&&d!==l));let u=AM(e,o);u.forEach(d=>{if(e.children(d.v).length){let h=Pv(e,d.v,n,r);a[d.v]=h,Object.hasOwn(h,"barycenter")&&VM(d,h)}});let c=FM(u,n);jM(c,a);let f=BM(c,r);if(s&&(f.vs=[s,f.vs,l].flat(!0),e.predecessors(s).length)){let d=e.node(e.predecessors(s)[0]),h=e.node(e.predecessors(l)[0]);Object.hasOwn(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function jM(e,t){e.forEach(n=>{n.vs=n.vs.flatMap(r=>t[r]?t[r].vs:r)})}function VM(e,t){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)}let WM=tn.Graph,UM=Be;var YM=XM;function XM(e,t,n){let r=GM(e),o=new WM({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(i=>e.node(i));return e.nodes().forEach(i=>{let s=e.node(i),l=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(o.setNode(i),o.setParent(i,l||r),e[n](i).forEach(a=>{let u=a.v===i?a.w:a.v,c=o.edge(u,i),f=c!==void 0?c.weight:0;o.setEdge(u,i,{weight:e.edge(a).weight+f})}),Object.hasOwn(s,"minRank")&&o.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),o}function GM(e){for(var t;e.hasNode(t=UM.uniqueId("_root")););return t}var KM=QM;function QM(e,t,n){let r={},o;n.forEach(i=>{let s=e.parent(i),l,a;for(;s;){if(l=e.parent(s),l?(a=r[l],r[l]=s):(a=o,o=s),a&&a!==s){t.setEdge(a,s);return}s=l}})}let qM=SM,ZM=kM,JM=HM,e4=YM,t4=KM,n4=tn.Graph,Fs=Be;var r4=Mv;function Mv(e,t){if(t&&typeof t.customOrder=="function"){t.customOrder(e,Mv);return}let n=Fs.maxRank(e),r=Up(e,Fs.range(1,n+1),"inEdges"),o=Up(e,Fs.range(n-1,-1,-1),"outEdges"),i=qM(e);if(Yp(e,i),t&&t.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,l;for(let a=0,u=0;u<4;++a,++u){o4(a%2?r:o,a%4>=2),i=Fs.buildLayerMatrix(e);let c=ZM(e,i);c<s&&(u=0,l=Object.assign({},i),s=c)}Yp(e,l)}function Up(e,t,n){return t.map(function(r){return e4(e,r,n)})}function o4(e,t){let n=new n4;e.forEach(function(r){let o=r.graph().root,i=JM(r,o,n,t);i.vs.forEach((s,l)=>r.node(s).order=l),t4(r,n,i.vs)})}function Yp(e,t){Object.values(t).forEach(n=>n.forEach((r,o)=>e.node(r).order=o))}let i4=tn.Graph,bn=Be;var s4={positionX:u4,findType1Conflicts:Iv,findType2Conflicts:Tv,addConflict:pf,hasConflict:Dv,verticalAlignment:$v,horizontalCompaction:Lv,alignCoordinates:zv,findSmallestWidthAlignment:Rv,balance:Ov};function Iv(e,t){let n={};function r(o,i){let s=0,l=0,a=o.length,u=i[i.length-1];return i.forEach((c,f)=>{let d=l4(e,c),h=d?e.node(d).order:a;(d||c===u)&&(i.slice(l,f+1).forEach(g=>{e.predecessors(g).forEach(w=>{let S=e.node(w),p=S.order;(p<s||h<p)&&!(S.dummy&&e.node(g).dummy)&&pf(n,w,g)})}),l=f+1,s=h)}),i}return t.length&&t.reduce(r),n}function Tv(e,t){let n={};function r(i,s,l,a,u){let c;bn.range(s,l).forEach(f=>{c=i[f],e.node(c).dummy&&e.predecessors(c).forEach(d=>{let h=e.node(d);h.dummy&&(h.order<a||h.order>u)&&pf(n,d,c)})})}function o(i,s){let l=-1,a,u=0;return s.forEach((c,f)=>{if(e.node(c).dummy==="border"){let d=e.predecessors(c);d.length&&(a=e.node(d[0]).order,r(s,u,f,l,a),u=f,l=a)}r(s,u,s.length,a,i.length)}),s}return t.length&&t.reduce(o),n}function l4(e,t){if(e.node(t).dummy)return e.predecessors(t).find(n=>e.node(n).dummy)}function pf(e,t,n){if(t>n){let o=t;t=n,n=o}let r=e[t];r||(e[t]=r={}),r[n]=!0}function Dv(e,t,n){if(t>n){let r=t;t=n,n=r}return!!e[t]&&Object.hasOwn(e[t],n)}function $v(e,t,n,r){let o={},i={},s={};return t.forEach(l=>{l.forEach((a,u)=>{o[a]=a,i[a]=a,s[a]=u})}),t.forEach(l=>{let a=-1;l.forEach(u=>{let c=r(u);if(c.length){c=c.sort((d,h)=>s[d]-s[h]);let f=(c.length-1)/2;for(let d=Math.floor(f),h=Math.ceil(f);d<=h;++d){let g=c[d];i[u]===u&&a<s[g]&&!Dv(n,u,g)&&(i[g]=u,i[u]=o[u]=o[g],a=s[g])}}})}),{root:o,align:i}}function Lv(e,t,n,r,o){let i={},s=a4(e,t,n,o),l=o?"borderLeft":"borderRight";function a(f,d){let h=s.nodes(),g=h.pop(),w={};for(;g;)w[g]?f(g):(w[g]=!0,h.push(g),h=h.concat(d(g))),g=h.pop()}function u(f){i[f]=s.inEdges(f).reduce((d,h)=>Math.max(d,i[h.v]+s.edge(h)),0)}function c(f){let d=s.outEdges(f).reduce((g,w)=>Math.min(g,i[w.w]-s.edge(w)),Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==l&&(i[f]=Math.max(i[f],d))}return a(u,s.predecessors.bind(s)),a(c,s.successors.bind(s)),Object.keys(r).forEach(f=>i[f]=i[n[f]]),i}function a4(e,t,n,r){let o=new i4,i=e.graph(),s=c4(i.nodesep,i.edgesep,r);return t.forEach(l=>{let a;l.forEach(u=>{let c=n[u];if(o.setNode(c),a){var f=n[a],d=o.edge(f,c);o.setEdge(f,c,Math.max(s(e,u,a),d||0))}a=u})}),o}function Rv(e,t){return Object.values(t).reduce((n,r)=>{let o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([l,a])=>{let u=d4(e,l)/2;o=Math.max(a+u,o),i=Math.min(a-u,i)});const s=o-i;return s<n[0]&&(n=[s,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function zv(e,t){let n=Object.values(t),r=bn.applyWithChunking(Math.min,n),o=bn.applyWithChunking(Math.max,n);["u","d"].forEach(i=>{["l","r"].forEach(s=>{let l=i+s,a=e[l];if(a===t)return;let u=Object.values(a),c=r-bn.applyWithChunking(Math.min,u);s!=="l"&&(c=o-bn.applyWithChunking(Math.max,u)),c&&(e[l]=bn.mapValues(a,f=>f+c))})})}function Ov(e,t){return bn.mapValues(e.ul,(n,r)=>{if(t)return e[t.toLowerCase()][r];{let o=Object.values(e).map(i=>i[r]).sort((i,s)=>i-s);return(o[1]+o[2])/2}})}function u4(e){let t=bn.buildLayerMatrix(e),n=Object.assign(Iv(e,t),Tv(e,t)),r={},o;["u","d"].forEach(s=>{o=s==="u"?t:Object.values(t).reverse(),["l","r"].forEach(l=>{l==="r"&&(o=o.map(f=>Object.values(f).reverse()));let a=(s==="u"?e.predecessors:e.successors).bind(e),u=$v(e,o,n,a),c=Lv(e,o,u.root,u.align,l==="r");l==="r"&&(c=bn.mapValues(c,f=>-f)),r[s+l]=c})});let i=Rv(e,r);return zv(r,i),Ov(r,e.graph().align)}function c4(e,t,n){return(r,o,i)=>{let s=r.node(o),l=r.node(i),a=0,u;if(a+=s.width/2,Object.hasOwn(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(s.dummy?t:e)/2,a+=(l.dummy?t:e)/2,a+=l.width/2,Object.hasOwn(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function d4(e,t){return e.node(t).width}let Av=Be,f4=s4.positionX;var h4=p4;function p4(e){e=Av.asNonCompoundGraph(e),m4(e),Object.entries(f4(e)).forEach(([t,n])=>e.node(t).x=n)}function m4(e){let t=Av.buildLayerMatrix(e),n=e.graph().ranksep,r=0;t.forEach(o=>{const i=o.reduce((s,l)=>{const a=e.node(l).height;return s>a?s:a},0);o.forEach(s=>e.node(s).y=r+i/2),r+=i+n})}let Xp=CP,Gp=IP,g4=eM,y4=Be.normalizeRanks,v4=oM,w4=Be.removeEmptyRanks,Kp=aM,x4=pM,Qp=gM,S4=r4,E4=h4,Ft=Be,b4=tn.Graph;var k4=C4;function C4(e,t){let n=t&&t.debugTiming?Ft.time:Ft.notime;n("layout",()=>{let r=n("  buildLayoutGraph",()=>R4(e));n("  runLayout",()=>_4(r,n,t)),n("  updateInputGraph",()=>N4(e,r))})}function _4(e,t,n){t("    makeSpaceForEdgeLabels",()=>z4(e)),t("    removeSelfEdges",()=>U4(e)),t("    acyclic",()=>Xp.run(e)),t("    nestingGraph.run",()=>Kp.run(e)),t("    rank",()=>g4(Ft.asNonCompoundGraph(e))),t("    injectEdgeLabelProxies",()=>O4(e)),t("    removeEmptyRanks",()=>w4(e)),t("    nestingGraph.cleanup",()=>Kp.cleanup(e)),t("    normalizeRanks",()=>y4(e)),t("    assignRankMinMax",()=>A4(e)),t("    removeEdgeLabelProxies",()=>F4(e)),t("    normalize.run",()=>Gp.run(e)),t("    parentDummyChains",()=>v4(e)),t("    addBorderSegments",()=>x4(e)),t("    order",()=>S4(e,n)),t("    insertSelfEdges",()=>Y4(e)),t("    adjustCoordinateSystem",()=>Qp.adjust(e)),t("    position",()=>E4(e)),t("    positionSelfEdges",()=>X4(e)),t("    removeBorderNodes",()=>W4(e)),t("    normalize.undo",()=>Gp.undo(e)),t("    fixupEdgeLabelCoords",()=>j4(e)),t("    undoCoordinateSystem",()=>Qp.undo(e)),t("    translateGraph",()=>B4(e)),t("    assignNodeIntersects",()=>H4(e)),t("    reversePoints",()=>V4(e)),t("    acyclic.undo",()=>Xp.undo(e))}function N4(e,t){e.nodes().forEach(n=>{let r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,r.rank=o.rank,t.children(n).length&&(r.width=o.width,r.height=o.height))}),e.edges().forEach(n=>{let r=e.edge(n),o=t.edge(n);r.points=o.points,Object.hasOwn(o,"x")&&(r.x=o.x,r.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}let P4=["nodesep","edgesep","ranksep","marginx","marginy"],M4={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},I4=["acyclicer","ranker","rankdir","align"],T4=["width","height","rank"],qp={width:0,height:0},D4=["minlen","weight","width","height","labeloffset"],$4={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L4=["labelpos"];function R4(e){let t=new b4({multigraph:!0,compound:!0}),n=$u(e.graph());return t.setGraph(Object.assign({},M4,Du(n,P4),Ft.pick(n,I4))),e.nodes().forEach(r=>{let o=$u(e.node(r));const i=Du(o,T4);Object.keys(qp).forEach(s=>{i[s]===void 0&&(i[s]=qp[s])}),t.setNode(r,i),t.setParent(r,e.parent(r))}),e.edges().forEach(r=>{let o=$u(e.edge(r));t.setEdge(r,Object.assign({},$4,Du(o,D4),Ft.pick(o,L4)))}),t}function z4(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(n=>{let r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function O4(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.width&&n.height){let r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Ft.addDummyNode(e,"edge-proxy",i,"_ep")}})}function A4(e){let t=0;e.nodes().forEach(n=>{let r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank))}),e.graph().maxRank=t}function F4(e){e.nodes().forEach(t=>{let n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function B4(e){let t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),s=i.marginx||0,l=i.marginy||0;function a(u){let c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),o=Math.max(o,f+h/2)}e.nodes().forEach(u=>a(e.node(u))),e.edges().forEach(u=>{let c=e.edge(u);Object.hasOwn(c,"x")&&a(c)}),t-=s,r-=l,e.nodes().forEach(u=>{let c=e.node(u);c.x-=t,c.y-=r}),e.edges().forEach(u=>{let c=e.edge(u);c.points.forEach(f=>{f.x-=t,f.y-=r}),Object.hasOwn(c,"x")&&(c.x-=t),Object.hasOwn(c,"y")&&(c.y-=r)}),i.width=n-t+s,i.height=o-r+l}function H4(e){e.edges().forEach(t=>{let n=e.edge(t),r=e.node(t.v),o=e.node(t.w),i,s;n.points?(i=n.points[0],s=n.points[n.points.length-1]):(n.points=[],i=o,s=r),n.points.unshift(Ft.intersectRect(r,i)),n.points.push(Ft.intersectRect(o,s))})}function j4(e){e.edges().forEach(t=>{let n=e.edge(t);if(Object.hasOwn(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function V4(e){e.edges().forEach(t=>{let n=e.edge(t);n.reversed&&n.points.reverse()})}function W4(e){e.nodes().forEach(t=>{if(e.children(t).length){let n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(n.borderLeft[n.borderLeft.length-1]),s=e.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}}),e.nodes().forEach(t=>{e.node(t).dummy==="border"&&e.removeNode(t)})}function U4(e){e.edges().forEach(t=>{if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Y4(e){var t=Ft.buildLayerMatrix(e);t.forEach(n=>{var r=0;n.forEach((o,i)=>{var s=e.node(o);s.order=i+r,(s.selfEdges||[]).forEach(l=>{Ft.addDummyNode(e,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:i+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function X4(e){e.nodes().forEach(t=>{var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,s=n.x-o,l=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*s/3,y:i-l},{x:o+5*s/6,y:i-l},{x:o+s,y:i},{x:o+5*s/6,y:i+l},{x:o+2*s/3,y:i+l}],n.label.x=n.x,n.label.y=n.y}})}function Du(e,t){return Ft.mapValues(Ft.pick(e,t),Number)}function $u(e){var t={};return e&&Object.entries(e).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),t[n]=r}),t}let G4=Be,K4=tn.Graph;var Q4={debugOrdering:q4};function q4(e){let t=G4.buildLayerMatrix(e),n=new K4({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(r=>{n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),e.edges().forEach(r=>n.setEdge(r.v,r.w,{},r.name)),t.forEach((r,o)=>{let i="layer"+o;n.setNode(i,{rank:"same"}),r.reduce((s,l)=>(n.setEdge(s,l,{style:"invis"}),l))}),n}var Z4="1.1.5",qc={graphlib:tn,layout:k4,debug:Q4,util:{time:Be.time,notime:Be.notime},version:Z4};const Bn={x:0,y:0},fr="smoothstep",Lu=[{id:"1",type:"familyNode",data:{name:"Great Grandparent",details:"Generation 1"},position:Bn},{id:"2",type:"familyNode",data:{name:"Grandparent A",details:"Generation 2"},position:Bn},{id:"3",type:"familyNode",data:{name:"Grandparent B",details:"Generation 2"},position:Bn},{id:"4",type:"familyNode",data:{name:"Parent A",details:"Generation 3"},position:Bn},{id:"5",type:"familyNode",data:{name:"Parent B",details:"Generation 3"},position:Bn},{id:"6",type:"familyNode",data:{name:"Child A",details:"Generation 4"},position:Bn},{id:"7",type:"familyNode",data:{name:"Child B",details:"Generation 4"},position:Bn},{id:"8",type:"familyNode",data:{name:"Child C",details:"Generation 4"},position:Bn}],Ru=[{id:"e1-2",source:"1",target:"2",type:fr,animated:!0},{id:"e1-3",source:"1",target:"3",type:fr,animated:!0},{id:"e2-4",source:"2",target:"4",type:fr,animated:!0},{id:"e3-5",source:"3",target:"5",type:fr,animated:!0},{id:"e4-6",source:"4",target:"6",type:fr,animated:!0},{id:"e4-7",source:"4",target:"7",type:fr,animated:!0},{id:"e5-8",source:"5",target:"8",type:fr,animated:!0}];var Hi={},J4={get exports(){return Hi},set exports(e){Hi=e}},Fv={},Hl={},e3={get exports(){return Hl},set exports(e){Hl=e}},t3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n3=t3,r3=n3;function Bv(){}function Hv(){}Hv.resetWarningCache=Bv;var o3=function(){function e(r,o,i,s,l,a){if(a!==r3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Hv,resetWarningCache:Bv};return n.PropTypes=n,n};e3.exports=o3();var jl={},i3={get exports(){return jl},set exports(e){jl=e}};function jv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=jv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Zp(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=jv(e))&&(r&&(r+=" "),r+=t);return r}i3.exports=Zp,jl.clsx=Zp;var De={},yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.dontSetMe=c3;yn.findInArray=s3;yn.int=u3;yn.isFunction=l3;yn.isNum=a3;function s3(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function l3(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function a3(e){return typeof e=="number"&&!isNaN(e)}function u3(e){return parseInt(e,10)}function c3(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.browserPrefixToKey=Wv;Rr.browserPrefixToStyle=d3;Rr.default=void 0;Rr.getPrefix=Vv;const zu=["Moz","Webkit","O","ms"];function Vv(){var n,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!t||e in t)return"";for(let o=0;o<zu.length;o++)if(Wv(e,zu[o])in t)return zu[o];return""}function Wv(e,t){return t?`${t}${f3(e)}`:e}function d3(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function f3(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Rr.default=Vv();Object.defineProperty(De,"__esModule",{value:!0});De.addClassName=Xv;De.addEvent=p3;De.addUserSelectStyles=C3;De.createCSSTransform=S3;De.createSVGTransform=E3;De.getTouch=b3;De.getTouchIdentifier=k3;De.getTranslation=mf;De.innerHeight=v3;De.innerWidth=w3;De.matchesSelector=Yv;De.matchesSelectorAndParentsTo=h3;De.offsetXYFromParent=x3;De.outerHeight=g3;De.outerWidth=y3;De.removeClassName=Gv;De.removeEvent=m3;De.scheduleRemoveUserSelectStyles=_3;var Ct=yn,Jp=Uv(Rr);function Uv(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Uv=function(o,i){if(!i&&o&&o.__esModule)return o;var s,l,a={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return a;if(s=i?r:n){if(s.has(o))return s.get(o);s.set(o,a)}for(const u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(l.get||l.set)?s(a,u,l):a[u]=o[u]);return a})(e,t)}let Bs="";function Yv(e,t){return Bs||(Bs=(0,Ct.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Ct.isFunction)(e[n])})),(0,Ct.isFunction)(e[Bs])?e[Bs](t):!1}function h3(e,t,n){let r=e;do{if(Yv(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function p3(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function m3(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function g3(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ct.int)(n.borderTopWidth),t+=(0,Ct.int)(n.borderBottomWidth),t}function y3(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Ct.int)(n.borderLeftWidth),t+=(0,Ct.int)(n.borderRightWidth),t}function v3(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ct.int)(n.paddingTop),t-=(0,Ct.int)(n.paddingBottom),t}function w3(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Ct.int)(n.paddingLeft),t-=(0,Ct.int)(n.paddingRight),t}function x3(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:i,y:s}}function S3(e,t){const n=mf(e,t,"px");return{[(0,Jp.browserPrefixToKey)("transform",Jp.default)]:n}}function E3(e,t){return mf(e,t,"")}function mf(e,t,n){let{x:r,y:o}=e,i=`translate(${r}${n},${o}${n})`;if(t){const s=`${typeof t.x=="string"?t.x:t.x+n}`,l=`${typeof t.y=="string"?t.y:t.y+n}`;i=`translate(${s}, ${l})`+i}return i}function b3(e,t){return e.targetTouches&&(0,Ct.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,Ct.findInArray)(e.changedTouches,n=>t===n.identifier)}function k3(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function C3(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Xv(e.body,"react-draggable-transparent-selection")}function _3(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{em(e)}):em(e)}function em(e){if(e)try{if(e.body&&Gv(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Xv(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function Gv(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.canDragX=M3;vn.canDragY=I3;vn.createCoreData=D3;vn.createDraggableData=$3;vn.getBoundPosition=N3;vn.getControlPosition=T3;vn.snapToGrid=P3;var xt=yn,oo=De;function N3(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:L3(r);const o=gf(e);if(typeof r=="string"){const{ownerDocument:i}=o,s=i.defaultView;let l;if(r==="parent"?l=o.parentNode:l=o.getRootNode().querySelector(r),!(l instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const a=l,u=s.getComputedStyle(o),c=s.getComputedStyle(a);r={left:-o.offsetLeft+(0,xt.int)(c.paddingLeft)+(0,xt.int)(u.marginLeft),top:-o.offsetTop+(0,xt.int)(c.paddingTop)+(0,xt.int)(u.marginTop),right:(0,oo.innerWidth)(a)-(0,oo.outerWidth)(o)-o.offsetLeft+(0,xt.int)(c.paddingRight)-(0,xt.int)(u.marginRight),bottom:(0,oo.innerHeight)(a)-(0,oo.outerHeight)(o)-o.offsetTop+(0,xt.int)(c.paddingBottom)-(0,xt.int)(u.marginBottom)}}return(0,xt.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,xt.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,xt.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,xt.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function P3(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function M3(e){return e.props.axis==="both"||e.props.axis==="x"}function I3(e){return e.props.axis==="both"||e.props.axis==="y"}function T3(e,t,n){const r=typeof t=="number"?(0,oo.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=gf(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,oo.offsetXYFromParent)(r||e,i,n.props.scale)}function D3(e,t,n){const r=!(0,xt.isNum)(e.lastX),o=gf(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function $3(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function L3(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function gf(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ea={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.default=R3;function R3(){}Object.defineProperty(Ea,"__esModule",{value:!0});Ea.default=void 0;var Ou=Kv(P),it=yf(Hl),z3=yf(Ei),tt=De,Hn=vn,Au=yn,Yo=yf(ba);function yf(e){return e&&e.__esModule?e:{default:e}}function Kv(e,t){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(Kv=function(o,i){if(!i&&o&&o.__esModule)return o;var s,l,a={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return a;if(s=i?r:n){if(s.has(o))return s.get(o);s.set(o,a)}for(const u in o)u!=="default"&&{}.hasOwnProperty.call(o,u)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,u))&&(l.get||l.set)?s(a,u,l):a[u]=o[u]);return a})(e,t)}function st(e,t,n){return(t=O3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O3(e){var t=A3(e,"string");return typeof t=="symbol"?t:t+""}function A3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Wt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let jn=Wt.mouse,ka=class extends Ou.Component{constructor(){super(...arguments),st(this,"dragging",!1),st(this,"lastX",NaN),st(this,"lastY",NaN),st(this,"touchIdentifier",null),st(this,"mounted",!1),st(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,tt.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,tt.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const o=(0,tt.getTouchIdentifier)(t);this.touchIdentifier=o;const i=(0,Hn.getControlPosition)(t,o,this);if(i==null)return;const{x:s,y:l}=i,a=(0,Hn.createCoreData)(this,s,l);(0,Yo.default)("DraggableCore: handleDragStart: %j",a),(0,Yo.default)("calling",this.props.onStart),!(this.props.onStart(t,a)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,tt.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=l,(0,tt.addEvent)(r,jn.move,this.handleDrag),(0,tt.addEvent)(r,jn.stop,this.handleDragStop))}),st(this,"handleDrag",t=>{const n=(0,Hn.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,a=o-this.lastY;if([l,a]=(0,Hn.snapToGrid)(this.props.grid,l,a),!l&&!a)return;r=this.lastX+l,o=this.lastY+a}const i=(0,Hn.createCoreData)(this,r,o);if((0,Yo.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(a)}return}this.lastX=r,this.lastY=o}),st(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,Hn.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX||0,u=o-this.lastY||0;[a,u]=(0,Hn.snapToGrid)(this.props.grid,a,u),r=this.lastX+a,o=this.lastY+u}const i=(0,Hn.createCoreData)(this,r,o);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,tt.scheduleRemoveUserSelectStyles)(l.ownerDocument),(0,Yo.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Yo.default)("DraggableCore: Removing handlers"),(0,tt.removeEvent)(l.ownerDocument,jn.move,this.handleDrag),(0,tt.removeEvent)(l.ownerDocument,jn.stop,this.handleDragStop))}),st(this,"onMouseDown",t=>(jn=Wt.mouse,this.handleDragStart(t))),st(this,"onMouseUp",t=>(jn=Wt.mouse,this.handleDragStop(t))),st(this,"onTouchStart",t=>(jn=Wt.touch,this.handleDragStart(t))),st(this,"onTouchEnd",t=>(jn=Wt.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,tt.addEvent)(t,Wt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,tt.removeEvent)(n,Wt.mouse.move,this.handleDrag),(0,tt.removeEvent)(n,Wt.touch.move,this.handleDrag),(0,tt.removeEvent)(n,Wt.mouse.stop,this.handleDragStop),(0,tt.removeEvent)(n,Wt.touch.stop,this.handleDragStop),(0,tt.removeEvent)(t,Wt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,tt.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var t,n,r;return(t=this.props)!=null&&t.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:z3.default.findDOMNode(this)}render(){return Ou.cloneElement(Ou.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Ea.default=ka;st(ka,"displayName","DraggableCore");st(ka,"propTypes",{allowAnyClick:it.default.bool,allowMobileScroll:it.default.bool,children:it.default.node.isRequired,disabled:it.default.bool,enableUserSelectHack:it.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:it.default.arrayOf(it.default.number),handle:it.default.string,cancel:it.default.string,nodeRef:it.default.object,onStart:it.default.func,onDrag:it.default.func,onStop:it.default.func,onMouseDown:it.default.func,scale:it.default.number,className:Au.dontSetMe,style:Au.dontSetMe,transform:Au.dontSetMe});st(ka,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return a.default}}),e.default=void 0;var t=f(P),n=c(Hl),r=c(Ei),o=jl,i=De,s=vn,l=yn,a=c(Ea),u=c(ba);function c(p){return p&&p.__esModule?p:{default:p}}function f(p,y){if(typeof WeakMap=="function")var m=new WeakMap,v=new WeakMap;return(f=function(E,k){if(!k&&E&&E.__esModule)return E;var b,M,_={__proto__:null,default:E};if(E===null||typeof E!="object"&&typeof E!="function")return _;if(b=k?v:m){if(b.has(E))return b.get(E);b.set(E,_)}for(const R in E)R!=="default"&&{}.hasOwnProperty.call(E,R)&&((M=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(E,R))&&(M.get||M.set)?b(_,R,M):_[R]=E[R]);return _})(p,y)}function d(){return d=Object.assign?Object.assign.bind():function(p){for(var y=1;y<arguments.length;y++){var m=arguments[y];for(var v in m)({}).hasOwnProperty.call(m,v)&&(p[v]=m[v])}return p},d.apply(null,arguments)}function h(p,y,m){return(y=g(y))in p?Object.defineProperty(p,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[y]=m,p}function g(p){var y=w(p,"string");return typeof y=="symbol"?y:y+""}function w(p,y){if(typeof p!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var v=m.call(p,y||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}class S extends t.Component{static getDerivedStateFromProps(y,m){let{position:v}=y,{prevPropsPosition:E}=m;return v&&(!E||v.x!==E.x||v.y!==E.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:v,prevPropsPosition:E}),{x:v.x,y:v.y,prevPropsPosition:{...v}}):null}constructor(y){super(y),h(this,"onDragStart",(m,v)=>{if((0,u.default)("Draggable: onDragStart: %j",v),this.props.onStart(m,(0,s.createDraggableData)(this,v))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(m,v)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",v);const E=(0,s.createDraggableData)(this,v),k={x:E.x,y:E.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:_}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[R,B]=(0,s.getBoundPosition)(this,k.x,k.y);k.x=R,k.y=B,k.slackX=this.state.slackX+(M-k.x),k.slackY=this.state.slackY+(_-k.y),E.x=k.x,E.y=k.y,E.deltaX=k.x-this.state.x,E.deltaY=k.y-this.state.y}if(this.props.onDrag(m,E)===!1)return!1;this.setState(k)}),h(this,"onDragStop",(m,v)=>{if(!this.state.dragging||this.props.onStop(m,(0,s.createDraggableData)(this,v))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",v);const k={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:M,y:_}=this.props.position;k.x=M,k.y=_}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:y.position?y.position.x:y.defaultPosition.x,y:y.position?y.position.y:y.defaultPosition.y,prevPropsPosition:{...y.position},slackX:0,slackY:0,isElementSVG:!1},y.position&&!(y.onDrag||y.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var y,m;return((m=(y=this.props)==null?void 0:y.nodeRef)==null?void 0:m.current)??r.default.findDOMNode(this)}render(){const{axis:y,bounds:m,children:v,defaultPosition:E,defaultClassName:k,defaultClassNameDragging:b,defaultClassNameDragged:M,position:_,positionOffset:R,scale:B,...z}=this.props;let A={},C=null;const I=!Boolean(_)||this.state.dragging,D=_||E,T={x:(0,s.canDragX)(this)&&I?this.state.x:D.x,y:(0,s.canDragY)(this)&&I?this.state.y:D.y};this.state.isElementSVG?C=(0,i.createSVGTransform)(T,R):A=(0,i.createCSSTransform)(T,R);const N=(0,o.clsx)(v.props.className||"",k,{[b]:this.state.dragging,[M]:this.state.dragged});return t.createElement(a.default,d({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(v),{className:N,style:{...v.props.style,...A},transform:C}))}}e.default=S,h(S,"displayName","Draggable"),h(S,"propTypes",{...a.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(S,"defaultProps",{...a.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Fv);const{default:Qv,DraggableCore:F3}=Fv;J4.exports=Qv;Hi.default=Qv;Hi.DraggableCore=F3;function B3(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const H3=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ir(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Hr=null;function qv(e={}){return Hr||(e.includeStyleProperties?(Hr=e.includeStyleProperties,Hr):(Hr=ir(window.getComputedStyle(document.documentElement)),Hr))}function Vl(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function j3(e){const t=Vl(e,"border-left-width"),n=Vl(e,"border-right-width");return e.clientWidth+t+n}function V3(e){const t=Vl(e,"border-top-width"),n=Vl(e,"border-bottom-width");return e.clientHeight+t+n}function Zv(e,t={}){const n=t.width||j3(e),r=t.height||V3(e);return{width:n,height:r}}function W3(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const wt=16384;function U3(e){(e.width>wt||e.height>wt)&&(e.width>wt&&e.height>wt?e.width>e.height?(e.height*=wt/e.width,e.width=wt):(e.width*=wt/e.height,e.height=wt):e.width>wt?(e.height*=wt/e.width,e.width=wt):(e.width*=wt/e.height,e.height=wt))}function Wl(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Y3(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function X3(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),Y3(o)}const vt=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||vt(n,t)};function G3(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function K3(e,t){return qv(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function Q3(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?G3(n):K3(n,r);return document.createTextNode(`${o}{${i}}`)}function tm(e,t,n,r){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const s=H3();try{t.className=`${t.className} ${s}`}catch{return}const l=document.createElement("style");l.appendChild(Q3(s,n,o,r)),t.appendChild(l)}function q3(e,t,n){tm(e,t,":before",n),tm(e,t,":after",n)}const nm="application/font-woff",rm="image/jpeg",Z3={woff:nm,woff2:nm,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:rm,jpeg:rm,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function J3(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function vf(e){const t=J3(e).toLowerCase();return Z3[t]||""}function e5(e){return e.split(/,/)[1]}function Zc(e){return e.search(/^(data:)/)!==-1}function Jv(e,t){return`data:${t};base64,${e}`}async function ew(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,s)=>{const l=new FileReader;l.onerror=s,l.onloadend=()=>{try{i(n({res:r,result:l.result}))}catch(a){s(a)}},l.readAsDataURL(o)})}const Fu={};function t5(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function wf(e,t,n){const r=t5(e,t,n.includeQueryParams);if(Fu[r]!=null)return Fu[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await ew(e,n.fetchRequestInit,({res:s,result:l})=>(t||(t=s.headers.get("Content-Type")||""),e5(l)));o=Jv(i,t)}catch(i){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return Fu[r]=o,o}async function n5(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Wl(t)}async function r5(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s==null||s.drawImage(e,0,0,i.width,i.height);const l=i.toDataURL();return Wl(l)}const n=e.poster,r=vf(n),o=await wf(n,r,t);return Wl(o)}async function o5(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Ca(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function i5(e,t){return vt(e,HTMLCanvasElement)?n5(e):vt(e,HTMLVideoElement)?r5(e,t):vt(e,HTMLIFrameElement)?o5(e,t):e.cloneNode(tw(e))}const s5=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",tw=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function l5(e,t,n){var r,o;if(tw(t))return t;let i=[];return s5(e)&&e.assignedNodes?i=ir(e.assignedNodes()):vt(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=ir(e.contentDocument.body.childNodes):i=ir(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||vt(e,HTMLVideoElement)||await i.reduce((s,l)=>s.then(()=>Ca(l,n)).then(a=>{a&&t.appendChild(a)}),Promise.resolve()),t}function a5(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):qv(n).forEach(i=>{let s=o.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),vt(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(i,s,o.getPropertyPriority(i))})}function u5(e,t){vt(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),vt(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function c5(e,t){if(vt(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function d5(e,t,n){return vt(t,Element)&&(a5(e,t,n),q3(e,t,n),u5(e,t),c5(e,t)),t}async function f5(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const l=n[i].getAttribute("xlink:href");if(l){const a=e.querySelector(l),u=document.querySelector(l);!a&&u&&!r[l]&&(r[l]=await Ca(u,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const l=document.createElementNS(i,"defs");s.appendChild(l);for(let a=0;a<o.length;a++)l.appendChild(o[a]);e.appendChild(s)}return e}async function Ca(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>i5(r,t)).then(r=>l5(e,r,t)).then(r=>d5(e,r,t)).then(r=>f5(r,t))}const nw=/url\((['"]?)([^'"]+?)\1\)/g,h5=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,p5=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function m5(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function g5(e){const t=[];return e.replace(nw,(n,r,o)=>(t.push(o),n)),t.filter(n=>!Zc(n))}async function y5(e,t,n,r,o){try{const i=n?B3(t,n):t,s=vf(t);let l;if(o){const a=await o(i);l=Jv(a,s)}else l=await wf(i,s,r);return e.replace(m5(t),`$1${l}$3`)}catch{}return e}function v5(e,{preferredFontFormat:t}){return t?e.replace(p5,n=>{for(;;){const[r,,o]=h5.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function rw(e){return e.search(nw)!==-1}async function ow(e,t,n){if(!rw(e))return e;const r=v5(e,n);return g5(r).reduce((i,s)=>i.then(l=>y5(l,s,t,n)),Promise.resolve(r))}async function jr(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await ow(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function w5(e,t){await jr("background",e,t)||await jr("background-image",e,t),await jr("mask",e,t)||await jr("-webkit-mask",e,t)||await jr("mask-image",e,t)||await jr("-webkit-mask-image",e,t)}async function x5(e,t){const n=vt(e,HTMLImageElement);if(!(n&&!Zc(e.src))&&!(vt(e,SVGImageElement)&&!Zc(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await wf(r,vf(r),t);await new Promise((i,s)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...a)=>{try{i(t.onImageErrorHandler(...a))}catch(u){s(u)}}:s;const l=e;l.decode&&(l.decode=i),l.loading==="lazy"&&(l.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function S5(e,t){const r=ir(e.childNodes).map(o=>iw(o,t));await Promise.all(r).then(()=>e)}async function iw(e,t){vt(e,Element)&&(await w5(e,t),await x5(e,t),await S5(e,t))}function E5(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const om={};async function im(e){let t=om[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},om[e]=t,t}async function sm(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let l=s.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,e.url).href),ew(l,t.fetchRequestInit,({result:a})=>(n=n.replace(s,`url(${a})`),[s,a]))});return Promise.all(i).then(()=>n)}function lm(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=o.exec(r);if(a===null)break;t.push(a[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(s,"gi");for(;;){let a=i.exec(r);if(a===null){if(a=l.exec(r),a===null)break;i.lastIndex=l.lastIndex}else l.lastIndex=i.lastIndex;t.push(a[0])}return t}async function b5(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{ir(o.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let l=s+1;const a=i.href,u=im(a).then(c=>sm(c,t)).then(c=>lm(c).forEach(f=>{try{o.insertRule(f,f.startsWith("@import")?l+=1:o.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(i){const s=e.find(l=>l.href==null)||document.styleSheets[0];o.href!=null&&r.push(im(o.href).then(l=>sm(l,t)).then(l=>lm(l).forEach(a=>{s.insertRule(a,s.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{ir(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function k5(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>rw(t.style.getPropertyValue("src")))}async function C5(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ir(e.ownerDocument.styleSheets),r=await b5(n,t);return k5(r)}function sw(e){return e.trim().replace(/["']/g,"")}function _5(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(sw(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function N5(e,t){const n=await C5(e,t),r=_5(e);return(await Promise.all(n.filter(i=>r.has(sw(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return ow(i.cssText,s,t)}))).join(`
`)}async function P5(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await N5(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function M5(e,t={}){const{width:n,height:r}=Zv(e,t),o=await Ca(e,t,!0);return await P5(o,t),await iw(o,t),E5(o,t),await X3(o,n,r)}async function I5(e,t={}){const{width:n,height:r}=Zv(e,t),o=await M5(e,t),i=await Wl(o),s=document.createElement("canvas"),l=s.getContext("2d"),a=t.pixelRatio||W3(),u=t.canvasWidth||n,c=t.canvasHeight||r;return s.width=u*a,s.height=c*a,t.skipAutoScale||U3(s),s.style.width=`${u}`,s.style.height=`${c}`,t.backgroundColor&&(l.fillStyle=t.backgroundColor,l.fillRect(0,0,s.width,s.height)),l.drawImage(i,0,0,s.width,s.height),s}async function T5(e,t={}){return(await I5(e,t)).toDataURL()}const D5=e=>{if(e.length===0)return{x:0,y:0,width:0,height:0};let t=1/0,n=1/0,r=-1/0,o=-1/0;return e.forEach(i=>{const s=i.position.x,l=i.position.y,a=140,u=80;t=Math.min(t,s),n=Math.min(n,l),r=Math.max(r,s+a),o=Math.max(o,l+u)}),{x:t,y:n,width:r-t,height:o-n}},$5=(e,t,n,r,o)=>{const i=t/e.width,s=n/e.height,l=Math.min(i,s),a=Math.min(Math.max(l,r),o),u=e.x+e.width/2,c=e.y+e.height/2,f=t/2-u*a,d=n/2-c*a;return{x:f,y:d,zoom:a}};function L5(e,t){const n=document.createElement("a");n.setAttribute("download",t),n.setAttribute("href",e),n.click()}const Ve="/api",R5={familyNode:oN};new qc.graphlib.Graph().setDefaultEdgeLabel(()=>({}));const Vr=140,Xo=80,Vt=(e,t,n="TB")=>{const r=n==="LR",o=new qc.graphlib.Graph().setDefaultEdgeLabel(()=>({}));o.setGraph({rankdir:n,nodesep:r?250:180,ranksep:r?300:210,marginx:150,marginy:150,align:"UL",acyclicer:"greedy"});const i=t.filter(f=>{var d;return((d=f.style)==null?void 0:d.stroke)==="#e91e63"}),s=t.filter(f=>{var d;return((d=f.style)==null?void 0:d.stroke)!=="#e91e63"}),l=new Set;i.forEach(f=>{l.add(f.source),l.add(f.target)});const a=new Set;return s.forEach(f=>{a.add(f.source),a.add(f.target)}),e.filter(f=>{if(a.has(f.id))return!0;const d=i.find(h=>h.source===f.id||h.target===f.id);return d?d.source===f.id:!0}).forEach(f=>{const d=i.some(h=>h.source===f.id||h.target===f.id);o.setNode(f.id,{width:d?Vr+200:Vr,height:Xo})}),s.forEach(f=>{o.hasNode(f.source)&&o.hasNode(f.target)&&o.setEdge(f.source,f.target)}),qc.layout(o),{nodes:e.map(f=>{let d,h;if(a.has(f.id)){const g=o.node(f.id);g?(d=g.x-Vr/2,h=g.y-Xo/2):(d=0,h=0)}else{const g=i.find(w=>w.source===f.id||w.target===f.id);if(g&&g.target===f.id){const w=g.source,S=o.node(w);S?r?(d=S.x-Vr/2,h=S.y+Xo+40):(d=S.x+Vr+18,h=S.y-Xo/2):(d=0,h=0)}else{const w=o.node(f.id);w?(d=w.x-Vr/2,h=w.y-Xo/2):(d=0,h=0)}}return{...f,targetPosition:r?"left":"top",sourcePosition:r?"right":"bottom",position:{x:d,y:h}}}),edges:t}},z5={"Smith Family":{nodes:[{id:"1",type:"familyNode",data:{name:"John Smith Sr.",details:"Patriarch"},position:{x:0,y:0}},{id:"2",type:"familyNode",data:{name:"Mary Smith",details:"Matriarch"},position:{x:0,y:0}},{id:"3",type:"familyNode",data:{name:"John Smith Jr.",details:"Son"},position:{x:0,y:0}},{id:"4",type:"familyNode",data:{name:"Sarah Smith",details:"Daughter"},position:{x:0,y:0}}],edges:[{id:"e1-3",source:"1",target:"3",type:"smoothstep",animated:!0},{id:"e2-3",source:"2",target:"3",type:"smoothstep",animated:!0},{id:"e1-4",source:"1",target:"4",type:"smoothstep",animated:!0},{id:"e2-4",source:"2",target:"4",type:"smoothstep",animated:!0}]},"Johnson Family":{nodes:[{id:"1",type:"familyNode",data:{name:"Robert Johnson",details:"Grandfather"},position:{x:0,y:0}},{id:"2",type:"familyNode",data:{name:"Michael Johnson",details:"Father"},position:{x:0,y:0}},{id:"3",type:"familyNode",data:{name:"Emily Johnson",details:"Daughter"},position:{x:0,y:0}}],edges:[{id:"e1-2",source:"1",target:"2",type:"smoothstep",animated:!0},{id:"e2-3",source:"2",target:"3",type:"smoothstep",animated:!0}]}},O5=({onSelectFamily:e,onCreateNew:t,savedFamilies:n,onAccessWithCode:r,user:o,onLogin:i,onSignup:s,onLogout:l,onShowAuthModal:a})=>{const[u,c]=P.useState(""),[f,d]=P.useState(!1),[h,g]=P.useState(!1),[w,S]=P.useState(""),[p,y]=P.useState(""),[m,v]=P.useState(!1),E=()=>{u.trim()&&(t(u.trim()),c(""),d(!1))},k=()=>{w.trim()&&p.trim()&&(r(w.trim(),p.trim()),S(""),y(""),g(!1))};return H("div",{className:"container",children:[x("div",{className:"auth-panel",children:o?H("div",{className:"profile-section",children:[H("button",{className:"profile-btn",onClick:()=>v(!m),children:[" ",o.email]}),m&&x("div",{className:"profile-dropdown",children:x("button",{onClick:l,children:"Logout"})})]}):x("button",{className:"auth-btn",onClick:a,children:"Login / Sign Up"})}),H("div",{className:"content-panel",children:[x("h1",{children:"Build and Share Your Family History"}),x("p",{className:"subtitle",children:"Create interactive family trees with collaborative editing, secure sharing, and professional export capabilities."}),H("ul",{className:"feature-list",children:[x("li",{children:"Interactive drag-and-drop tree builder"}),x("li",{children:"Collaborative editing with access codes"}),x("li",{children:"Multiple layout options (vertical/horizontal)"}),x("li",{children:"Export high-quality PNG images"}),x("li",{children:"Cloud storage and auto-save"}),x("li",{children:"Admin controls and user permissions"}),x("li",{children:"Cross-device compatibility"}),x("li",{children:"Dark and light themes"})]}),H("div",{className:"stats",children:[H("div",{className:"stat",children:[x("span",{className:"stat-number",children:"1000+"}),x("span",{className:"stat-label",children:"Families"})]}),H("div",{className:"stat",children:[x("span",{className:"stat-number",children:"50K+"}),x("span",{className:"stat-label",children:"Tree Nodes"})]}),H("div",{className:"stat",children:[x("span",{className:"stat-number",children:"99.9%"}),x("span",{className:"stat-label",children:"Uptime"})]})]})]}),x("div",{className:"family-selector-overlay",children:H("div",{className:"family-selector",children:[x("h2",{children:"Family Tree Manager"}),x("div",{className:"existing-families",children:n&&n.length>0?H("div",{className:"saved-families",children:[x("h4",{children:"Families You Admin"}),n.map(b=>H("button",{className:"family-option saved",onClick:()=>e(b),children:[b.name," (Admin)"]},b.id))]}):x("div",{children:"No saved families found."})}),H("div",{className:"access-family",children:[x("h3",{children:"Access Family Tree"}),h?H("div",{className:"access-form",children:[x("input",{type:"text",value:w,onChange:b=>S(b.target.value),placeholder:"Family name",className:"family-name-input"}),x("input",{type:"text",value:p,onChange:b=>y(b.target.value),placeholder:"Access code",className:"access-code-input"}),H("div",{className:"access-buttons",children:[x("button",{onClick:k,className:"access-submit-btn",children:"Access"}),x("button",{onClick:()=>g(!1),className:"cancel-btn",children:"Cancel"})]})]}):x("button",{className:"access-btn",onClick:()=>g(!0),children:" Access with Code"})]}),H("div",{className:"create-new-family",children:[x("h3",{children:"Create New Family"}),f?H("div",{className:"create-form",children:[x("input",{type:"text",value:u,onChange:b=>c(b.target.value),placeholder:"Enter family name (e.g., 'Wilson Family')",className:"family-name-input",autoFocus:!0}),H("div",{className:"create-buttons",children:[x("button",{onClick:E,className:"create-btn",children:"Create"}),x("button",{onClick:()=>d(!1),className:"cancel-btn",children:"Cancel"})]})]}):x("button",{className:"create-new-btn",onClick:()=>d(!0),children:"+ Create New Family Tree"})]})]})})]})},lw=({mode:e,onLogin:t,onSignup:n,onSwitchMode:r,onClose:o})=>{const[i,s]=P.useState(""),[l,a]=P.useState(""),[u,c]=P.useState(""),[f,d]=P.useState(!1),h=g=>{if(g.preventDefault(),e==="login")t(i,l);else{if(l!==u){alert("Passwords do not match");return}n(i,l)}};return an.useEffect(()=>{e==="login"&&c("")},[e]),H("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},children:[H("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"40px",borderRadius:"20px",width:"400px",maxWidth:"90vw",textAlign:"center",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.05)",animation:"slideUp 0.4s ease-out"},children:[x("h2",{style:{marginBottom:"30px",color:"#1e293b",fontSize:"28px",fontWeight:"700",letterSpacing:"-0.025em"},children:e==="login"?"Welcome Back":"Create Your Account"}),H("form",{onSubmit:h,style:{marginBottom:"20px"},children:[x("div",{style:{marginBottom:"16px"},children:x("input",{type:"email",placeholder:"Email Address",value:i,onChange:g=>s(g.target.value),required:!0,style:{width:"100%",padding:"14px 18px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxSizing:"border-box",outline:"none"},onFocus:g=>{g.target.style.borderColor="#3b82f6",g.target.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)",g.target.style.background="rgba(255, 255, 255, 0.95)",g.target.style.transform="translateY(-1px)"},onBlur:g=>{g.target.style.borderColor="#e2e8f0",g.target.style.boxShadow="none",g.target.style.background="rgba(255, 255, 255, 0.8)",g.target.style.transform="translateY(0)"}})}),H("div",{style:{marginBottom:"24px",position:"relative"},children:[x("input",{type:f?"text":"password",placeholder:"Password",value:l,onChange:g=>a(g.target.value),required:!0,style:{width:"100%",padding:"14px 50px 14px 18px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxSizing:"border-box",outline:"none"},onFocus:g=>{g.target.style.borderColor="#3b82f6",g.target.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)",g.target.style.background="rgba(255, 255, 255, 0.95)",g.target.style.transform="translateY(-1px)"},onBlur:g=>{g.target.style.borderColor="#e2e8f0",g.target.style.boxShadow="none",g.target.style.background="rgba(255, 255, 255, 0.8)",g.target.style.transform="translateY(0)"}}),x("button",{type:"button",onClick:()=>d(!f),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#64748b",fontSize:"18px",padding:"4px",borderRadius:"4px",transition:"color 0.2s ease"},onMouseEnter:g=>g.target.style.color="#3b82f6",onMouseLeave:g=>g.target.style.color="#64748b",children:f?"":""})]}),e==="signup"&&x("div",{style:{marginBottom:"24px"},children:x("input",{type:"password",placeholder:"Confirm Password",value:u,onChange:g=>c(g.target.value),required:!0,style:{width:"100%",padding:"14px 18px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontFamily:"inherit",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxSizing:"border-box",outline:"none"},onFocus:g=>{g.target.style.borderColor="#3b82f6",g.target.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)",g.target.style.background="rgba(255, 255, 255, 0.95)",g.target.style.transform="translateY(-1px)"},onBlur:g=>{g.target.style.borderColor="#e2e8f0",g.target.style.boxShadow="none",g.target.style.background="rgba(255, 255, 255, 0.8)",g.target.style.transform="translateY(0)"}})}),x("button",{type:"submit",style:{width:"100%",padding:"16px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 14px rgba(59, 130, 246, 0.3)",marginBottom:"16px"},onMouseEnter:g=>{g.target.style.background="linear-gradient(135deg, #2563eb 0%, #1e40af 100%)",g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.4)"},onMouseLeave:g=>{g.target.style.background="linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 4px 14px rgba(59, 130, 246, 0.3)"},children:e==="login"?"Sign In":"Create Account"})]}),H("div",{style:{marginBottom:"16px",textAlign:"center"},children:[H("p",{style:{fontSize:"14px",color:"#64748b",margin:"0 0 12px 0",lineHeight:"1.4"},children:[x("strong",{children:" Login to sync"})," your family trees across all devices",x("br",{}),x("strong",{children:" Continue as guest"})," to save locally for 24 hours"]}),x("button",{onClick:r,style:{background:"none",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"14px",fontWeight:"500",textDecoration:"underline",transition:"color 0.2s ease"},onMouseEnter:g=>g.target.style.color="#1d4ed8",onMouseLeave:g=>g.target.style.color="#3b82f6",children:e==="login"?"Don't have an account? Sign up":"Already have an account? Sign in"})]}),x("button",{onClick:o,style:{padding:"10px 20px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},onMouseEnter:g=>{g.target.style.background="linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",g.target.style.transform="translateY(-1px)",g.target.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.4)"},onMouseLeave:g=>{g.target.style.background="linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 2px 8px rgba(239, 68, 68, 0.3)"},children:"Save Locally (24h)"})]}),x("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
        `})]})},A5=({isOpen:e,onClose:t,currentName:n,onSave:r,value:o,onChange:i})=>e?H("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},children:[H("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"30px",borderRadius:"16px",width:"400px",maxWidth:"90vw",textAlign:"center",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.05)",animation:"slideUp 0.4s ease-out"},children:[x("h3",{style:{marginBottom:"20px",color:"#1e293b",fontSize:"24px",fontWeight:"600"},children:"Edit Family Name"}),H("form",{onSubmit:l=>{l.preventDefault(),r()},children:[x("div",{style:{marginBottom:"20px"},children:x("input",{type:"text",value:o,onChange:l=>i(l.target.value),placeholder:"Enter new family name",required:!0,autoFocus:!0,style:{width:"100%",padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontFamily:"inherit",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxSizing:"border-box",outline:"none"},onFocus:l=>{l.target.style.borderColor="#3b82f6",l.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)",l.target.style.background="rgba(255, 255, 255, 0.95)"},onBlur:l=>{l.target.style.borderColor="#e2e8f0",l.target.style.boxShadow="none",l.target.style.background="rgba(255, 255, 255, 0.8)"}})}),H("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[x("button",{type:"button",onClick:t,style:{padding:"12px 24px",background:"#f1f5f9",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:l=>{l.target.style.background="#e2e8f0"},onMouseLeave:l=>{l.target.style.background="#f1f5f9"},children:"Cancel"}),x("button",{type:"submit",style:{padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.3)"},onMouseEnter:l=>{l.target.style.transform="translateY(-1px)",l.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.4)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.3)"},children:"Save Changes"})]})]})]}),x("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideUp {
            from {
              opacity: 0;
              transform: translateY(20px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
        `})]}):null,F5=({isOpen:e,onClose:t,familyName:n,confirmName:r,onConfirmNameChange:o,onConfirm:i})=>e?x("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:H("div",{style:{background:"white",padding:"20px",borderRadius:"8px",width:"350px",maxWidth:"90vw",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[H("div",{style:{textAlign:"center",marginBottom:"16px"},children:[x("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),x("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:"Delete Family Tree"}),H("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:['This will permanently delete "',n,'" for all users.']})]}),H("form",{onSubmit:l=>{l.preventDefault(),r===n?i():alert("Name doesn't match. Please type the exact family name.")},children:[H("div",{style:{marginBottom:"16px"},children:[H("label",{style:{display:"block",fontSize:"13px",marginBottom:"4px",fontWeight:"500"},children:['Type "',n,'" to confirm:']}),x("input",{type:"text",value:r,onChange:l=>o(l.target.value),placeholder:n,required:!0,autoFocus:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"}})]}),H("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[x("button",{type:"button",onClick:t,style:{padding:"8px 16px",background:"#f5f5f5",color:"#666",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},children:"Cancel"}),x("button",{type:"submit",style:{padding:"8px 16px",background:"#dc2626",color:"white",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},children:"Delete"})]})]})]})}):null,B5=({isOpen:e,onClose:t,onExportPhoto:n,onExportNode:r})=>e?H("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},children:[H("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"30px",borderRadius:"20px",width:"400px",maxWidth:"90vw",textAlign:"center",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.05)",animation:"slideUp 0.4s ease-out"},children:[x("h2",{style:{marginBottom:"20px",color:"#1e293b",fontSize:"24px",fontWeight:"700",letterSpacing:"-0.025em"},children:"Choose Export Type"}),x("p",{style:{marginBottom:"30px",color:"#64748b",fontSize:"16px"},children:"Select your preferred family tree export style"}),H("div",{style:{display:"flex",gap:"20px",marginBottom:"30px"},children:[H("div",{style:{flex:1,padding:"20px",border:"2px solid #fbbf24",borderRadius:"12px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 50%)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:o=>{o.target.style.transform="translateY(-2px)",o.target.style.boxShadow="0 8px 25px rgba(251, 191, 36, 0.3)"},onMouseLeave:o=>{o.target.style.transform="translateY(0)",o.target.style.boxShadow="none"},onClick:()=>{n(),t()},children:[x("div",{style:{fontSize:"48px",marginBottom:"10px"},children:""}),x("h3",{style:{margin:"0 0 10px 0",color:"#92400e",fontSize:"18px",fontWeight:"600"},children:"Photo Family Tree"}),x("p",{style:{margin:0,color:"#92400e",fontSize:"14px"},children:"Premium export with photos"})]}),H("div",{style:{flex:1,padding:"20px",border:"2px solid #e2e8f0",borderRadius:"12px",background:"rgba(255, 255, 255, 0.8)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:o=>{o.target.style.borderColor="#3b82f6",o.target.style.transform="translateY(-2px)",o.target.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.15)"},onMouseLeave:o=>{o.target.style.borderColor="#e2e8f0",o.target.style.transform="translateY(0)",o.target.style.boxShadow="none"},onClick:()=>{r(),t()},children:[x("div",{style:{fontSize:"48px",marginBottom:"10px"},children:""}),x("h3",{style:{margin:"0 0 10px 0",color:"#1e293b",fontSize:"18px",fontWeight:"600"},children:"Node Family Tree"}),x("p",{style:{margin:0,color:"#64748b",fontSize:"14px"},children:"Standard export with nodes"})]})]}),x("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:x("button",{onClick:t,style:{padding:"12px 24px",background:"#f1f5f9",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:o=>{o.target.style.background="#e2e8f0"},onMouseLeave:o=>{o.target.style.background="#f1f5f9"},children:"Cancel"})})]}),x("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
        `})]}):null,H5=({isOpen:e,onClose:t,onExportFree:n,onExportPremium:r,isPremium:o,onActivatePremium:i,isActivating:s,onShowPremiumChoice:l})=>{const[a,u]=P.useState(!1),[c,f]=P.useState(0),[d,h]=P.useState("");if(!e)return null;const g=async()=>{await n(),t()},w=async()=>{o?(l(),t()):(u(!0),f(0))},S=()=>{if(!d.trim()){alert("Please enter your phone number");return}if(!/^(\+254|0)[17]\d{8}$/.test(d.trim())){alert("Please enter a valid Kenyan phone number (e.g., +254712345678 or 0712345678)");return}f(1),setTimeout(async()=>{f(2),await i(),setTimeout(()=>{u(!1),h(""),alert(" Premium activated! You can now upload photos of family members by double-clicking on nodes, then export your premium family tree.")},1e3)},3e3)};return H("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.3s ease-out"},children:[H("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"20px",borderRadius:"16px",width:"400px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto",textAlign:"center",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.05)",animation:"slideUp 0.4s ease-out"},children:[x("h2",{style:{marginBottom:"20px",color:"#1e293b",fontSize:"28px",fontWeight:"700",letterSpacing:"-0.025em"},children:"Export Family Tree"}),x("p",{style:{marginBottom:"30px",color:"#64748b",fontSize:"16px"},children:"Choose your export option"}),H("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"column":"row",gap:"15px",marginBottom:"20px"},children:[H("div",{style:{flex:1,padding:"15px",border:"2px solid #e2e8f0",borderRadius:"12px",background:"rgba(255, 255, 255, 0.8)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:p=>{p.target.style.borderColor="#3b82f6",p.target.style.transform="translateY(-2px)",p.target.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.15)"},onMouseLeave:p=>{p.target.style.borderColor="#e2e8f0",p.target.style.transform="translateY(0)",p.target.style.boxShadow="none"},onClick:g,children:[x("div",{style:{fontSize:"36px",marginBottom:"8px"},children:""}),x("h3",{style:{margin:"0 0 8px 0",color:"#1e293b",fontSize:"18px",fontWeight:"600"},children:"Free Export"}),x("p",{style:{margin:0,color:"#64748b",fontSize:"13px"},children:"Export with standard nodes and text"}),x("div",{style:{marginTop:"12px",fontSize:"16px",fontWeight:"bold",color:"#10b981"},children:"FREE"})]}),H("div",{style:{flex:1,padding:"15px",border:"2px solid #fbbf24",borderRadius:"12px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 50%)",transition:"all 0.3s ease",cursor:"pointer",position:"relative"},onMouseEnter:p=>{p.target.style.transform="translateY(-2px)",p.target.style.boxShadow="0 8px 25px rgba(251, 191, 36, 0.3)"},onMouseLeave:p=>{p.target.style.transform="translateY(0)",p.target.style.boxShadow="none"},onClick:w,disabled:s,children:[x("div",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#f59e0b",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:""}),x("div",{style:{fontSize:"36px",marginBottom:"8px"},children:""}),x("h3",{style:{margin:"0 0 8px 0",color:"#92400e",fontSize:"18px",fontWeight:"600"},children:"Premium Export"}),x("p",{style:{margin:0,color:"#92400e",fontSize:"13px"},children:"Export with round photos and names"}),x("div",{style:{marginTop:"12px",fontSize:"16px",fontWeight:"bold",color:"#dc2626"},children:"KSH 20"}),o&&x("div",{style:{marginTop:"8px",fontSize:"11px",color:"#059669",fontWeight:"600"},children:" Premium Active"}),s&&x("div",{style:{marginTop:"8px",fontSize:"11px",color:"#f59e0b",fontWeight:"600"},children:" Activating Premium..."})]})]}),x("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:x("button",{onClick:t,style:{padding:"12px 24px",background:"#f1f5f9",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:p=>{p.target.style.background="#e2e8f0"},onMouseLeave:p=>{p.target.style.background="#f1f5f9"},children:"Cancel"})})]}),a&&x("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,animation:"fadeIn 0.3s ease-out"},children:H("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"20px",borderRadius:"16px",width:"350px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto",textAlign:"center",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.8)",border:"1px solid rgba(0, 0, 0, 0.05)",animation:"slideUp 0.4s ease-out"},children:[x("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),x("h2",{style:{marginBottom:"20px",color:"#1e293b",fontSize:"24px",fontWeight:"700"},children:"M-Pesa Payment"}),c===0&&H("div",{children:[x("p",{style:{marginBottom:"20px",color:"#64748b",fontSize:"16px"},children:"Enter your M-Pesa phone number to pay KSH 20"}),x("div",{style:{marginBottom:"20px",width:"100%"},children:x("input",{type:"tel",value:d,onChange:p=>h(p.target.value),placeholder:"e.g., +254712345678 or 0712345678",style:{width:"100%",padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontFamily:"inherit",background:"rgba(255, 255, 255, 0.9)",outline:"none",boxSizing:"border-box"},autoFocus:!0})}),H("div",{style:{display:"flex",gap:"12px",width:"100%"},children:[x("button",{onClick:()=>u(!1),style:{flex:1,padding:"12px 24px",background:"#f1f5f9",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:p=>{p.target.style.background="#e2e8f0"},onMouseLeave:p=>{p.target.style.background="#f1f5f9"},children:"Cancel"}),x("button",{onClick:S,style:{flex:1,padding:"12px 24px",background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:p=>{p.target.style.transform="translateY(-1px)",p.target.style.boxShadow="0 4px 12px rgba(5, 150, 105, 0.4)"},onMouseLeave:p=>{p.target.style.transform="translateY(0)",p.target.style.boxShadow="none"},children:"Pay KSH 20"})]})]}),c===1&&H("div",{children:[x("p",{style:{marginBottom:"20px",color:"#64748b",fontSize:"16px"},children:"Check your phone and enter your M-Pesa PIN"}),x("div",{style:{fontSize:"40px",marginBottom:"10px"},children:""}),x("div",{style:{fontSize:"14px",color:"#059669",fontWeight:"600"},children:"Processing payment of KSH 20..."})]}),c===2&&H("div",{children:[x("p",{style:{marginBottom:"20px",color:"#059669",fontSize:"16px",fontWeight:"600"},children:" Payment successful!"}),x("div",{style:{fontSize:"40px"},children:""})]})]})}),x("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
        `})]})},j5=({user:e,token:t,showAuthModal:n,setShowAuthModal:r,authMode:o,setAuthMode:i,onLogin:s,onSignup:l,onLogout:a})=>{const u=P.useRef(null),{zoomIn:c,zoomOut:f,fitView:d}=ya(),[h,g]=P.useState("light"),[w,S]=P.useState(10),[p,y]=P.useState(null),[m,v]=P.useState(""),[E,k]=P.useState([]),[b,M]=P.useState(null),[_,R]=P.useState(null),[B,z]=P.useState(!1),[A,C]=P.useState("");P.useState(!1),P.useState("");const[$,I]=P.useState(!0);P.useState(!1);const[D,T]=P.useState([]),[N,L]=P.useState(!1),[F,j]=P.useState(0),[G,X]=P.useState(!1),[te,J]=P.useState(!1),[K,Y]=P.useState(!1),[ne,le]=P.useState(!1),[ae,ie]=P.useState(""),[se,re]=P.useState(""),[ce,pe]=P.useState(!1),[ee,ue]=P.useState(!1),[$e,Ze]=P.useState(!1),[nn,It]=P.useState(!1),[Tt,rn]=P.useState(!1),[Rn,on]=P.useState(!1),[ge,we,_a]=I_([]),[Le,be,Na]=T_([]);P.useEffect(()=>{(()=>{const V=Z=>/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Z);let U=localStorage.getItem("userId");(!U||!V(U))&&(U=crypto.randomUUID?crypto.randomUUID():`${Date.now()}-0000-4000-8000-000000000000`,localStorage.setItem("userId",U)),M(U)})()},[]),P.useEffect(()=>{b&&zn()},[b]);const Pa=async()=>{if(!(!e||!t))try{const O=await fetch(`${Ve}/messages`,{headers:{Authorization:`Bearer ${t}`}});if(O.ok){const V=await O.json();T(V)}}catch(O){console.error("Error loading messages:",O)}};P.useEffect(()=>{e&&t&&Pa()},[e,t]),P.useEffect(()=>{const O=D.filter(V=>!V.is_read).length;j(O)},[D]);const Ma=async O=>{if(!(!e||!t||O.length===0))try{(await fetch("/api/messages/mark-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({messageIds:O})})).ok&&T(U=>U.map(Z=>O.includes(Z.id)?{...Z,is_read:!0}:Z))}catch(V){console.error("Error marking messages as read:",V)}},Ia=async()=>{if(!(!e||!t||!_))try{const O=await fetch(`${Ve}/family-tree/${_}`,{headers:{"X-User-ID":b,Authorization:`Bearer ${t}`}});if(O.ok){const V=await O.json(),U={nodes:ge,edges:Le},Z=V.data;JSON.stringify(U)!==JSON.stringify(Z)&&(we(Re(Z.nodes)),be(Z.edges),alert("Family tree has been updated by another member and synced automatically!"))}}catch(O){console.warn("Could not check for updates:",O)}};P.useEffect(()=>{if(e&&_&&!B){const O=setInterval(Ia,3e4);return()=>clearInterval(O)}},[e,_,B,ge,Le]),P.useEffect(()=>{if(p&&ge.length>0){const O={name:p,nodes:ge,edges:Le,timestamp:Date.now()};localStorage.setItem("currentFamilyTree",JSON.stringify(O))}},[p,ge,Le]);const zn=async()=>{if(b)try{const O={"X-User-ID":b};t&&(O.Authorization=`Bearer ${t}`);const V=await fetch(`${Ve}/family-tree`,{headers:O});if(!V.ok)throw new Error("Failed to load saved families");let U=await V.json();if(e&&t)try{const Z=await fetch(`${Ve}/family-tree/hidden`,{headers:O});if(Z.ok){const Q=await Z.json(),fe=new Set(Q.map(_e=>_e.family_id));U=U.filter(_e=>!fe.has(_e.id))}}catch(Z){console.warn("Could not load hidden families:",Z)}k(U)}catch(O){console.error("Error loading saved families:",O)}},Ta=async()=>{try{const O=localStorage.getItem("tempFamilyTree");if(O){const U=JSON.parse(O);if(Date.now()<U.expiresAt){y(U.name),we(Re(U.nodes)),be(U.edges),v(`${window.location.href}?family=${encodeURIComponent(U.name)}`);return}else localStorage.removeItem("tempFamilyTree")}const V=localStorage.getItem("currentFamilyTree");if(V){const U=JSON.parse(V),Z=24*60*60*1e3;if(Date.now()-U.timestamp<Z){try{const Q={"X-User-ID":b};t&&(Q.Authorization=`Bearer ${t}`);const fe=await fetch(`${Ve}/family-tree`,{headers:Q});if(fe.ok){const ye=(await fe.json()).find(je=>je.name===U.name);if(ye){const{nodes:je,edges:Bt}=Vt(ye.data.nodes,ye.data.edges);we(Re(je)),be(Bt),y(ye.name),R(ye.id),z(!0),v(`${window.location.href}?family=${encodeURIComponent(ye.name)}`);return}}}catch(Q){console.warn("Could not load from server, using local data:",Q)}y(U.name),we(Re(U.nodes)),be(U.edges),v(`${window.location.href}?family=${encodeURIComponent(U.name)}`)}else localStorage.removeItem("currentFamilyTree")}}catch(O){console.error("Error loading persisted family:",O),localStorage.removeItem("currentFamilyTree"),localStorage.removeItem("tempFamilyTree")}};P.useEffect(()=>{b&&Ta()},[b]);const Da=async()=>{if(!b||!_){pe(!1);return}try{const O={"X-User-ID":b};t&&(O.Authorization=`Bearer ${t}`);const V=await fetch(`${Ve}/premium/status?familyId=${_}`,{headers:O});if(V.ok){const Z=(await V.json()).some(Q=>Q.is_premium&&(!Q.expires_at||new Date(Q.expires_at)>new Date));pe(Z)}}catch(O){console.error("Error checking premium status:",O),pe(!1)}};P.useEffect(()=>{Da()},[_,b,t]),P.useEffect(()=>{ge.length>0&&we(Re(ge))},[ce]);const $a=async()=>{if(!b||!_){alert("User not authenticated or no family selected");return}ue(!0);try{const O={"Content-Type":"application/json","X-User-ID":b};t&&(O.Authorization=`Bearer ${t}`);const V=await fetch(`${Ve}/premium/activate`,{method:"POST",headers:O,body:JSON.stringify({familyId:_,paymentMethod:"mpesa"})});if(V.ok){const U=await V.json();alert(`Premium activated successfully! Payment reference: ${U.paymentReference}`),pe(!0);const Z={id:`premium-${Date.now()}`,message:" Premium subscription activated! You can now upload photos of family members by double-clicking on nodes.",created_at:new Date().toISOString()};T(Q=>[Z,...Q])}else{const U=await V.json();alert(`Failed to activate premium: ${U.error}`)}}catch(O){console.error("Error activating premium:",O),alert("Failed to activate premium. Please try again.")}finally{ue(!1)}},Ji=async()=>{if(!p||!b){alert("No family selected or user not authenticated.");return}if(!e){r(!0);return}try{const O={"Content-Type":"application/json","X-User-ID":b};if(t&&(O.Authorization=`Bearer ${t}`),_){const V=await fetch(`${Ve}/family-tree/${_}`,{method:"PUT",headers:O,body:JSON.stringify({data:{nodes:ge,edges:Le}})});if(!V.ok){let Z=await V.text(),Q=Z;try{const fe=JSON.parse(Z);Q=fe.details||fe.error||Z}catch{}alert(`Failed to update family tree. Server response: ${Q}`);return}const U={name:p,nodes:ge,edges:Le,timestamp:Date.now()};localStorage.setItem("currentFamilyTree",JSON.stringify(U)),alert("Family tree updated successfully.")}else{const V=p.trim(),U=await fetch(`${Ve}/family-tree`,{method:"POST",headers:O,body:JSON.stringify({name:V,data:{nodes:ge,edges:Le}})});if(U.status===409){alert(`A family tree with the name "${V}" already exists. Please change the family name in the input field below and try saving again.`);return}if(!U.ok){let fe=await U.text(),_e=fe;try{const ye=JSON.parse(fe);_e=ye.details||ye.error||fe}catch{}alert(`Failed to save new family tree. Server response: ${_e}`);return}const Z=await U.json();alert(`Family tree saved successfully as '${V}'.
Access Code: ${Z.accessCode}`),y(V),R(Z.family.id),C(Z.accessCode),z(!0);const Q={name:V,nodes:ge,edges:Le,timestamp:Date.now()};localStorage.setItem("currentFamilyTree",JSON.stringify(Q)),await zn()}}catch(O){console.error("Error saving family tree:",O),alert("Error saving family tree. See console for details.")}},es=async()=>{try{const O={"Content-Type":"application/json","X-User-ID":b};if(t&&(O.Authorization=`Bearer ${t}`),!(await fetch(`${Ve}/family-tree/${_}/hide`,{method:"POST",headers:O})).ok)throw new Error("Failed to hide family tree");alert("Family tree removed from your view"),y(null),R(null),we([]),be([]),z(!1),zn()}catch(O){console.error("Error hiding family tree:",O),alert("Failed to hide family tree")}},La=async()=>{try{const O={"Content-Type":"application/json","X-User-ID":b};t&&(O.Authorization=`Bearer ${t}`);const V=await fetch(`${Ve}/family-tree/${_}`,{method:"DELETE",headers:O});if(!V.ok){let U="Failed to delete family tree";try{U=(await V.json()).error||U}catch{}throw new Error(U)}alert("Family tree deleted successfully"),y(null),R(null),we([]),be([]),z(!1),zn()}catch(O){console.error("Error deleting family tree:",O),y(null),R(null),we([]),be([]),z(!1),zn()}},Ra=async()=>{if(!ae.trim()){alert("Family name cannot be empty");return}if(ae.trim()===p){X(!1);return}try{const O={"Content-Type":"application/json","X-User-ID":b};t&&(O.Authorization=`Bearer ${t}`);const V=await fetch(`${Ve}/family-tree/${_}/name`,{method:"PUT",headers:O,body:JSON.stringify({name:ae.trim()})});if(!V.ok){const U=await V.json();throw new Error(U.error||"Failed to update family name")}y(ae.trim()),v(`${window.location.href}?family=${encodeURIComponent(ae.trim())}`),X(!1),alert("Family name updated successfully!")}catch(O){console.error("Error updating family name:",O),alert("Failed to update family name: "+O.message)}},Re=O=>O.map(V=>({...V,data:{...V.data,onAddParent:za,onAddChild:Oa,onAddSpouse:Aa,onUpdateNode:ts,isPremium:ce,familyId:_,userId:b,token:t}}));function ts(O,V){we(U=>U.map(Z=>Z.id===O?{...Z,data:{...Z.data,name:V.name,details:V.details,spouseLink:V.spouseLink}}:Z))}function za(O){S(V=>{const U=`parent-${V}`,Z=ge.find(ye=>ye.id===O),Q=Z?Z.position:{x:0,y:0},fe={id:U,type:"familyNode",data:{name:"New Parent",details:"Double-click to edit"},position:Q},_e={id:`e-${U}-${O}`,source:U,target:O,type:"smoothstep",animated:!0,style:{strokeWidth:2}};return be(ye=>{const je=[...ye,_e];return we(Bt=>{const ze=[...Bt,fe],{nodes:ot}=Vt(ze,je);return Re(ot)}),je}),V+1})}function Oa(O){S(V=>{const U=`child-${V}`,Z=ge.find(ye=>ye.id===O),Q=Z?Z.position:{x:0,y:0},fe={id:U,type:"familyNode",data:{name:"New Child",details:"Double-click to edit"},position:Q},_e={id:`e-${O}-${U}`,source:O,target:U,type:"smoothstep",animated:!0,style:{strokeWidth:2}};return be(ye=>{const je=[...ye,_e];return we(Bt=>{const ze=[...Bt,fe],{nodes:ot}=Vt(ze,je);return Re(ot)}),je}),V+1})}function Aa(O){S(V=>{const U=`spouse-${V}`,Z=ge.find(ye=>ye.id===O),Q=Z?Z.position:{x:0,y:0},fe={id:U,type:"familyNode",data:{name:"Spouse",details:"Double-click to edit"},position:Q},_e={id:`e-${O}-${U}`,source:O,target:U,type:"straight",animated:!1,style:{strokeWidth:3,stroke:"#e91e63",strokeDasharray:"5,5"},label:""};return be(ye=>{const je=[...ye,_e];return we(Bt=>{const ze=[...Bt,fe],{nodes:ot}=Vt(ze,je);return Re(ot)}),je}),V+1})}const Fa=async O=>{if(typeof O=="object"&&O.data)try{const V=await fetch(`${Ve}/family-tree/${O.id}`,{headers:{"X-User-ID":b}});if(!V.ok)throw new Error("Failed to load latest family tree from server");const U=await V.json(),{nodes:Z,edges:Q}=Vt(U.data.nodes,U.data.edges);we(Re(Z)),be(Q),y(U.name),R(U.id),z(!0),v(`${window.location.href}?family=${encodeURIComponent(U.name)}`)}catch(V){console.error("Error fetching latest family data:",V);const{nodes:U,edges:Z}=Vt(O.data.nodes,O.data.edges);we(Re(U)),be(Z),y(O.name),R(O.id),z(!0),v(`${window.location.href}?family=${encodeURIComponent(O.name)}`)}else{const V=O,U=z5[V],{nodes:Z,edges:Q}=Vt(U.nodes,U.edges);we(Re(Z)),be(Q),y(V),z(!1),v(`${window.location.href}?family=${encodeURIComponent(V)}`)}},Ba=async O=>{if(!b){alert("User not authenticated.");return}const V={nodes:Array.isArray(Lu)&&Lu.length>0?Lu.map(Q=>({...Q,data:{...Q.data,name:Q.data.name,details:Q.data.details}})):[],edges:Array.isArray(Ru)&&Ru.length>0?[...Ru]:[]},{nodes:U,edges:Z}=Vt(V.nodes,V.edges);we(Re(U)),be(Z),y(O),z(!0),v(`${window.location.href}?family=${encodeURIComponent(O)}`);try{const Q=await fetch(`${Ve}/family-tree`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":b},body:JSON.stringify({name:O,data:{nodes:U,edges:Z}})});if(Q.status===409){alert(`A family tree with the name "${O}" already exists. Please choose a different name.`);return}if(!Q.ok){let _e=await Q.text(),ye=_e;try{const je=JSON.parse(_e);ye=je.details||je.error||_e}catch{}alert(`Failed to save new family tree. Server response: ${ye}`);return}const fe=await Q.json();R(fe.family.id),C(fe.accessCode),z(!0),zn()}catch(Q){alert(`Error saving new family tree: ${(Q==null?void 0:Q.message)||Q}`),console.error("Error saving new family tree:",Q)}},Ha=async(O,V)=>{if(!b){alert("User not authenticated.");return}try{const U=await fetch(`${Ve}/family-tree/access`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":b},body:JSON.stringify({familyName:O,accessCode:V})});if(!U.ok){if(U.status===403)alert("Invalid family name or access code.");else throw new Error("Failed to access family tree");return}const Z=await U.json(),{family:Q,isAdmin:fe}=Z,{nodes:_e,edges:ye}=Vt(Q.data.nodes,Q.data.edges);we(Re(_e)),be(ye),y(Q.name),R(Q.id),C(Q.access_code),z(fe),v(`${window.location.href}?family=${encodeURIComponent(Q.name)}`),alert(`Successfully accessed "${Q.name}" family tree.`)}catch(U){console.error("Error accessing family tree:",U),alert("Error accessing family tree. See console for details.")}},ns=async O=>{if(!b||!_){alert("User not authenticated or no family selected.");return}try{const V=await fetch(`${Ve}/family-tree/${_}/admin`,{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":b},body:JSON.stringify({newAdminEmail:O})});if(!V.ok){if(V.status===403)alert("Only admins can add other admins.");else if(V.status===404)alert("User with this email not found.");else if(V.status===409)alert("User is already an admin of this family.");else throw new Error("Failed to add admin");return}alert("Admin added successfully!")}catch(V){console.error("Error adding admin:",V),alert("Error adding admin. See console for details.")}},rs=async()=>{if(!b||!_){alert("User not authenticated or no family selected.");return}try{const O=await fetch(`${Ve}/family-tree/${_}/regenerate-code`,{method:"POST",headers:{"X-User-ID":b}});if(!O.ok){if(O.status===403)alert("Only admins can regenerate access codes.");else throw new Error("Failed to regenerate access code");return}const V=await O.json();C(V.accessCode),alert(`Access code regenerated successfully!
New Code: ${V.accessCode}`)}catch(O){console.error("Error regenerating access code:",O),alert("Error regenerating access code. See console for details.")}},ja=P.useCallback(O=>be(V=>fg({...O,type:"smoothstep",animated:!0,style:{strokeWidth:2}},V)),[]),zr=P.useCallback(O=>{const{nodes:V,edges:U}=Vt(ge,Le,O);we(Re(V)),be(U)},[ge,Le]),Or=P.useCallback(async(O=!1)=>{try{const V=O?"premium":"free",U=ge.map(Ye=>({...Ye,data:{...Ye.data,exportMode:V}}));we(Re(U)),await new Promise(Ye=>setTimeout(Ye,100));const Z=document.querySelectorAll(".control-panel"),Q=document.querySelector(".admin-dashboard-modal"),fe=document.querySelector(".react-flow__attribution"),_e=Array.from(Z).map(Ye=>Ye.style.display),ye=Q==null?void 0:Q.style.display,je=fe==null?void 0:fe.style.display;Z.forEach(Ye=>{Ye.style.display="none"}),Q&&(Q.style.display="none"),fe&&(fe.style.display="none");const Bt=Le.map(Ye=>{var Ar;return{...Ye,animated:!1,style:{...Ye.style,stroke:((Ar=Ye.style)==null?void 0:Ar.stroke)||"#374151",strokeWidth:4}}});be(Bt),await new Promise(Ye=>setTimeout(Ye,300));const ze=D5(U),ot=200,$o=800,Lo=600,ss=4e3,ls=4e3,as=ze.width+ot*2,us=ze.height+ot*2,cs=as<=$o&&us<=Lo;let Dt,Ht;cs?(Dt=Math.max(as,400),Ht=Math.max(us+50,300)):(Dt=Math.max($o,Math.min(ss,ze.width+ot*2)),Ht=Math.max(Lo,Math.min(ls,ze.height+ot*2)),ze.width>ze.height*2?(Dt=Math.min(ss,ze.width+ot*2),Ht=Math.max(Lo,Dt*.6)):ze.height>ze.width*2&&(Ht=Math.min(ls,ze.height+ot*2),Dt=Math.max($o,Ht*.6))),console.log(`Exporting ${ge.length} nodes with dimensions: ${Dt}x${Ht}`),console.log(`Content bounds: ${ze.width}x${ze.height}, isSmallFamily: ${cs}`);const Ro=$5(ze,Dt,Ht,.1,1.5),Va=await T5(document.querySelector(".react-flow__viewport"),{backgroundColor:"transparent",width:Dt,height:Ht,pixelRatio:1,style:{width:Dt,height:Ht,transform:`translate(${Ro.x}px, ${Ro.y}px) scale(${Ro.zoom})`}});be(Le),we(Re(ge)),Z.forEach((Ye,Ar)=>{Ye.style.display=_e[Ar]||""}),Q&&(Q.style.display=ye||""),fe&&(fe.style.display=je||"");const Wa=new Date().toISOString().slice(0,19).replace(/:/g,"-"),ds=`${p||"family-tree"}-${Wa}.png`;L5(Va,ds),alert(`Family tree exported successfully as "${ds}"!`),console.log("Family tree exported successfully!")}catch(V){console.error("Export failed:",V),be(Le),we(Re(ge));const U=document.querySelectorAll(".control-panel"),Z=document.querySelector(".admin-dashboard-modal"),Q=document.querySelector(".react-flow__attribution");U.forEach(fe=>{fe.style.display=""}),Z&&(Z.style.display=""),Q&&(Q.style.display=""),alert("Export failed. Please try again.")}},[p,ge,Le,be,we,Re]),os=()=>{g(O=>O==="light"?"dark":"light")},is=()=>{navigator.clipboard.writeText(m),alert("Shareable link copied to clipboard!")};return an.useEffect(()=>{const O=()=>{const{nodes:V,edges:U}=Vt(ge,Le);we(Re(V)),be(U)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[ge,Le]),p?H("div",{ref:u,className:`flow-container ${h}`,children:[n&&x(lw,{mode:o,onLogin:s,onSignup:l,onSwitchMode:()=>i(o==="login"?"signup":"login"),onClose:()=>{r(!1)}}),G&&x(A5,{isOpen:G,onClose:()=>X(!1),currentName:p||"",onSave:Ra,value:ae,onChange:ie}),te&&x(F5,{isOpen:te,onClose:()=>{J(!1),re("")},familyName:p||"",confirmName:se,onConfirmNameChange:re,onConfirm:()=>{La(),J(!1),re("")}}),K&&x(H5,{isOpen:K,onClose:()=>Y(!1),onExportFree:()=>Or(!1),onExportPremium:()=>{Or(!0)},isPremium:ce,onActivatePremium:$a,isActivating:ee,onShowPremiumChoice:()=>le(!0)}),ne&&x(B5,{isOpen:ne,onClose:()=>le(!1),onExportPhoto:()=>{Or(!0),le(!1)},onExportNode:()=>{Or(!1),le(!1)}}),($e||nn||Tt||Rn)&&x("div",{className:"drawer-overlay active",onClick:()=>{Ze(!1),It(!1),rn(!1),on(!1)}}),H("div",{className:"mobile-drawer-toggles",children:[x("button",{className:"drawer-toggle left-toggle",onClick:()=>Ze(!$e),title:"Layout & View Controls",children:""}),x("button",{className:"drawer-toggle right-toggle",onClick:()=>It(!nn),title:"Family & Export Controls",children:""}),x("button",{className:"drawer-toggle bottom-toggle",onClick:()=>rn(!Tt),title:"Messages",children:""}),B&&x("button",{className:"drawer-toggle admin-toggle",onClick:()=>on(!Rn),title:"Admin Dashboard",children:""})]}),H("div",{className:`drawer left-drawer ${$e?"open":""}`,children:[H("div",{className:"drawer-header",children:[x("h4",{children:"Controls"}),x("button",{className:"drawer-close",onClick:()=>Ze(!1),children:""})]}),H("div",{className:"drawer-content",children:[H("div",{className:"panel-section",children:[x("h4",{children:"Layout"}),x("button",{className:"control-btn",onClick:()=>zr("TB"),children:" Vertical"}),x("button",{className:"control-btn",onClick:()=>zr("LR"),children:" Horizontal"})]}),H("div",{className:"panel-section",children:[x("h4",{children:"View"}),x("button",{className:"control-btn",onClick:()=>c(),children:"+ Zoom In"}),x("button",{className:"control-btn",onClick:()=>f(),children:"- Zoom Out"}),x("button",{className:"control-btn",onClick:()=>d(),children:" Fit View"})]})]})]}),H("div",{className:`drawer right-drawer ${nn?"open":""}`,children:[H("div",{className:"drawer-header",children:[x("h4",{children:"Family & Export"}),x("button",{className:"drawer-close",onClick:()=>It(!1),children:""})]}),H("div",{className:"drawer-content",children:[H("div",{className:"panel-section",children:[H("div",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[x("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1e293b"},children:p||"Unnamed Family"}),B&&_&&x("button",{onClick:()=>{ie(p||""),X(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px",color:"#64748b",fontSize:"16px",transition:"color 0.2s ease"},onMouseEnter:O=>O.target.style.color="#3b82f6",onMouseLeave:O=>O.target.style.color="#64748b",title:"Edit family name",children:""})]}),x("button",{className:"control-btn",onClick:is,children:" Copy Link"}),_&&H("button",{className:"control-btn",onClick:()=>{if(!e){alert("Please log in to delete family trees");return}if(B)re(""),J(!0);else{const O=`Are you sure you want to remove "${p}" from your view? It will still be available to other members.`;if(!confirm(O))return;es()}},children:[" ",B?"Delete for All":"Remove from My View"]}),x("button",{className:"control-btn",onClick:()=>y(null),children:" Family Menu"})]}),H("div",{className:"panel-section",children:[x("h4",{children:"Export & Theme"}),x("button",{className:"control-btn",onClick:()=>{ce?le(!0):Y(!0)},children:" Export PNG"}),x("button",{className:"control-btn",onClick:Ji,children:" Save Family Tree"}),x("button",{className:"control-btn",onClick:os,children:h==="light"?" Dark":" Light"}),ce&&x("div",{style:{marginTop:"8px",padding:"4px 6px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 50%)",borderRadius:"4px",border:"1px solid #f59e0b",fontSize:"10px",color:"#92400e",textAlign:"center",lineHeight:"1.2"},children:x("div",{style:{fontWeight:"600"},children:" Premium Active"})})]})]})]}),e&&H("div",{className:`drawer bottom-drawer ${Tt?"open":""}`,children:[H("div",{className:"drawer-header",children:[x("h4",{children:"Messages"}),x("button",{className:"drawer-close",onClick:()=>rn(!1),children:""})]}),x("div",{className:"drawer-content",children:x("div",{style:{padding:"8px"},children:D.length===0?x("div",{style:{padding:"16px",textAlign:"center",color:"#64748b",fontStyle:"italic"},children:"No new notifications"}):D.map(O=>H("div",{style:{padding:"12px",borderBottom:"1px solid #f1f5f9",background:O.is_read?"rgba(255, 255, 255, 0.8)":"rgba(59, 130, 246, 0.1)",borderRadius:"6px",marginBottom:"8px",borderLeft:O.message_type==="premium"?"4px solid #f59e0b":O.message_type==="welcome"?"4px solid #10b981":"4px solid #6b7280"},children:[x("div",{style:{fontSize:"14px",color:"#1e293b",marginBottom:"4px",fontWeight:O.is_read?"normal":"600"},children:O.message}),H("div",{style:{fontSize:"12px",color:"#64748b",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x("span",{children:new Date(O.created_at).toLocaleString()}),O.family_name&&x("span",{style:{fontStyle:"italic"},children:O.family_name})]})]},O.id))})})]}),B&&H("div",{className:`drawer admin-drawer ${Rn?"open":""}`,children:[H("div",{className:"drawer-header",children:[x("h4",{children:"Admin Dashboard"}),x("button",{className:"drawer-close",onClick:()=>on(!1),children:""})]}),x("div",{className:"drawer-content",children:x(Tp,{currentFamily:p,currentFamilyId:_,accessCode:A,userId:b||"",onRegenerateCode:rs,onAddAdmin:ns,theme:h,compact:!0,showQuickAction:!1,isModal:!1})})]}),H(M_,{nodes:ge,edges:Le,onNodesChange:_a,onEdgesChange:Na,onConnect:ja,nodeTypes:R5,connectionLineType:En.SmoothStep,defaultViewport:{x:0,y:0,zoom:.9},fitView:!0,fitViewOptions:{padding:.3},minZoom:.1,maxZoom:2,children:[x(Kn,{position:"top-left",className:"control-panel",children:H("div",{className:"panel-section",children:[x("h4",{children:"Layout"}),x("button",{className:"control-btn",onClick:()=>zr("TB"),children:" Vertical"}),x("button",{className:"control-btn",onClick:()=>zr("LR"),children:" Horizontal"})]})}),x(Kn,{position:"top-right",className:"control-panel",children:H("div",{className:"panel-section",children:[x("h4",{children:"View"}),x("button",{className:"control-btn",onClick:()=>c(),children:"+ Zoom In"}),x("button",{className:"control-btn",onClick:()=>f(),children:"- Zoom Out"}),x("button",{className:"control-btn",onClick:()=>d(),children:" Fit View"}),e&&H(ft,{children:[x("hr",{style:{margin:"8px 0",border:"none",borderTop:"1px solid #e2e8f0"}}),H("button",{className:"control-btn",onClick:()=>{if(L(!N),!N){const O=D.filter(V=>!V.is_read).map(V=>V.id);O.length>0&&Ma(O)}},style:{background:F>0?"#3b82f6":"#6b7280",position:"relative"},children:[" Messages",F>0&&x("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#ef4444",color:"white",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:F})]}),N&&H("div",{style:{position:"absolute",top:"100%",right:0,background:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(10px)",minWidth:"300px",maxWidth:"400px",maxHeight:"400px",overflowY:"auto",zIndex:1001,marginTop:"8px"},children:[x("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",fontWeight:"600",color:"#1e293b"},children:"Notifications"}),x("div",{style:{padding:"8px"},children:D.length===0?x("div",{style:{padding:"16px",textAlign:"center",color:"#64748b",fontStyle:"italic"},children:"No new notifications"}):D.map(O=>H("div",{style:{padding:"12px",borderBottom:"1px solid #f1f5f9",background:O.is_read?"rgba(255, 255, 255, 0.8)":"rgba(59, 130, 246, 0.1)",borderRadius:"6px",marginBottom:"8px",borderLeft:O.message_type==="premium"?"4px solid #f59e0b":O.message_type==="welcome"?"4px solid #10b981":"4px solid #6b7280"},children:[x("div",{style:{fontSize:"14px",color:"#1e293b",marginBottom:"4px",fontWeight:O.is_read?"normal":"600"},children:O.message}),H("div",{style:{fontSize:"12px",color:"#64748b",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x("span",{children:new Date(O.created_at).toLocaleString()}),O.family_name&&x("span",{style:{fontStyle:"italic"},children:O.family_name})]})]},O.id))})]})]})]})}),x(Kn,{position:"bottom-left",className:"control-panel",children:H("div",{className:"panel-section",children:[H("div",{style:{marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[x("span",{style:{fontSize:"14px",fontWeight:"500",color:"#1e293b"},children:p||"Unnamed Family"}),B&&_&&x("button",{onClick:()=>{ie(p||""),X(!0)},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",borderRadius:"4px",color:"#64748b",fontSize:"16px",transition:"color 0.2s ease"},onMouseEnter:O=>O.target.style.color="#3b82f6",onMouseLeave:O=>O.target.style.color="#64748b",title:"Edit family name",children:""})]}),x("button",{className:"control-btn",onClick:is,children:" Copy Link"}),_&&H("button",{className:"control-btn",onClick:()=>{if(!e){alert("Please log in to delete family trees");return}if(B)re(""),J(!0);else{const O=`Are you sure you want to remove "${p}" from your view? It will still be available to other members.`;if(!confirm(O))return;es()}},children:[" ",B?"Delete for All":"Remove from My View"]}),x("button",{className:"control-btn",onClick:()=>y(null),children:" Family Menu"})]})}),x(Kn,{position:"bottom-right",className:"control-panel",children:H("div",{className:"panel-section",children:[x("h4",{children:"Export & Theme"}),x("button",{className:"control-btn",onClick:()=>{ce?le(!0):Y(!0)},children:" Export PNG"}),x("button",{className:"control-btn",onClick:Ji,children:" Save Family Tree"}),x("button",{className:"control-btn",onClick:os,children:h==="light"?" Dark":" Light"}),ce&&x("div",{style:{marginTop:"8px",padding:"4px 6px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 50%)",borderRadius:"4px",border:"1px solid #f59e0b",fontSize:"10px",color:"#92400e",textAlign:"center",lineHeight:"1.2"},children:x("div",{style:{fontWeight:"600"},children:" Premium Active"})})]})}),B&&$&&x(Hi,{handle:".admin-dashboard-modal-header",children:x(Tp,{currentFamily:p,currentFamilyId:_,accessCode:A,userId:b||"",onRegenerateCode:rs,onAddAdmin:ns,theme:h,compact:!0,showQuickAction:!1,isModal:!0})}),B&&!$&&x("button",{style:{position:"fixed",top:20,right:20,zIndex:1001,background:h==="dark"?"#333":"#fff",border:"1px solid #888",borderRadius:6,padding:"6px 14px",fontWeight:600,cursor:"pointer"},onClick:()=>I(!0),children:"Open Admin Dashboard"}),x(z_,{color:h==="dark"?"#333":"#aaa",gap:16})]})]}):x(O5,{onSelectFamily:Fa,onCreateNew:Ba,savedFamilies:E,onAccessWithCode:Ha,user:e,onLogin:s,onSignup:l,onLogout:a,onShowAuthModal:()=>{i("login"),r(!0)}})};function V5(){const[e,t]=P.useState(null),[n,r]=P.useState(null),[o,i]=P.useState(!1),[s,l]=P.useState("login");P.useEffect(()=>{const f=localStorage.getItem("authToken"),d=localStorage.getItem("authUser");f&&d&&(r(f),t(JSON.parse(d)))},[]);const a=async(f,d)=>{try{const h=localStorage.getItem("userId"),g=await fetch(`${Ve}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:d,guestUserId:h})}),w=await g.json();g.ok?(t(w.user),r(w.token),localStorage.setItem("authToken",w.token),localStorage.setItem("authUser",JSON.stringify(w.user)),localStorage.setItem("userId",w.user.id),i(!1),window.location.reload()):alert(w.error||"Login failed")}catch{alert("Login failed")}},u=async(f,d)=>{try{const h=await fetch(`${Ve}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:d})}),g=await h.json();h.ok?(t(g.user),r(g.token),localStorage.setItem("authToken",g.token),localStorage.setItem("authUser",JSON.stringify(g.user)),i(!1)):alert(g.error||"Signup failed")}catch{alert("Signup failed")}};return H("div",{style:{width:"100vw",height:"100vh"},children:[x(nv,{children:x(j5,{user:e,token:n,showAuthModal:o,setShowAuthModal:i,authMode:s,setAuthMode:l,onLogin:a,onSignup:u,onLogout:()=>{t(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}})}),o&&x(lw,{mode:s,onLogin:a,onSignup:u,onSwitchMode:()=>l(s==="login"?"signup":"login"),onClose:()=>{i(!1)}})]})}var aw,am=Ei;aw=am.createRoot,am.hydrateRoot;const W5=document.querySelector("#app"),U5=aw(W5);U5.render(x(V5,{}));
